import{j as e,r,R as js}from"./react-6a422704.js";import{c as bs}from"./react-dom-81c1590d.js";import{a as Me}from"./axios-28bc18a3.js";import{a as ge,d as ys,b as je,O as Le,e as Ns,f as F}from"./react-router-f392dce8.js";import{H as Re,a as De,b as Ae,I as Oe,A as ws,F as vs,c as Ss,d as ks,B as Cs,e as $s,f as Rs,P as Ds,g as As,h as Ts,i as Is,j as Fs,k as Es,l as Ps,m as Ms,n as Ls,o as Os,p as zs,q as Us,r as _s,s as Bs,C as Vs,t as Hs,u as qs,M as Gs}from"./react-icons-fdb6416e.js";import{c as Ks}from"./clsx-1229b3e0.js";import{t as Qs}from"./tailwind-merge-1166cefb.js";import{$ as ze,a as Ue,b as _e,c as Ys,d as Be,e as Ve,f as Ws,g as He,h as Js,i as qe,j as Ge,k as Xs,l as Zs,m as Ke,n as ea,o as ta,p as Qe,q as Ye,r as sa,s as We,t as Je,u as Xe,v as Ze,w as et,x as tt,y as st,z as aa,A as ra,B as oa,C as at,D as rt,E as ot,F as lt,G as nt,H as it,I as la,J as ct,K as dt,L as mt,M as xt,N as ut,O as ht,P as pt,Q as ft,R as na,S as ia,T as ca,U as gt,V as jt,W as bt,X as yt,Y as Nt,Z as wt,_ as da,a0 as ma,a1 as xa,a2 as ua,a3 as ha}from"./@radix-ui-0ce82985.js";import{c as le}from"./class-variance-authority-52f2569e.js";import{L as z,B as pa}from"./react-router-dom-d16104f1.js";import{t as be}from"./@hookform-d2aa860b.js";import{u as fa,F as ga,C as ja,b as ye}from"./react-hook-form-0ee7bca8.js";import{C as vt,a as ba,b as St,L as ya,c as Na,d as wa,A as ie,X as kt,I as va}from"./lucide-react-816cb9e9.js";import{o as Ne,s as U,a as Sa}from"./zod-6a28afb7.js";import{u as ka,f as Te,g as Ca,a as $a,b as Ra,c as Da}from"./@tanstack-042dfece.js";import"./scheduler-765c72db.js";import"./@remix-run-8989dd9f.js";import"./@babel-98964cd2.js";import"./aria-hidden-606e0ff2.js";import"./react-remove-scroll-5d6d93de.js";import"./tslib-89fde298.js";import"./react-remove-scroll-bar-0babf0e5.js";import"./react-style-singleton-c9b02a91.js";import"./get-nonce-1ea010b7.js";import"./use-sidecar-1e201c94.js";import"./use-callback-ref-601dd590.js";import"./@floating-ui-3c17d046.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(l){if(l.ep)return;l.ep=!0;const n=a(l);fetch(l.href,n)}})();const Aa=()=>e.jsx(e.Fragment,{children:e.jsx("h1",{children:"About"})}),{VITE_API_BASE_URL:Ta}={VITE_API_BASE_URL:"https://welltalk.onrender.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},Ie=localStorage.getItem("token"),Ia="/authenticate",Fa="/users/register",S=Me.create({baseURL:Ta});Ie?S.defaults.headers.common.Authorization=`${Ie}`:delete S.defaults.headers.common.Authorization;const Ea=({isOpen:t,onClose:s,onConfirm:a})=>e.jsx(e.Fragment,{children:t&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center z-50 bg-black bg-opacity-75",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Confirmation"}),e.jsx("p",{children:"Are you sure you want to accept this referral?"}),e.jsxs("div",{className:"flex justify-end mt-4",children:[e.jsx("button",{className:"bg-gray-300 text-gray-700 rounded-md p-2",onClick:s,children:"Cancel"}),e.jsx("button",{className:"bg-primary text-white rounded-md p-2 ml-2",onClick:()=>{a()},children:"Confirm"})]})]})})}),Pa=()=>{const[t,s]=r.useState([]),[a,o]=r.useState(!1),[l,n]=r.useState(),[c,x]=r.useState(0);ge(),r.useEffect(()=>{const i={headers:{Authorization:`${localStorage.getItem("token")}`}};S.get("/referrals",i).then(u=>{s(u.data.filter(w=>!w.isAccepted)),console.log(u.data)}).catch(u=>{console.error("Error retrieving referrals:",u)})},[c]);const m=i=>{n(i),o(!0)},f=()=>{o(!1)},h=()=>{S.put(`/referrals/${l==null?void 0:l.id}`,{},{headers:{Authorization:`${localStorage.getItem("token")}`}}).then(i=>{console.log("Referral updated successfully",i.data),x(Math.random()),o(!1)}).catch(i=>{console.error("Error updating referral:",i)})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" overflow-y-auto",children:t.length===0?e.jsx("p",{className:" text-gray-500 text-sm p-2",children:"No referrals yet."}):e.jsx("ul",{className:" p-2",children:t.map(i=>e.jsxs("li",{className:"border-b px-2 rounded-md shadow-sm py-2 border mb-2",children:[e.jsxs("p",{children:[i.student.firstname," ",i.student.lastname]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:" flex gap-2",children:[e.jsxs("div",{className:"text-gray-500 text-sm",children:["Course & Year:"," ",e.jsxs("span",{className:"text-primary",children:[i.student.course," - ",i.student.year]})]}),e.jsxs("div",{className:"text-gray-500 text-sm",children:["Student ID: ",e.jsx("span",{className:"text-primary",children:i.student.studentID})]})]}),e.jsxs("div",{className:"text-gray-500 text-sm",children:["Referred by:"," ",e.jsxs("span",{className:"text-primary",children:[i.teacher.firstName," ",i.teacher.lastName]})]}),e.jsxs("div",{className:"text-gray-500 text-sm mb-1",children:["Reason:"," ",e.jsx("div",{className:" bg-gray-300 border rounded p-2",children:e.jsx("i",{className:"text-black flex flex-grow w-full break-all",children:i.reason})})]})]}),e.jsx("button",{onClick:()=>m(i),className:"text-xs bg-primary text-white rounded-md p-1 focus:bg-tertiary active:bg-tertiary",children:"Accept"})]},i.id))})}),e.jsx(Ea,{isOpen:a,onClose:f,onConfirm:h})]})},Ct=()=>{const[t,s]=r.useState(""),[a,o]=r.useState(""),[l,n]=r.useState([]),[c,x]=r.useState(!1),[m,f]=r.useState(""),h=async()=>{const y={headers:{Authorization:`${localStorage.getItem("token")}`}};return(await S.get("https://wanted-sweater-production.up.railway.app/getAllUser",y)).data};return{selectedStudent:t,value:t,setValue:s,query:a,setQuery:o,studentID:m,setStudentId:f,results:l,setResults:n,showResultsDropdown:c,setShowResultsDropdown:x,useFetchStudents:()=>{const[y,A]=r.useState([]);return r.useEffect(()=>{(async()=>{const p=await h();A(p)})()},[]),{students:y}},handleQueryChange:(y,A,I,p,v,$)=>{const R=y.target.value;v(R),$(R);const _=A.filter(B=>B.firstName.toLowerCase().includes(R.toLowerCase())||B.lastName.toLowerCase().includes(R.toLowerCase()));I(_),p(_.length>0)},handleStudentInput:(y,A,I,p,v,$)=>{p(y),v([]),$("");const R=A.find(_=>_.firstName+" "+_.lastName===y);R&&I(R.studentID.toString())},handleClear:()=>{s(""),n([]),o("")}}},Ma=()=>{const[t,s]=r.useState(""),[a,o]=r.useState(""),[l,n]=r.useState(!1),[c,x]=r.useState(!1),m=async(i,u)=>{const w=new Date;if(new Date(`${t}T${a}`)<w){alert("Appointment date and time must not be before the current date and time"),h();return}const y={headers:{Authorization:`${localStorage.getItem("token")}`}},A={start_date:`${t}T${a}`},I={dateTime:`${t}T${a}`};try{if(u){const p=await S.post("/availableschedules",I,y);console.log(p.data),alert("Schedule created successfully")}else{const p=await S.get("https://wanted-sweater-production.up.railway.app/getAllUser"),v=p.data[0]._id;console.log(p.data);const $=await S.post("/appointments?student="+v,A,y);console.log($.data),alert("Appointment set successfully")}h()}catch(p){console.error(u?"Error creating schedule:":"Error creating appointment:",p)}},f=i=>{const u=i.target.value;let[w,k]=u.split(":"),y="00";u.includes("pm")&&(w=(parseInt(w,10)+12).toString()),o(`${w}:${k}:${y}`)},h=()=>{s(""),o("")};return{startDate:t,setStartDate:s,startTime:a,setStartTime:o,showAnnounceSchedule:l,setShowAnnounceSchedule:n,showAppoinmentRequests:c,setShowAppoinmentRequests:x,handleSubmit:m,handleSelectTime:f,clearForm:h}},La=({isOpen:t,onClose:s,onConfirm:a})=>e.jsx(e.Fragment,{children:t&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center z-50 bg-black bg-opacity-75",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Confirmation"}),e.jsx("p",{children:"Are you sure you want to accept this request?"}),e.jsxs("div",{className:"flex justify-end mt-4",children:[e.jsx("button",{className:"bg-gray-300 text-gray-700 rounded-md p-2",onClick:s,children:"Cancel"}),e.jsx("button",{className:"bg-primary text-white rounded-md p-2 ml-2",onClick:()=>{a()},children:"Confirm"})]})]})})}),Oa=()=>{const[t,s]=r.useState([]),[a,o]=r.useState(!1),[l,n]=r.useState(),[c,x]=r.useState(0);ge(),r.useEffect(()=>{S.get("/requests/all").then(i=>{s(i.data.filter(u=>!u.decision)),console.log(i.data)}).catch(i=>{console.error("Error retrieving requests:",i)})},[c]);const m=i=>{n(i),o(!0)},f=()=>{o(!1)},h=()=>{S.put(`/requests/${l==null?void 0:l.id}`,{},{headers:{Authorization:`${localStorage.getItem("token")}`}}).then(i=>{console.log("Request updated successfully",i.data),x(Math.random()),o(!1)}).catch(i=>{console.error("Error updating request:",i)})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" overflow-y-auto",children:t.length===0?e.jsx("p",{className:" text-gray-500 text-sm p-2",children:"No requests yet."}):e.jsx("ul",{className:" p-2",children:t.map(i=>e.jsxs("li",{className:"border-b px-2 rounded-md shadow-sm py-2 border mb-2",children:[e.jsxs("p",{children:[i.student.firstname," ",i.student.lastname,e.jsxs("span",{className:" text-gray-400 text-xs",children:[" ","- ",new Date(i.date_created).toLocaleDateString()," ",i.time_created]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:" flex gap-2",children:[e.jsxs("div",{className:"text-gray-500 text-sm",children:["Course & Year:"," ",e.jsxs("span",{className:"text-primary",children:[i.student.course," - ",i.student.year]})]}),e.jsxs("div",{className:"text-gray-500 text-sm",children:["Student ID: ",e.jsx("span",{className:"text-primary",children:i.student.studentID})]})]}),e.jsxs("div",{className:"text-gray-500 text-sm mb-1 mt-2",children:["Message:"," ",e.jsx("div",{className:" bg-gray-300 border rounded p-2",children:e.jsx("i",{className:"text-black flex flex-grow w-full break-all",children:i.message})})]})]}),e.jsx("button",{onClick:()=>m(i),className:"text-xs bg-primary text-white rounded-md p-1 focus:bg-tertiary active:bg-tertiary",children:"Accept"})]},i.id))})}),e.jsx(La,{isOpen:a,onClose:f,onConfirm:h})]})};function d(...t){return Qs(Ks(t))}const H=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:d("rounded-lg border border-slate-200 bg-white text-slate-950 shadow-sm dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...s}));H.displayName="Card";const Z=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:d("flex flex-col space-y-1.5 p-6",t),...s}));Z.displayName="CardHeader";const X=r.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:d("text-2xl font-semibold leading-none tracking-tight",t),...s}));X.displayName="CardTitle";const xe=r.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:d("text-sm text-slate-500 dark:text-slate-400",t),...s}));xe.displayName="CardDescription";const G=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:d("p-6 pt-0",t),...s}));G.displayName="CardContent";const ee=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:d("flex items-center p-6 pt-0",t),...s}));ee.displayName="CardFooter";const we=le("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-primary-500 text-primary-500 hover:bg-primary-100 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-primary-100 text-primary-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-primary-500 underline-offset-4 hover:underline hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-full px-3",lg:"h-11 rounded-full px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),N=r.forwardRef(({className:t,variant:s,size:a,asChild:o=!1,...l},n)=>{const c=o?ze:"button";return e.jsx(c,{className:d(we({variant:s,size:a,className:t})),ref:n,...l})});N.displayName="Button";const za=()=>{const[t,s]=r.useState([]),[a,o]=r.useState(!0),[l,n]=r.useState(!0),[c,x]=r.useState(!1),[m,f]=r.useState(!1),[h,i]=r.useState(0);r.useEffect(()=>{const p={headers:{Authorization:`${localStorage.getItem("token")}`}};S.get("/myappointments",p).then(v=>{s(v.data.sort(($,R)=>new Date($.start_date).getTime()-new Date(R.start_date).getTime()).filter($=>!$.isDone)),console.log(v.data)}).catch(v=>{console.error("Error retrieving appointments:",v)})},[h]);const u=new Date().toLocaleDateString(),w=t.filter(p=>new Date(p.start_date).toLocaleDateString()===u),k=t.filter(p=>new Date(p.start_date).toLocaleDateString()!==u),y=()=>{x(!c)},A=()=>{f(!m)},I=p=>{const v={headers:{Authorization:`${localStorage.getItem("token")}`}};S.put(`/appointments/${p}`,{isDone:!0},v).then($=>{i(Math.random()),console.log($.data)}).catch($=>{console.error("Error marking appointment as done:",$)})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("h2",{className:"font-sans text-md top-0 pl-2",children:"Today's Appointments"}),e.jsx("div",{className:"flex items-center justify-between pr-2",onClick:y,children:c?e.jsx(Re,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>{o(!a)}}):e.jsx(De,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>{o(!a)}})})]}),w.length>0?e.jsx("ul",{className:`p-2 ${a?"":"hidden"}`,children:w.map((p,v)=>e.jsx("li",{children:e.jsxs(H,{className:"p-2 bg-primary-700",children:[e.jsxs("p",{className:" text-sm text-white ",children:["Student name: ","",p.student?e.jsxs("span",{className:" text-white underline underline-offset-2 font-semibold",children:[p.student.firstName," ",p.student.lastName]}):e.jsx("span",{className:" text-gray-500 font-semibold",children:"Not found"})]}),e.jsxs("p",{className:" text-sm text-white",children:["Appointed by: ","",p.counselor?e.jsxs("span",{className:" text-white underline underline-offset-2 font-semibold",children:[p.counselor.firstName," ",p.counselor.lastName]}):e.jsx("span",{className:"text-primary-200",children:"Not found"})]}),e.jsxs("p",{className:" text-sm text-white",children:["Date: ","",p.start_date?e.jsxs("span",{className:" text-white underline underline-offset-2 font-semibold",children:[new Date(p.start_date).toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"})," "]}):e.jsx("span",{className:"text-primary-200",children:"Not found"})]}),e.jsxs("p",{className:" text-white text-sm",children:["Start Time:"," ",e.jsx("span",{className:" text-white underline underline-offset-2 font-semibold",children:new Date(p.start_date).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0,second:void 0})})]}),e.jsx(N,{size:"sm",className:" rounded-md text-white",onClick:()=>I(p.id),variant:"default",children:"Mark as done"})]})},v))}):e.jsx("p",{className:`text-gray-500 text-sm p-2 ${a?"":"hidden"}`,children:"No appointments today."}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("h2",{className:"font-sans text-md top-0 pl-2",children:"Upcoming Appointments"}),e.jsx("div",{className:"flex items-center justify-between pr-2",onClick:A,children:m?e.jsx(Re,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>{n(!l)}}):e.jsx(De,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>{n(!l)}})})]}),k.length>0?e.jsx("ul",{className:`p-2 ${l?"":"hidden"}`,children:k.map((p,v)=>e.jsx("li",{children:e.jsxs(H,{className:"p-2 bg-primary-700",children:[e.jsxs("p",{className:" text-sm text-white ",children:["Student name: ","",p.student?e.jsxs("span",{className:" text-white underline underline-offset-2 font-semibold",children:[p.student.firstName," ",p.student.lastName]}):e.jsx("span",{className:" text-gray-500 font-semibold",children:"Not found"})]}),e.jsxs("p",{className:" text-sm text-white",children:["Appointed by: ","",p.counselor?e.jsxs("span",{className:" text-white underline underline-offset-2 font-semibold",children:[p.counselor.firstName," ",p.counselor.lastName]}):e.jsx("span",{className:"text-primary-200",children:"Not found"})]}),e.jsxs("p",{className:" text-sm text-white",children:["Date: ","",p.start_date?e.jsxs("span",{className:" text-white underline underline-offset-2 font-semibold",children:[new Date(p.start_date).toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"})," "]}):e.jsx("span",{className:"text-primary-200",children:"Not found"})]}),e.jsxs("p",{className:" text-white text-sm",children:["Start Time:"," ",e.jsx("span",{className:" text-white underline underline-offset-2 font-semibold",children:new Date(p.start_date).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0,second:void 0})})]}),e.jsx(N,{size:"sm",className:" rounded-md text-white",onClick:()=>I(p.id),variant:"default",children:"Mark as done"})]})},v))}):e.jsx("p",{className:`text-gray-500 text-sm p-2 ${l?"":"hidden"}`,children:"No upcoming appointments."})]})})},Ua=()=>{r.useState(new Date);const t={borderBottom:"2px solid #769EAB",background:"transparent",outline:"none",width:"100%",height:"40px",padding:"3px 3px",marginBottom:"16px",border:"1px solid #769EAB",borderRadius:"5px"},{useFetchStudents:s,handleQueryChange:a,handleStudentInput:o,value:l,setQuery:n,setValue:c,studentID:x,query:m,setStudentId:f,setResults:h,results:i,showResultsDropdown:u,setShowResultsDropdown:w,handleClear:k}=Ct(),{students:y}=s(),{startDate:A,setStartDate:I,startTime:p,showAnnounceSchedule:v,setShowAnnounceSchedule:$,showAppoinmentRequests:R,setShowAppoinmentRequests:_,handleSubmit:B,handleSelectTime:V,clearForm:Y}=Ma(),g=b=>{a(b,y,h,w,c,n)},C=r.useRef(null);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-grow gap-10 justify-center",children:[e.jsxs("div",{className:" bg-white w-80 rounded-lg shadow-2xl flex flex-col border pb-3 px-2",children:[e.jsxs("div",{className:"flex items-center justify-between border-b",children:[e.jsx("h1",{className:" font-semibold text-md top-0 py-4 pl-2",children:v?"Announce a Schedule":"Set an Appointment"}),e.jsx(Ae,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>$(!v)})]}),v?e.jsxs("form",{className:" px-3 pt-3",children:[e.jsx("label",{className:" text-sm text-gray-400",children:"Date"}),e.jsx("input",{name:"date",type:"date",style:t,autoComplete:"off",required:!0,value:A,onChange:b=>I(b.target.value)}),e.jsx("label",{className:" text-sm text-gray-400",children:"Time"}),e.jsx("input",{name:"time",type:"time",style:t,autoComplete:"off",required:!0,value:p,onChange:V}),e.jsx("button",{type:"submit",className:" text-sm bg-tertiary rounded-lg p-2 text-white hover:shadow-sm hover:shadow-secondary",onClick:()=>B(x,v),children:"SET SCHEDULE"})]}):e.jsxs("form",{className:" px-3 pt-3",onSubmit:()=>B(x,v),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{ref:C,type:"text",placeholder:"Student name",style:t,onChange:g,value:l,required:!0}),e.jsx("button",{className:"text-xs text-white mb-4 cursor-pointer bg-secondary rounded-md p-1 ml-2",onClick:k,children:"clear"})]}),u&&m&&e.jsx("ul",{className:"max-h-60 overflow-y-auto absolute w-full max-w-[250px] bg-white border border-gray-300 rounded-b-md",children:i.map(b=>e.jsxs("li",{className:" w-full border p-2 cursor-pointer hover:bg-gray-100 hover:shadow-lg hover:border-secondary",onClick:()=>o(b.firstName+" "+b.lastName,y,f,c,h,n),children:[e.jsxs("p",{className:"text-sm bold",children:[b.firstName," ",b.lastName]}),e.jsxs("p",{className:"text-xs text-red-500",children:["Student ID: ",b.studentID]})]},b.userid))}),e.jsx("label",{className:" text-sm text-gray-400",children:"Date"}),e.jsx("input",{name:"date",type:"date",style:t,autoComplete:"off",required:!0,value:A,onChange:b=>I(b.target.value)}),e.jsx("label",{className:" text-sm text-gray-400",children:"Time"}),e.jsx("input",{name:"time",type:"time",style:t,autoComplete:"off",required:!0,value:p,onChange:V}),e.jsx("button",{type:"submit",className:" text-sm bg-tertiary rounded-lg p-2 text-white hover:shadow-sm hover:shadow-secondary",children:"SET APPOINTMENT"})]})]}),e.jsxs("div",{className:" max-h-[400px] w-80  overflow-y-auto rounded-lg shadow-2xl px-2 flex flex-col border bg-white",children:[e.jsx("h1",{className:" font-semibold text-md border-b bg-white py-4 pl-2",children:"My Appointments"}),e.jsx(za,{})]}),e.jsxs("div",{className:"max-h-[400px] w-[400px] rounded-lg shadow-2xl px-2 flex flex-col border bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between border-b",children:[e.jsx("h1",{className:" font-semibold text-md top-0 py-4 pl-2",children:R?"Appointment Requests":"Referred Students"}),e.jsx(Ae,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>_(!R)})]}),R?e.jsx(Oa,{}):e.jsx(Pa,{})]})]})})},$t="/assets/login-registerbg-e46d2a74.png",_a=le("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ve=r.forwardRef(({className:t,...s},a)=>e.jsx(Ue,{ref:a,className:d(_a(),t),...s}));ve.displayName=Ue.displayName;const Se=ga,Rt=r.createContext({}),O=({...t})=>e.jsx(Rt.Provider,{value:{name:t.name},children:e.jsx(ja,{...t})}),ne=()=>{const t=r.useContext(Rt),s=r.useContext(Dt),{getFieldState:a,formState:o}=fa(),l=a(t.name,o);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:n}=s;return{id:n,name:t.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...l}},Dt=r.createContext({}),P=r.forwardRef(({className:t,...s},a)=>{const o=r.useId();return e.jsx(Dt.Provider,{value:{id:o},children:e.jsx("div",{ref:a,className:d("space-y-2",t),...s})})});P.displayName="FormItem";const Ba=r.forwardRef(({className:t,...s},a)=>{const{error:o,formItemId:l}=ne();return e.jsx(ve,{ref:a,className:d(o&&"text-red-500 dark:text-red-900",t),htmlFor:l,...s})});Ba.displayName="FormLabel";const M=r.forwardRef(({...t},s)=>{const{error:a,formItemId:o,formDescriptionId:l,formMessageId:n}=ne();return e.jsx(ze,{ref:s,id:o,"aria-describedby":a?`${l} ${n}`:`${l}`,"aria-invalid":!!a,...t})});M.displayName="FormControl";const Va=r.forwardRef(({className:t,...s},a)=>{const{formDescriptionId:o}=ne();return e.jsx("p",{ref:a,id:o,className:d("text-sm text-slate-500 dark:text-slate-400",t),...s})});Va.displayName="FormDescription";const L=r.forwardRef(({className:t,children:s,...a},o)=>{const{error:l,formMessageId:n}=ne(),c=l?String(l==null?void 0:l.message):s;return c?e.jsx("p",{ref:o,id:n,className:d("text-sm font-medium text-red-500 dark:text-red-900",t),...a,children:c}):null});L.displayName="FormMessage";const T=r.forwardRef(({className:t,type:s,...a},o)=>e.jsx("input",{type:s,className:d("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-primary-500 focus-visible:outline-1 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...a}));T.displayName="Input";const Ha=ea,qa=ta,At=r.forwardRef(({className:t,children:s,...a},o)=>e.jsxs(_e,{ref:o,className:d("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-200 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-slate-300",t),...a,children:[s,e.jsx(Ys,{asChild:!0,children:e.jsx(vt,{className:"h-4 w-4 opacity-50"})})]}));At.displayName=_e.displayName;const Tt=r.forwardRef(({className:t,...s},a)=>e.jsx(Be,{ref:a,className:d("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ba,{className:"h-4 w-4"})}));Tt.displayName=Be.displayName;const It=r.forwardRef(({className:t,...s},a)=>e.jsx(Ve,{ref:a,className:d("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(vt,{className:"h-4 w-4"})}));It.displayName=Ve.displayName;const Ft=r.forwardRef(({className:t,children:s,position:a="popper",...o},l)=>e.jsx(Ws,{children:e.jsxs(He,{ref:l,className:d("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...o,children:[e.jsx(Tt,{}),e.jsx(Js,{className:d("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(It,{})]})}));Ft.displayName=He.displayName;const Ga=r.forwardRef(({className:t,...s},a)=>e.jsx(qe,{ref:a,className:d("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));Ga.displayName=qe.displayName;const ue=r.forwardRef(({className:t,children:s,...a},o)=>e.jsxs(Ge,{ref:o,className:d("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Xs,{children:e.jsx(St,{className:"h-4 w-4"})})}),e.jsx(Zs,{children:s})]}));ue.displayName=Ge.displayName;const Ka=r.forwardRef(({className:t,...s},a)=>e.jsx(Ke,{ref:a,className:d("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",t),...s}));Ka.displayName=Ke.displayName;const te=()=>{const[t,s]=r.useState(!0);return r.useEffect(()=>{const a=setTimeout(()=>{s(!1)},1e3);return()=>clearTimeout(a)},[]),{loading:t,setLoading:s}},Et=()=>{const[t,s]=r.useState();return r.useEffect(()=>{(async()=>{try{const o={headers:{Authorization:`${localStorage.getItem("token")}`}};console.log(localStorage.getItem("token"));const l=localStorage.getItem("user"),n=await S.get(`/users/username/${l}`,o);console.log(n.data),s(n.data)}catch(o){console.log(o)}})()},[]),{user:t,setUser:s}},Pt=r.createContext(null),ke=()=>r.useContext(Pt),Qa=({children:t})=>{const{user:s,setUser:a}=Et(),{loading:o,setLoading:l}=te(),n=async(m,f)=>{l(!0);try{const h=await S.post(Ia,{username:m,password:f},{headers:{"Content-Type":"application/json"}});localStorage.setItem("token",h.data.token);const i={headers:{Authorization:localStorage.getItem("token")}},w=(await S.get(`/users/username/${m}`,i)).data.userType;return localStorage.setItem("user",m),localStorage.setItem("userType",w),a(s),{success:!0,userType:w}}catch(h){return{success:!1,error:h}}finally{l(!1)}},c=async(m,f,h,i,u,w,k)=>{l(!0);try{return await S.post(Fa,JSON.stringify({firstName:m,lastName:f,email:h,schoolID:i,userType:u,username:w,password:k}),{headers:{"Content-Type":"application/json"}}),{success:!0}}catch(y){return{success:!1,error:y}}finally{l(!1)}},x=()=>{localStorage.clear(),a(void 0),window.location.reload()};return e.jsx(Pt.Provider,{value:{user:s,loading:o,login:n,register:c,logout:x},children:t})},Ya=le("relative w-full rounded-lg border border-slate-200 p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-slate-950 dark:border-slate-800 dark:[&>svg]:text-slate-50",{variants:{variant:{default:"bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900"}},defaultVariants:{variant:"default"}}),Mt=r.forwardRef(({className:t,variant:s,...a},o)=>e.jsx("div",{ref:o,role:"alert",className:d(Ya({variant:s}),t),...a}));Mt.displayName="Alert";const Wa=r.forwardRef(({className:t,...s},a)=>e.jsx("h5",{ref:a,className:d("mb-1 font-medium leading-none tracking-tight",t),...s}));Wa.displayName="AlertTitle";const Lt=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:d("text-sm [&_p]:leading-relaxed",t),...s}));Lt.displayName="AlertDescription";const Ja=Ne({firstName:U(),lastName:U(),email:U().email(),schoolID:U(),userType:U({required_error:"Please select a user type"}),username:U().min(3,{message:"Username must be at least 3 characters long"}),password:U().min(8,{message:"Password must be at least 8 characters long"}),confirmPassword:U()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),Xa=()=>{const{register:t}=ke(),[s,a]=r.useState(!1),[o,l]=r.useState(),n=ye({resolver:be(Ja),defaultValues:{firstName:"",lastName:"",email:"",schoolID:"",userType:"",username:"",password:"",confirmPassword:""}}),c=async x=>{a(!0);const m=Number(x.schoolID.replace(/-/g,"")),{success:f,error:h}=await t(x.firstName,x.lastName,x.email,m,x.userType,x.username,x.password);f?(l({text:"Account created successfully",isError:!1}),n.reset()):l({text:"Something went wrong.",isError:!0}),a(!1)};return e.jsx(Se,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(c),className:" space-y-5",children:[e.jsxs("span",{className:" flex space-x-2",children:[e.jsx(O,{control:n.control,name:"firstName",render:({field:x})=>e.jsxs(P,{className:" flex-grow",children:[e.jsx(M,{children:e.jsx(T,{...x,placeholder:"Firstname",type:"text",autoComplete:"yes"})}),n.formState.errors.firstName&&e.jsx(L,{children:n.formState.errors.firstName.message})]})}),e.jsx(O,{control:n.control,name:"lastName",render:({field:x})=>e.jsxs(P,{className:" flex-grow",children:[e.jsx(M,{children:e.jsx(T,{...x,placeholder:"Lastname",type:"text",autoComplete:"yes"})}),n.formState.errors.lastName&&e.jsx(L,{children:n.formState.errors.lastName.message})]})})]}),e.jsx(O,{control:n.control,name:"email",render:({field:x})=>e.jsxs(P,{children:[e.jsx(M,{children:e.jsx(T,{...x,placeholder:"Email",type:"email",autoComplete:"yes"})}),n.formState.errors.email&&e.jsx(L,{children:n.formState.errors.email.message})]})}),e.jsx(O,{control:n.control,name:"schoolID",render:({field:x})=>e.jsxs(P,{children:[e.jsx(M,{children:e.jsx(T,{...x,placeholder:"ID number (example format: 12-3456-789)",autoComplete:"yes"})}),n.formState.errors.schoolID&&e.jsx(L,{children:n.formState.errors.schoolID.message})]})}),e.jsx(O,{control:n.control,name:"userType",render:({field:x})=>e.jsxs(P,{children:[e.jsx(M,{children:e.jsxs(Ha,{onValueChange:x.onChange,defaultValue:x.value,children:[e.jsx(At,{className:" text-slate-500",children:e.jsx(qa,{placeholder:"Please select a user type"})}),e.jsxs(Ft,{children:[e.jsx(ue,{value:"Counselor",children:"Counselor"}),e.jsx(ue,{value:"Teacher",children:"Teacher"})]})]})}),n.formState.errors.userType&&e.jsx(L,{children:n.formState.errors.userType.message})]})}),e.jsx(O,{control:n.control,name:"username",render:({field:x})=>e.jsxs(P,{children:[e.jsx(M,{children:e.jsx(T,{...x,placeholder:"Username",type:"text",autoComplete:""})}),n.formState.errors.username&&e.jsx(L,{children:n.formState.errors.username.message})]})}),e.jsx(O,{control:n.control,name:"password",render:({field:x})=>e.jsxs(P,{children:[e.jsx(M,{children:e.jsx(T,{...x,placeholder:"Password",type:"password",autoComplete:""})}),n.formState.errors.password&&e.jsx(L,{children:n.formState.errors.password.message})]})}),e.jsx(O,{control:n.control,name:"confirmPassword",render:({field:x})=>e.jsxs(P,{children:[e.jsx(M,{children:e.jsx(T,{...x,placeholder:"Confirm Password",type:"password",autoComplete:""})}),n.formState.errors.confirmPassword&&e.jsx(L,{children:n.formState.errors.confirmPassword.message})]})}),o&&e.jsx(Mt,{className:`${o.text?o.isError?"bg-red-100":"bg-green-100":"hidden"}`,children:e.jsx(Lt,{children:o.text})}),e.jsx(N,{type:"submit",className:" w-full",disabled:s,children:s?"Creating account...":"Register"})]})})},Za=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-center mb-5 ",children:e.jsxs(H,{className:" w-[500px] bg-opacity-95",children:[e.jsx(Z,{children:e.jsx(X,{className:" text-primary-500 ",children:"Create an account"})}),e.jsx(G,{children:e.jsx(Xa,{})}),e.jsx(ee,{className:"flex justify-center",children:e.jsxs(ve,{className:" text-sm text-gray-300",children:["Already have an account?"," ",e.jsx(z,{to:"/login",className:" text-primary-500 hover:underline",children:"Login"})]})})]})})}),er=()=>e.jsx(e.Fragment,{children:e.jsx(ya,{children:e.jsx("div",{className:" sticky top-5",children:e.jsx("h1",{className:"font-semibold",children:"Dashboard"})})})}),tr="https://wanted-sweater-production.up.railway.app/getAllUser",sr=()=>{const[t,s]=r.useState([]);return r.useEffect(()=>{(async()=>{const o={headers:{Authorization:`${localStorage.getItem("token")}`}},l=await Me.get(`${tr}`,o);s(l.data),console.log(l.data)})()},[]),{students:t,setStudents:s}},Ot=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:d("w-full caption-bottom text-sm",t),...s})}));Ot.displayName="Table";const zt=r.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,className:d("[&_tr]:border-b",t),...s}));zt.displayName="TableHeader";const Ut=r.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,className:d("[&_tr:last-child]:border-0",t),...s}));Ut.displayName="TableBody";const ar=r.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,className:d("border-t bg-slate-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-slate-800/50",t),...s}));ar.displayName="TableFooter";const se=r.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,className:d("border-b transition-colors hover:bg-slate-100/50 data-[state=selected]:bg-slate-100 dark:hover:bg-slate-800/50 dark:data-[state=selected]:bg-slate-800",t),...s}));se.displayName="TableRow";const _t=r.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,className:d("h-12 px-4 text-left align-middle font-medium text-slate-500 [&:has([role=checkbox])]:pr-0 dark:text-slate-400",t),...s}));_t.displayName="TableHead";const he=r.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,className:d("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));he.displayName="TableCell";const rr=r.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,className:d("mt-4 text-sm text-slate-500 dark:text-slate-400",t),...s}));rr.displayName="TableCaption";const Bt=aa,Vt=ra,or=oa,lr=r.forwardRef(({className:t,inset:s,children:a,...o},l)=>e.jsxs(Qe,{ref:l,className:d("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-slate-100 data-[state=open]:bg-slate-100 dark:focus:bg-slate-800 dark:data-[state=open]:bg-slate-800",s&&"pl-8",t),...o,children:[a,e.jsx(Na,{className:"ml-auto h-4 w-4"})]}));lr.displayName=Qe.displayName;const nr=r.forwardRef(({className:t,...s},a)=>e.jsx(Ye,{ref:a,className:d("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...s}));nr.displayName=Ye.displayName;const Ce=r.forwardRef(({className:t,sideOffset:s=4,...a},o)=>e.jsx(sa,{children:e.jsx(We,{ref:o,sideOffset:s,className:d("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...a})}));Ce.displayName=We.displayName;const pe=r.forwardRef(({className:t,inset:s,...a},o)=>e.jsx(Je,{ref:o,className:d("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",s&&"pl-8",t),...a}));pe.displayName=Je.displayName;const Ht=r.forwardRef(({className:t,children:s,checked:a,...o},l)=>e.jsxs(Xe,{ref:l,className:d("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),checked:a,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ze,{children:e.jsx(St,{className:"h-4 w-4"})})}),s]}));Ht.displayName=Xe.displayName;const ir=r.forwardRef(({className:t,children:s,...a},o)=>e.jsxs(et,{ref:o,className:d("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ze,{children:e.jsx(wa,{className:"h-2 w-2 fill-current"})})}),s]}));ir.displayName=et.displayName;const qt=r.forwardRef(({className:t,inset:s,...a},o)=>e.jsx(tt,{ref:o,className:d("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));qt.displayName=tt.displayName;const Gt=r.forwardRef(({className:t,...s},a)=>e.jsx(st,{ref:a,className:d("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",t),...s}));Gt.displayName=st.displayName;function cr({columns:t,data:s}){var f,h;const[a,o]=r.useState([]),[l,n]=r.useState([]),[c,x]=r.useState({}),m=ka({data:s,columns:t,onSortingChange:o,getCoreRowModel:Ca(),getPaginationRowModel:$a(),getSortedRowModel:Ra(),onColumnFiltersChange:n,getFilteredRowModel:Da(),onColumnVisibilityChange:x,state:{sorting:a,columnFilters:l,columnVisibility:c}});return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center py-4 ",children:[e.jsx(T,{placeholder:"Filter emails...",value:(f=m.getColumn("email"))==null?void 0:f.getFilterValue(),onChange:i=>{var u;return(u=m.getColumn("email"))==null?void 0:u.setFilterValue(i.target.value)},className:"max-w-sm"}),e.jsxs(Bt,{children:[e.jsx(Vt,{asChild:!0,children:e.jsx(N,{variant:"outline",className:"ml-auto",children:"Columns"})}),e.jsx(Ce,{align:"end",children:m.getAllColumns().filter(i=>i.getCanHide()).map(i=>e.jsx(Ht,{className:"capitalize",checked:i.getIsVisible(),onCheckedChange:u=>i.toggleVisibility(!!u),children:i.id},i.id))})]})]}),e.jsx("div",{className:"rounded-md border bg-white",children:e.jsxs(Ot,{children:[e.jsx(zt,{children:m.getHeaderGroups().map(i=>e.jsx(se,{children:i.headers.map(u=>e.jsx(_t,{children:u.isPlaceholder?null:Te(u.column.columnDef.header,u.getContext())},u.id))},i.id))}),e.jsx(Ut,{children:(h=m.getRowModel().rows)!=null&&h.length?m.getRowModel().rows.map(i=>e.jsx(se,{"data-state":i.getIsSelected()&&"selected",children:i.getVisibleCells().map(u=>e.jsx(he,{children:Te(u.column.columnDef.cell,u.getContext())},u.id))},i.id)):e.jsx(se,{children:e.jsx(he,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})})]})}const dr=[{accessorKey:"firstName",header:({column:t})=>e.jsxs(N,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Firstname",e.jsx(ie,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"lastName",header:({column:t})=>e.jsxs(N,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Lastname",e.jsx(ie,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"email",header:({column:t})=>e.jsxs(N,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Email",e.jsx(ie,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"course",header:"Course"},{accessorKey:"studentID",header:"Student ID"},{accessorKey:"chat",header:"Chat"}],mr=()=>{const{students:t}=sr();return e.jsx("div",{className:"container mx-auto py-10",children:e.jsx(cr,{columns:dr,data:t})})},xr=Ne({username:U().min(1,{message:"Username is required"}),password:U().min(1,{message:"Password is required"})}),ur=1,hr=1e6;let ce=0;function pr(){return ce=(ce+1)%Number.MAX_VALUE,ce.toString()}const de=new Map,Fe=t=>{if(de.has(t))return;const s=setTimeout(()=>{de.delete(t),W({type:"REMOVE_TOAST",toastId:t})},hr);de.set(t,s)},fr=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,ur)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?Fe(a):t.toasts.forEach(o=>{Fe(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===a||a===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},ae=[];let re={toasts:[]};function W(t){re=fr(re,t),ae.forEach(s=>{s(re)})}function J({...t}){const s=pr(),a=l=>W({type:"UPDATE_TOAST",toast:{...l,id:s}}),o=()=>W({type:"DISMISS_TOAST",toastId:s});return W({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:l=>{l||o()}}}),{id:s,dismiss:o,update:a}}function gr(){const[t,s]=r.useState(re);return r.useEffect(()=>(ae.push(s),()=>{const a=ae.indexOf(s);a>-1&&ae.splice(a,1)}),[t]),{...t,toast:J,dismiss:a=>W({type:"DISMISS_TOAST",toastId:a})}}const jr=()=>{const[t,s]=r.useState(!1),[a,o]=r.useState(!1),{login:l}=ke(),n=ge(),c=ye({resolver:be(xr),defaultValues:{username:"",password:""}}),x=async m=>{o(!0);try{const{success:f,userType:h,error:i}=await l(m.username,m.password);if(f){J({variant:"success",title:"Success",description:"Login success. Redirecting...",duration:1500});const u=setTimeout(()=>{n(h==="Counselor"?"/home":"/student-referral")},2e3);return()=>clearTimeout(u)}else i.message==="Network Error"?(s(!0),J({variant:"destructive",title:"Error",description:"No connection to the server",duration:2e3})):(s(!0),J({variant:"destructive",title:"Login failed",description:"Invalid username or password. Please try again.",duration:2e3}))}catch(f){console.log(f)}finally{o(!1)}};return e.jsx(e.Fragment,{children:e.jsx(Se,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(x),className:" space-y-5 ",children:[e.jsx(O,{control:c.control,name:"username",render:({field:m})=>e.jsxs(P,{children:[e.jsx(M,{children:e.jsx(T,{...m,autoComplete:"on",placeholder:"Username"})}),e.jsx(L,{})]})}),e.jsx(O,{control:c.control,name:"password",render:({field:m})=>e.jsxs(P,{children:[e.jsx(M,{children:e.jsx(T,{type:"password",...m,autoComplete:"off",placeholder:"Password"})}),e.jsx(L,{})]})}),e.jsx(N,{type:"submit",className:" w-full",disabled:a,children:a?"Logging in...":"Log in"})]})})})},br=la,Kt=r.forwardRef(({className:t,...s},a)=>e.jsx(at,{ref:a,className:d("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));Kt.displayName=at.displayName;const yr=le("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border border-slate-200 p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-slate-800",{variants:{variant:{default:"border bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",success:"border bg-green-500 text-white dark:bg-slate-950 dark:text-slate-50",destructive:"destructive group border-red-500 bg-red-500 text-slate-50 dark:border-red-900 dark:bg-red-900 dark:text-slate-50"}},defaultVariants:{variant:"default"}}),Qt=r.forwardRef(({className:t,variant:s,...a},o)=>e.jsx(rt,{ref:o,className:d(yr({variant:s}),t),...a}));Qt.displayName=rt.displayName;const Nr=r.forwardRef(({className:t,...s},a)=>e.jsx(ot,{ref:a,className:d("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-slate-200 bg-transparent px-3 text-sm font-medium ring-offset-white transition-colors hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-slate-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-slate-50 group-[.destructive]:focus:ring-red-500 dark:border-slate-800 dark:ring-offset-slate-950 dark:hover:bg-slate-800 dark:focus:ring-slate-300 dark:group-[.destructive]:border-slate-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-slate-50 dark:group-[.destructive]:focus:ring-red-900",t),...s}));Nr.displayName=ot.displayName;const Yt=r.forwardRef(({className:t,...s},a)=>e.jsx(lt,{ref:a,className:d("absolute right-2 top-2 rounded-md p-1 text-slate-950/50 opacity-0 transition-opacity hover:text-slate-950 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-slate-50/50 dark:hover:text-slate-50",t),"toast-close":"",...s,children:e.jsx(kt,{className:"h-4 w-4"})}));Yt.displayName=lt.displayName;const Wt=r.forwardRef(({className:t,...s},a)=>e.jsx(nt,{ref:a,className:d("text-sm font-semibold",t),...s}));Wt.displayName=nt.displayName;const Jt=r.forwardRef(({className:t,...s},a)=>e.jsx(it,{ref:a,className:d("text-sm opacity-90",t),...s}));Jt.displayName=it.displayName;function Xt(){const{toasts:t}=gr();return e.jsxs(br,{children:[t.map(function({id:s,title:a,description:o,action:l,...n}){return e.jsxs(Qt,{...n,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(Wt,{children:a}),o&&e.jsx(Jt,{children:o})]}),l,e.jsx(Yt,{})]},s)}),e.jsx(Kt,{})]})}const wr=()=>(te(),e.jsxs("div",{className:" h-full flex",children:[e.jsxs(H,{className:" sm:w-[420px] mx-auto my-auto bg-opacity-95",children:[e.jsx(Z,{children:e.jsx(X,{className:" text-primary-500",children:"Log in"})}),e.jsxs(G,{children:[e.jsx(jr,{}),e.jsx(z,{to:"/",className:" text-primary-500 hover:underline hover:underline-offset-2 text-xs flex justify-end",children:"Forgot password?"})]}),e.jsx(ee,{className:"flex justify-center",children:e.jsxs("div",{className:" text-sm space-x-1",children:[e.jsx("span",{className:" text-gray-300",children:" Don't have an account?"}),e.jsx(z,{to:"/register",className:" text-primary-500 hover:underline hover:underline-offset-2 font-semibold",children:"Create an account"})]})})]}),e.jsx(Xt,{})]})),vr="/assets/formbg-686d3ed1.png",Sr={backgroundImage:`url(${vr})`,backgroundSize:" 50%",backgroundPosition:"right",backgroundRepeat:"no-repeat"},kr={backgroundImage:`url(${$t})`,backgroundSize:" 100%",backgroundRepeat:"no-repeat"},Cr="users",$r=()=>{const t={borderBottom:"2px solid #769EAB",background:"transparent",outline:"none",width:"100%",padding:"2px 2px",marginBottom:"16px"},[s,a]=r.useState({firstName:"",lastName:"",email:"",schoolID:"",userType:"",username:"",password:"",confirmPassword:""}),[o,l]=r.useState(!1),[n,c]=r.useState(""),x=h=>{a({...s,[h.target.name]:h.target.value}),c(h.target.value)},m=async h=>{if(h.preventDefault(),s.email!==""&&!s.email.includes("@cit.edu")){alert("Please use your institutional email");return}try{const i=await S.get(Cr+`/${s.email}`);console.log("Email exists in the database."),console.log(i.data),l(!0)}catch{alert("Something went wrong. Please try again.")}},f=async h=>{h.preventDefault()};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col h-screen w-full bg-gray-100 justify-center items-center absolute",style:kr,children:e.jsxs("div",{className:" w-[720px] rounded-2xl bg-white shadow-md h-auto flex justify-between",style:Sr,children:[e.jsxs("form",{className:"py-6 px-10 left-0 w-[360px] flex flex-col",onSubmit:o?f:m,children:[e.jsx("h1",{className:"text-center font-medium text-primary text-2xl mb-3",children:o?"Enter OTP":"Please verify your email"}),o&&e.jsx("input",{name:"otp",type:"text",style:t,onChange:x,placeholder:"Please check your email for OTP",autoComplete:"off",required:!0}),!o&&e.jsx("input",{name:"email",type:"email",style:t,onChange:x,placeholder:"Institutional Email",autoComplete:"off",required:!0}),o&&e.jsx("button",{type:"submit",className:"bg-primary rounded-full h-10 text-white hover:shadow-sm hover:shadow-primary mt-2",children:"Verify OTP"}),!o&&e.jsx("button",{type:"submit",className:" bg-primary rounded-full h-10 text-white hover:shadow-sm hover:shadow-primary mt-2",children:"Check Email"}),e.jsxs("p",{className:"text-secondary text-xs my-2",children:["Already have an account?"," ",e.jsx(z,{to:"/login",className:"font-bold text-primary cursor-pointer",children:"Login"})]})]}),e.jsx("div",{className:"flex relative justify-end px-6 py-5",children:e.jsx(z,{to:"/",children:e.jsx(Oe,{className:"top-0 right-0 text-secondary hover:text-primary cursor-pointer"})})})]})})})},Rr=()=>{const t={borderBottom:"2px solid #769EAB",background:"transparent",outline:"none",width:"100%",padding:"2px 2px",marginBottom:"16px"},[s,a]=r.useState({}),[o,l]=r.useState(""),[n,c]=r.useState(!1),[x,m]=r.useState(!1),[f,h]=r.useState([]),[i,u]=r.useState(0),w=f.filter(j=>j.isAccepted),k=f.filter(j=>!j.isAccepted),{useFetchStudents:y,handleQueryChange:A,handleStudentInput:I,value:p,setQuery:v,setValue:$,studentID:R,query:_,setStudentId:B,setResults:V,results:Y,showResultsDropdown:g,setShowResultsDropdown:C,handleClear:b}=Ct(),{students:E}=y(),K=r.useRef(null),ms=j=>{const D=j.target.value;l(D),console.log(D),c(D==="Other")},xs=j=>{const D=j.target.value;l(D),console.log(D)};r.useEffect(()=>{(async()=>{try{const D={headers:{Authorization:`${localStorage.getItem("token")}`}},gs=localStorage.getItem("user"),$e=await S.get(`/users/username/${gs}`,D);console.log($e.data),a($e.data)}catch(D){console.log(D)}})()},[]);const us=async j=>{j.preventDefault();try{const D=await S.post("/referrals?student="+R+"&teacher="+s.id,{reason:o});console.log(D.data),alert("Student Referral successfully!"),$(""),v(""),V([]),l(""),c(!1),u(Math.random())}catch(D){console.log(D)}},hs=j=>{A(j,E,V,C,$,v)},ps=()=>{m(!0)},fs=()=>{m(!1)};return r.useEffect(()=>{(async()=>{try{const D=await S.get(`/referrals/teachers?teacherid=${s.id}`);h(D.data)}catch(D){console.log(D)}})()},[s.id,i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsxs("div",{className:" px-4 flex justify-between",children:[e.jsxs("h1",{children:["Good day! ","",e.jsxs("b",{children:[s.firstName," ",s.lastName]})]}),e.jsx("button",{onClick:ps,className:" rounded-full bg-tertiary text-white p-2 text-xs hover:bg-opacity-90",children:"Check status of referrals"})]}),x&&e.jsx("div",{className:" overflow-y-auto fixed z-50 h-screen w-full bg-gray-900 bg-opacity-70 top-0 right-0 flex items-center justify-center",children:e.jsxs("div",{className:" bg-white w-96 h-[500px] overflow-y-auto rounded-lg flex flex-col",children:[e.jsxs("span",{className:" flex justify-between w-full py-2",children:[e.jsx("h1",{children:""}),e.jsx(ws,{className:" cursor-pointer mr-3 mt-3 hover:text-primary",onClick:fs})]}),e.jsx("span",{className:" px-2 flex justify-center w-full sticky mb-4",children:e.jsx("b",{children:"Referral Status"})}),e.jsxs("span",{className:" w-full px-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm mb-2 font-semibold",children:"Accepted Referrals"}),e.jsx("ul",{children:w.map(j=>e.jsxs("li",{className:" bg-tertiary rounded-md py-3 text-white px-2 text-sm mb-2 shadow",children:[e.jsxs("h1",{children:[j.student.firstname," ",j.student.lastname]}),e.jsxs("div",{className:" flex justify-between ",children:[e.jsxs("p",{className:" text-xs text-gray-400",children:["Counselor:"," ",e.jsxs("span",{className:" text-white italic",children:[j.counselor.firstName," ",j.counselor.lastName]})]}),e.jsx("p",{children:j.isAccepted?e.jsx("span",{className:" text-green-500",children:"Accepted"}):e.jsx("span",{className:" text-red-500",children:"Pending"})})]}),e.jsxs("p",{className:" text-xs text-gray-400",children:["Reason: ",e.jsx("span",{className:" text-white",children:j.reason})]})]},j.id))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:" text-sm mb-2 font-semibold",children:"Pending Referrals"}),e.jsx("ul",{children:k.map(j=>e.jsxs("li",{className:" bg-tertiary rounded-md py-3 text-white px-2 text-sm mb-2 shadow",children:[e.jsxs("h1",{children:[j.student.firstname," ",j.student.lastname]}),e.jsxs("div",{className:" flex justify-between",children:[e.jsxs("p",{className:" text-xs text-gray-400",children:["Reason: ",e.jsx("span",{className:" text-white",children:j.reason})]}),e.jsx("p",{children:j.isAccepted?e.jsx("span",{className:" text-green-500",children:"Accepted"}):e.jsx("span",{className:" text-red-500",children:"Pending"})})]})]},j.id))})]})]})]})}),e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx("h1",{className:"font-semibold text-2xl",children:"REFER SOMEONE NOW"}),e.jsxs("form",{className:"py-6 left-0 w-[300px] flex flex-col",onSubmit:us,children:[e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("input",{ref:K,type:"text",placeholder:"Input student name or ID number",style:t,onChange:hs,value:p,required:!0}),e.jsx("button",{className:"text-xs text-white mb-4 cursor-pointer bg-secondary rounded-md p-1",onClick:b,children:"clear"})]}),e.jsx("div",{children:g&&_&&e.jsx("ul",{className:"max-h-60 overflow-y-auto absolute w-full max-w-[300px] bg-white border border-gray-300 rounded-b-md",children:Y.map(j=>e.jsxs("li",{className:" w-full border p-1 cursor-pointer hover:bg-gray-100 hover:shadow-lg hover:border-secondary",onClick:()=>I(j.firstName+" "+j.lastName,E,B,$,V,v),children:[e.jsxs("p",{className:"text-sm ",children:[j.firstName," ",j.lastName]}),e.jsxs("p",{className:"text-xs text-gray-300",children:["Student ID: ",j.userid]})]},j.userid))})}),e.jsxs("select",{name:"userType",required:!0,className:"mb-3 text-gray-400 outline-none text-sm border-2 border-secondary rounded-md p-2",defaultValue:"label",onChange:ms,children:[e.jsx("option",{disabled:!0,value:"label",hidden:!0,children:"Reason/s for referrals"}),e.jsx("option",{value:"Sample 1",children:"Reason 1"}),e.jsx("option",{value:"Sample 2",children:"Reason 2"}),e.jsx("option",{value:"Sample 3",children:"Reason 3"}),e.jsx("option",{value:"Other",children:"Others, please specify"})]}),n&&e.jsx("input",{type:"text",placeholder:"If other/s",style:t,onChange:xs}),e.jsx("button",{type:"submit",className:"bg-primary rounded-full h-10 text-white hover:shadow-sm hover:shadow-primary mt-2",children:"SUBMIT"})]})]})]})})},fe=r.forwardRef(({className:t,...s},a)=>e.jsx(ct,{ref:a,className:d("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));fe.displayName=ct.displayName;const oe=r.forwardRef(({className:t,...s},a)=>e.jsx(dt,{ref:a,className:d("aspect-square h-full w-full",t),...s}));oe.displayName=dt.displayName;const Dr=r.forwardRef(({className:t,...s},a)=>e.jsx(mt,{ref:a,className:d("flex h-full w-full items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800",t),...s}));Dr.displayName=mt.displayName;const Ar="/assets/man_avatar-566971e9.svg",Tr=Ne({title:U(),content:U(),photoData:Sa()}),Zt=r.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:d("flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-300 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",t),ref:a,...s}));Zt.displayName="Textarea";const Ir=()=>{const[t,s]=r.useState(null),[a,o]=r.useState(null),[l,n]=r.useState(null),[c,x]=r.useState(!1),m=ye({resolver:be(Tr),defaultValues:{title:"",content:"",photoData:""}}),f=i=>{var w;o(null);const u=(w=i.target.files)==null?void 0:w[0];if(u){n(u);const k=new FileReader;k.onloadend=()=>{s(k.result)},u.type.match("image.*")?k.readAsDataURL(u):o("File type not supported")}else n(null)},h=async i=>{x(!0);const u=new FormData;u.append("title",i.title),u.append("content",i.content),l&&u.append("photoData",l),console.log(u);const w={title:i.title,content:i.content},k={headers:{Authorization:`${localStorage.getItem("token")}`}};try{i.photoData[0]?(console.log("with photo"),await S.post("/posts/photo",u,k),window.location.reload()):(console.log("without photo"),await S.post("/posts",w,k),window.location.reload())}catch(y){console.log(y)}finally{x(!1)}};return e.jsx(e.Fragment,{children:e.jsx(Se,{...m,children:e.jsxs("form",{className:"space-y-3 max-h-[600px]",onSubmit:m.handleSubmit(h),children:[e.jsx(O,{control:m.control,name:"title",render:({field:i})=>e.jsxs(P,{children:[e.jsx(M,{children:e.jsx(T,{...i,placeholder:"Title",type:"text"})}),m.formState.errors.title&&e.jsx(L,{children:m.formState.errors.title.message})]})}),e.jsx(O,{control:m.control,name:"content",render:({field:i})=>e.jsxs(P,{children:[e.jsx(M,{children:e.jsx(Zt,{...i,placeholder:"Content",className:" resize-none"})}),m.formState.errors.content&&e.jsx(L,{children:m.formState.errors.content.message})]})}),e.jsx(O,{control:m.control,name:"photoData",render:({field:i})=>e.jsxs(P,{children:[e.jsx(M,{children:e.jsx(T,{...i,placeholder:"Photo",type:"file",onChange:u=>{i.onChange(u),f(u)}})}),a&&e.jsx(L,{children:a})]})}),t&&!a&&e.jsx("span",{className:"border-2 w-full h-80 flex items-center",children:e.jsx("img",{src:t,className:"rounded-md p-2 mx-auto h-80",alt:"preview"})}),e.jsx(N,{type:"submit",className:" w-full",disabled:c,children:c?"Posting...":"Post"})]})})})};function q({className:t,...s}){return e.jsx("div",{className:d("animate-pulse rounded-md bg-slate-100 dark:bg-slate-800",t),...s})}const Fr=()=>e.jsxs(H,{className:" mx-auto mb-3 md:w-[700px] h-96",children:[e.jsx(Z,{children:e.jsxs("div",{className:" flex items-center space-x-2",children:[e.jsx(q,{className:"rounded-full h-10 w-10"}),e.jsxs("div",{className:" flex flex-col space-y-1",children:[e.jsx(q,{className:" w-52 h-4"}),e.jsx(q,{className:" w-44 h-2"})]})]})}),e.jsxs(G,{className:" space-y-2",children:[e.jsx(q,{className:" md:w-full h-4"}),e.jsx(q,{className:" md:w-96 h-4"}),e.jsx(q,{className:" md:w-full h-3"})]}),e.jsxs(ee,{className:" space-y-2",children:[e.jsx(q,{className:" w-24 h-4"}),e.jsx(q,{className:" w-24 h-4"})]})]}),Er=ia,Pr=ca,Mr=na,Lr=ht,es=r.forwardRef(({className:t,...s},a)=>e.jsx(xt,{ref:a,className:d("fixed inset-0 z-50 bg-white/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 dark:bg-slate-950/80",t),...s}));es.displayName=xt.displayName;const ts=r.forwardRef(({className:t,children:s,...a},o)=>e.jsxs(Mr,{children:[e.jsx(es,{}),e.jsxs(ut,{ref:o,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full dark:border-slate-800 dark:bg-slate-950",t),...a,children:[s,e.jsxs(ht,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-400",children:[e.jsx(kt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ts.displayName=ut.displayName;const ss=({className:t,...s})=>e.jsx("div",{className:d("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});ss.displayName="DialogHeader";const as=({className:t,...s})=>e.jsx("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});as.displayName="DialogFooter";const rs=r.forwardRef(({className:t,...s},a)=>e.jsx(pt,{ref:a,className:d("text-lg font-semibold leading-none tracking-tight",t),...s}));rs.displayName=pt.displayName;const os=r.forwardRef(({className:t,...s},a)=>e.jsx(ft,{ref:a,className:d("text-sm text-slate-500 dark:text-slate-400",t),...s}));os.displayName=ft.displayName;const Or=({...t})=>{const[s,a]=js.useState(!1),o=async()=>{try{a(!0),await S.delete(`/posts/${t.postid}`),s?J({title:"Post deleted",description:"Your post has been deleted successfully",variant:"success",duration:1500}):window.location.reload()}catch(l){console.log(l)}finally{a(!1)}};return e.jsx(e.Fragment,{children:e.jsxs(Er,{children:[e.jsxs(Bt,{children:[e.jsx(Vt,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"icon",className:" rounded-full p-1 mr-2 text-slate-500 cursor-pointer",children:e.jsx(vs,{className:"h-5 w-5"})})}),e.jsxs(Ce,{className:"w-56",children:[e.jsx(qt,{children:"More options"}),e.jsx(Gt,{}),e.jsxs(or,{children:[e.jsx(pe,{children:"Edit"}),e.jsx(Pr,{asChild:!0,children:e.jsx(pe,{children:"Delete"})})]})]})]}),e.jsxs(ts,{children:[e.jsxs(ss,{children:[e.jsx(rs,{children:"Are you sure?"}),e.jsx(os,{children:"This action cannot be undone. Are you sure you want to permanently delete this post?"})]}),e.jsxs(as,{children:[e.jsx(Lr,{asChild:!0,children:e.jsx(N,{variant:"secondary",children:"Cancel"})}),e.jsx(N,{variant:"destructive",onClick:o,children:"Delete"})]})]}),e.jsx(Xt,{})]})})},zr=ma,Ee=xa,Ur=da,ls=r.forwardRef(({className:t,...s},a)=>e.jsx(gt,{className:d("fixed inset-0 z-50 bg-white/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 dark:bg-slate-950/80",t),...s,ref:a}));ls.displayName=gt.displayName;const ns=r.forwardRef(({className:t,...s},a)=>e.jsxs(Ur,{children:[e.jsx(ls,{}),e.jsx(jt,{ref:a,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-slate-800 dark:bg-slate-950",t),...s})]}));ns.displayName=jt.displayName;const is=({className:t,...s})=>e.jsx("div",{className:d("flex flex-col space-y-2 text-center sm:text-left",t),...s});is.displayName="AlertDialogHeader";const _r=r.forwardRef(({className:t,...s},a)=>e.jsx(bt,{ref:a,className:d("text-lg font-semibold",t),...s}));_r.displayName=bt.displayName;const Br=r.forwardRef(({className:t,...s},a)=>e.jsx(yt,{ref:a,className:d("text-sm text-slate-500 dark:text-slate-400",t),...s}));Br.displayName=yt.displayName;const Vr=r.forwardRef(({className:t,...s},a)=>e.jsx(Nt,{ref:a,className:d(we(),t),...s}));Vr.displayName=Nt.displayName;const cs=r.forwardRef(({className:t,...s},a)=>e.jsx(wt,{ref:a,className:d(we({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));cs.displayName=wt.displayName;const Hr=()=>{const[t,s]=r.useState([]);r.useState([]);const[a,o]=r.useState("all");r.useState(null),r.useState(!1),r.useState({title:"",content:"",photoData:new File([],"")}),r.useState({title:"",content:"",photoData:new File([],"")});const{loading:l,setLoading:n}=te();return r.useEffect(()=>{(async()=>{n(!0);const x=a==="all"?"/posts":"/myPosts";try{const m={headers:{Authorization:`${localStorage.getItem("token")}`}},f=await S.get(`${x}`,m),h=f.data.sort((i,u)=>u.id-i.id);console.log(f.data),n(!1),s(h)}catch(m){console.error(m)}finally{n(!1)}})()},[a]),e.jsxs(e.Fragment,{children:[e.jsx(H,{className:" md:w-[700px] mx-auto mb-3",children:e.jsxs(G,{className:" flex flex-row items-center px-3 py-5 gap-2",children:[e.jsxs(fe,{children:[e.jsx(oe,{className:" rounded-full",src:Ar}),e.jsx(ua,{className:" border h-6 w-6",children:"WT"})]}),e.jsxs(zr,{children:[e.jsx(Ee,{className:" w-full rounded-md",children:e.jsx(T,{placeholder:"Post something...",className:" cursor-pointer hover:bg-gray-100 bg-gray-50"})}),e.jsx(Ee,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"icon",children:e.jsx(va,{className:"h-6 w-6 text-gray-400 "})})}),e.jsxs(ns,{children:[e.jsx(is,{children:e.jsxs("div",{className:" flex flex-row items-center justify-between",children:[e.jsx("h1",{className:" text-xl font-semibold text-primary-500",children:"Create a post"}),e.jsx(cs,{asChild:!0,type:"button",className:" h-12 w-12 text-slate-500 border-none hover",children:e.jsx(N,{variant:"ghost",size:"icon",children:e.jsx(Ss,{className:"h-6 w-6"})})})]})}),e.jsx(Ir,{})]})]})]})}),e.jsx(H,{className:" md:w-[700px] mx-auto mb-3",children:e.jsxs(G,{className:" flex flex-row items-center py-3 px-3 gap-3",children:[e.jsxs(N,{property:"active",onClick:()=>o("all"),variant:"ghost",size:"icon",className:`rounded-full h-8 w-auto flex flex-row gap-1 px-2 hover:text-primary-500  ${a==="all"?"text-primary-500 hover:text-primary-500 bg-primary-100":"text-gray-400"}`,children:[e.jsx(ks,{className:"h-5 w-5"})," All posts"]}),e.jsxs(N,{property:"active",onClick:()=>o("my"),variant:"ghost",size:"icon",className:`rounded-full h-8 w-auto flex flex-row gap-1 px-2 hover:text-primary-500  ${a==="my"?"text-primary-500 hover:text-primary-500 bg-primary-100":"text-gray-400"}`,children:[e.jsx(Cs,{className:"h-5 w-5"})," My posts"]})]})}),l?e.jsx(Fr,{}):e.jsx(e.Fragment,{children:t.map(c=>e.jsxs(H,{className:" mx-auto mb-3 md:w-[700px]",children:[e.jsx(Z,{className:" p-1 mx-2 w-full",children:e.jsxs("div",{className:" flex p-3 gap-2 items-center",children:[e.jsx(fe,{children:e.jsx(oe,{src:"https://i.pravatar.cc/300"})}),e.jsxs("span",{className:" flex-1",children:[e.jsxs(X,{className:" text-lg",children:[c.counselor.firstName," ",c.counselor.lastName]}),e.jsx(xe,{className:" text-xs border-b-transparent border-b hover:border-b-inherit w-min",children:c.counselor.userType})]}),a==="my"?e.jsx(Or,{postid:c.id}):null]})}),e.jsxs(G,{className:" space-y-2 px-0",children:[e.jsx(X,{className:" text-lg font-semibold px-5",children:c.title}),e.jsx(xe,{className:" text-sm px-5",children:c.content}),c.photoContent&&e.jsx("img",{src:`data:image/png;base64,${c.photoContent}`,alt:"posted image",className:" w-full"})]}),e.jsxs(ee,{className:" p-0 mb-1 flex-col",children:[e.jsxs("div",{className:" w-full flex justify-between py-1 border-y mx-2 text-slate-400",children:[e.jsxs(N,{className:" flex-grow space-x-1",variant:"ghost",children:[e.jsx($s,{className:"h-5 w-5"})," ",e.jsx("p",{children:"Like"})]}),e.jsxs(N,{className:" flex-grow space-x-1",variant:"ghost",children:[e.jsx(Rs,{className:"h-4 w-4"})," ",e.jsx("p",{children:"Comment"})]})]}),e.jsxs("div",{className:" my-2 w-full flex space-x-2 px-2",children:[e.jsx(T,{className:" rounded-l-full rounded-r-full bg-gray-50 hover:bg-gray-100 cursor-pointer flex-grow",placeholder:"Comment..."}),e.jsx(N,{className:" rounded-r-full",variant:"default",children:"Comment"})]})]})]},c.id))})]})},qr=()=>{const t="0123456789ABCDEF";let s="#";for(let a=0;a<6;a++)s+=t[Math.floor(Math.random()*16)];return s},Gr=()=>{const[t,s]=r.useState(!1),[a,o]=r.useState([]),[l,n]=r.useState(null),[c,x]=r.useState(null),[m,f]=r.useState({title:"",content:"",color:""}),[h,i]=r.useState({title:"",content:"",color:""}),[u,w]=r.useState(0),[k,y]=r.useState(!1),[A,I]=r.useState(!1),p=async()=>{try{const g={headers:{Authorization:localStorage.getItem("token")}},C=await S.get("/myNotes",g),b=C.data.sort((E,K)=>K.id-E.id);o(b),b.length>0&&n(b[0].id),x(b[0].id),console.log(C.data)}catch(g){console.error(g)}};r.useEffect(()=>{p()},[u]);const v=g=>{const C=a.find(b=>b.id===g);C&&(g!==c&&y(!1),x(g),n(g),i({title:C.title,content:C.content,color:C.color}))},$=g=>{const{name:C,value:b}=g.target;f(E=>({...E,[C]:b})),console.log(m)},R=g=>{const{name:C,value:b}=g.target;i(E=>({...E,[C]:b}))},_=async g=>{g.preventDefault();const C={headers:{Authorization:localStorage.getItem("token")}};try{const b=qr(),E=await S.post("/notes",{...m,color:b},C);alert("Note created successfully"),f({title:"",content:"",color:b}),console.log(E.data),w(Math.random())}catch(b){console.log(b)}V()},B=()=>{s(!0)},V=()=>{s(!1)},Y=async g=>{g.preventDefault();const C={headers:{Authorization:localStorage.getItem("token")}},b={title:h.title,content:h.content};try{const E=c,K=await S.put(`/notes/${E}`,b,C);i({title:"",content:"",color:""}),w(Math.random()),console.log(K.data),alert("Note updated successfully"),console.log(K.data)}catch(E){console.log(E)}y(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" absolute bottom-0 right-0 pb-8 pr-8",children:e.jsxs("button",{onClick:B,className:" overflow-hidden py-2 flex items-center px-3 bg-tertiary shadow bg-opacity-90 rounded-full text-white hover:bg-opacity-100 hover:shadow-md",children:[e.jsx(Ds,{size:15}),e.jsx("p",{children:"Add a note"})]})}),t&&e.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center bg-gray-900 bg-opacity-70 z-50",children:e.jsxs("div",{className:"w-[550px] max-h-[500px] overflow-auto bg-white p-3 rounded-lg flex flex-col gap-3 relative",children:[e.jsx("button",{className:"text-tertiary hover:text-primary text-xl px-4 py-2 absolute top-0 right-0",onClick:V,children:e.jsx(Oe,{})}),e.jsx("p",{className:"text-xl font-bold text-center py-4",children:"New note"}),e.jsxs("form",{onSubmit:_,children:[e.jsx("label",{htmlFor:"title",children:"Title"}),e.jsx("input",{type:"text",name:"title",value:m.title,onChange:$,className:"w-full border-secondary border-2 rounded-md p-2 mb-2 outline-none",placeholder:"Add title here",required:!0}),e.jsx("label",{htmlFor:"content",children:"Content"}),e.jsx("textarea",{name:"content",value:m.content,onChange:$,className:"w-full border-secondary border-2 resize-none rounded-md p-2 mb-2 outline-none auto-cols-auto",placeholder:"Add note content here...",rows:4,required:!0}),e.jsx("button",{type:"submit",className:" rounded-full w-full bg-secondary border-inherit text-white p-2 outline-none",children:"Create note"})]})]})}),a.length>0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:" w-full h-full flex overflow-auto",children:[e.jsxs("div",{className:" w-2/5 border-r shadow-md overflow-y-auto ",children:[e.jsx("h1",{className:"text-2xl font-semibold p-3",children:"My notes"}),a.map(g=>e.jsxs("div",{onClick:()=>v(g.id),className:`p-3 border-t border-b h-1/6 cursor-pointer hover:shadow-lg hover:border-secondary ${c===g.id?"bg-gray-200":""}`,style:{backgroundColor:g.color},children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:g.title}),g.content.length>50?e.jsxs("p",{className:"break-words text-justify mb-2 text-ellipsis",children:[g.content.slice(0,50),e.jsx("span",{className:" text-base font-medium",children:" .... "})]}):e.jsx("p",{className:"break-words text-justify mb-2 text-ellipsis",children:g.content})]},g.id))]}),l&&!k&&e.jsx("div",{className:" w-3/5 container flex flex-col h-full overflow-auto",children:a.filter(g=>g.id===c).map(g=>e.jsxs("div",{children:[e.jsx("div",{className:"flex w-full justify-end text-sm items-center my-3",children:e.jsxs("button",{className:" flex items-center gap-1 text-blue-500",onClick:()=>y(g.id),children:[e.jsx(As,{}),"Edit"]})}),e.jsx("h1",{className:"text-2xl font-semibold",children:g.title}),e.jsx("textarea",{disabled:!A,className:"break-words text-justify w-full  h-screen",children:g.content}),k&&e.jsx("div",{className:`w-3/5 container flex flex-col overflow-y-hidden ${l?"":"hidden"}`,children:a.filter(C=>C.id===c).map(C=>e.jsx("div",{children:e.jsxs("form",{onSubmit:()=>Y,className:"flex w-full justify-end text-sm gap-2 items-center my-3",children:[e.jsx("button",{type:"submit",className:" flex items-center gap-1 text-white rounded-md py-1 px-2 bg-green-500",children:"Save"}),e.jsx("button",{className:" flex items-center gap-1 text-red-500",onClick:()=>y(!1),children:"Cancel"}),e.jsxs("span",{className:" flex flex-col",children:[e.jsx("input",{onChange:R,type:"text",name:"title",placeholder:"Title",className:"text-2xl font-semibold outline-none bg-gray-50",value:h.title}),e.jsx("input",{onChange:R,name:"content",type:"text",placeholder:"Content",className:"break-words text-justify outline-none bg-gray-50",value:h.content})]})]})},C.id))})]},g.id))},c),k&&e.jsx("div",{className:`w-3/5 container flex flex-col ${l?"":"hidden"}`,children:a.filter(g=>g.id===c).map(g=>e.jsx("div",{children:e.jsxs("form",{onSubmit:Y,children:[e.jsxs("span",{className:" w-full flex items-center gap-2x justify-end",children:[e.jsx("button",{type:"submit",className:" flex items-center gap-1 text-white rounded-md py-1 px-2 bg-green-500",children:"Save"}),e.jsx("button",{className:" flex items-center text-red-500",onClick:()=>y(!1),children:"Cancel"})]}),e.jsxs("span",{className:" flex flex-col",children:[e.jsx("input",{onChange:R,type:"text",name:"title",placeholder:"Title",className:"text-2xl font-semibold outline-none bg-gray-50",value:h.title}),e.jsx("input",{onChange:R,name:"content",type:"text",placeholder:"Content",className:"break-words outline-none bg-gray-50 h-full",value:h.content})]})]})},g.id))})]})}):e.jsx("div",{className:"w-full mt-40",children:e.jsx("p",{className:"text-center text-2xl font-semibold mt-10",children:"You have no notes yet"})})]})},Kr="/assets/accessdeniedimg-32862604.png",Qr=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:" h-screen w-full flex items-center justify-center",children:e.jsxs("span",{className:" pr-0 mx-10 w-auto text-center",children:[e.jsx("img",{className:" md:h-96 md:w-96",src:`${Kr}`,alt:"Access denied image"}),e.jsx("h1",{className:" text-6xl font-bold",children:"403"}),e.jsx("h1",{className:" text-3xl font-bold",children:"Access Denied"}),e.jsx("p",{className:" text-xl font-bold",children:"You are not authorized to access this page."})]})})}),Q=({component:t,userType:s})=>{const a=localStorage.getItem("userType"),o=localStorage.getItem("token"),l=a===s;return o&&l?e.jsx(t,{}):o&&!l?e.jsx(Qr,{}):e.jsx(ys,{to:"/login"})},Yr={backgroundImage:`url(${$t})`,backgroundSize:" 100%",backgroundRepeat:"no-repeat"},Wr=()=>{const t=()=>{window.history.back()};return e.jsxs("div",{className:" w-full h-screen flex flex-col items-center justify-center",style:Yr,children:[e.jsx("div",{className:" absolute left-0 top-0 p-4",children:e.jsxs("button",{onClick:t,className:" flex items-center gap-1 text-xl hover:text-red-500",children:[e.jsx(Ts,{})," ",e.jsx("span",{children:"Back"})]})}),e.jsx("div",{className:"w-1/3 justify-center flex shadow-md rounded-lg h-2/4 border-2 border-red-500 p-2",children:e.jsx("h1",{className:" text-2xl font-bold",children:"Emergency contact numbers"})})]})},me={"/":" ","/about":" ","/login":" Login","/register":" Create an Account","/home":" Home","/dashboard":" Dashboard","/students-list":"Students","/calendar":" Calendar","/my-notes":" Notes","/email-verification":" Email Verification","/student-referral":" Student Referral","/emergency-link":" Emergency Contact Numbers"},ds=()=>{const[t,s]=r.useState(""),a=je();return r.useEffect(()=>{const o=a.pathname;document.title=` ${me[o]||"Page Not Found"}`,me[o]===" "&&(document.title="WellTalk"),o==="/"&&(document.title="WellTalk"),s(me[o]||"Page Not Found")},[a]),{currentPathName:t}},Jr=()=>e.jsx("section",{className:" h-full flex items-center ",children:e.jsxs("div",{className:" md:w-[600px] space-y-8",children:[e.jsx("h1",{className:" font-bold text-3xl sm:text-5xl tracking-normal text-primary-600 font-serif",children:"Elevating Student Support and Mental Health Services at CIT-University"}),e.jsx("p",{className:"block font-sans text-base font-normal leading-relaxed antialiased text-primary-600",children:"A website app that can automate and streamline various aspects of the Guidance Center's work, including appointment scheduling, resource sharing, and data management."}),e.jsxs("div",{className:" flex items-center space-x-2",children:[e.jsx(N,{size:"lg",className:" shadow bg-gradient-to-r from-primary-500 to-primary-300 hover:to-primary-500 font-bold ",children:"Get mobile app"}),e.jsx("h1",{className:" font-semibold text-xs text-primary-700",children:"For students."})]})]})}),Xr="/assets/notfound-b73d7ef6.png",Zr=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:" h-screen w-full flex items-center justify-center",children:e.jsxs("span",{className:" pr-0 mx-10 w-auto text-center",children:[e.jsx("img",{className:" md:h-96 md:w-96",src:`${Xr}`,alt:"Not found page image"}),e.jsx("h1",{className:" text-6xl font-bold",children:"404"}),e.jsx("h1",{className:" text-3xl font-bold",children:"Page Not Found"})]})})}),eo=()=>e.jsxs("footer",{className:" flex bg-gray-50 py-5 bottom-0 items-center px-6 items justify-between border-t-2",children:[e.jsx("h1",{className:" text-slate-300 items-center",children:"© WellTalk | 2023 | Guia | Batulan | Nadela | Perez | Prahinog"}),e.jsxs("ul",{className:" flex gap-3 items-center text-slate-400",children:[e.jsx(Is,{size:20}),e.jsx(Fs,{size:20}),e.jsx(Es,{size:20})]})]}),to="/assets/logo-91b86dfd.png",so=()=>e.jsx(e.Fragment,{children:e.jsx("header",{children:e.jsxs("div",{className:" flex items-center justify-between mx-14 py-4",children:[e.jsx("div",{className:"hidden sm:block",children:e.jsx(z,{to:"/",children:e.jsx("img",{src:to,alt:"logo",className:" h-16 w-16"})})}),e.jsxs("div",{className:" space-x-3 md:flex-col items-center",children:[e.jsx(N,{asChild:!0,variant:"link",className:" hover:no-underline hover:text-primary-600",children:e.jsx(z,{to:"/",children:"Home"})}),e.jsx(N,{asChild:!0,variant:"link",className:" hover:no-underline hover:text-primary-600",children:e.jsx(z,{to:"/features",children:"Features"})}),e.jsx(N,{asChild:!0,variant:"link",className:" hover:no-underline hover:text-primary-600",children:e.jsx(z,{to:"/about",children:"About Us"})}),e.jsx(N,{variant:"outline",className:" hover:bg-primary-200 hover:bg-opacity-30",children:e.jsx(z,{to:"/login",children:"Login"})}),e.jsx(N,{variant:"default",children:e.jsx(z,{to:"/register",children:"Create account"})})]})]})})}),ao=()=>e.jsxs("div",{className:"  flex flex-col h-screen md:bg-[url('@/media/images/defaultbg.png')] bg-no-repeat bg-origin-border bg-center bg-primary-100",children:[e.jsx("div",{children:e.jsx(so,{})}),e.jsx("div",{className:"h-full container",children:e.jsx(Le,{})}),e.jsx("div",{children:e.jsx(eo,{})})]}),Pe=({navIsClicked:t})=>{let s=[{icon:e.jsx(Os,{}),name:"Home",path:"/home"},{icon:e.jsx(zs,{}),name:"Dashboard",path:"/dashboard"},{icon:e.jsx(Us,{}),name:"Students",path:"/students-list"},{icon:e.jsx(_s,{}),name:"Calendar",path:"/calendar"},{icon:e.jsx(Bs,{}),name:"Notes",path:"/my-notes"}];const a=je(),[o,l]=r.useState(s.findIndex(f=>f.path==a.pathname)),{user:n}=Et(),{loading:c}=te(),{logout:x}=ke(),m=()=>{x()};return a.pathname=="/student-referral"?null:e.jsx(e.Fragment,{children:e.jsxs("section",{className:"flex flex-col gap-2 bg-primary-700 px-4 py-4 h-screen w-64 animate-in",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-red-400 text-2xl font-semibold",children:e.jsx(Ps,{})}),e.jsx("div",{className:"text-slate-500 text-2xl font-semibold",children:e.jsx(Ms,{})})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center mb-5",children:[e.jsx(ha,{children:e.jsx(oe,{src:"https://i.pravatar.cc/300",className:" rounded-full h-36 w-36"})}),e.jsx("h1",{className:"text-white text-lg font-semibold",children:!c&&e.jsx(e.Fragment,{children:`${n==null?void 0:n.firstName} ${n==null?void 0:n.lastName}`})}),e.jsx("span",{className:"text-primary-100 text-sm",children:n==null?void 0:n.userType})]}),s.map((f,h)=>e.jsxs(z,{to:f.path,className:o==h?"text-white font-semibold text-lg cursor-pointer flex items-center gap-3 rounded-md p-3 bg-primary-500 ":"text-gray-50 cursor-pointer text-lg flex items-center gap-3 rounded-md p-3 hover:bg-primary-500",onClick:()=>{l(h)},children:[f.icon,f.name]},h)),e.jsxs("div",{className:"text-gray-50 cursor-pointer text-lg flex items-center gap-3 rounded-md p-3 hover:bg-red-500",onClick:m,children:[e.jsx(Ls,{}),"Logout"]})]})})},ro=({currentPathName:t,showSidebar:s})=>{const a=()=>{s()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" flex justify-between px-6 py-2 items-center shadow bg-white",children:[e.jsxs("div",{className:" flex items-center gap-2",children:[e.jsx(N,{variant:"ghost",size:"icon",onClick:a,className:" text-primary-500 hover:text-primary-600",children:e.jsx(Vs,{size:20})}),e.jsx("p",{className:" text-neutral-700",children:t})]}),e.jsxs("div",{className:" flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(T,{type:"search",placeholder:"Search Welltalk",className:"md:w-[100px] lg:w-[300px] bg-inherit pr-8 shadow-sm"}),e.jsx(Hs,{className:"absolute top-1/2 right-2 transform -translate-y-1/2 h-5 w-5 cursor-pointer text-primary-500"})]}),e.jsx(N,{variant:"ghost",asChild:!0,size:"icon",className:" text-red-500 hover:text-red-600",children:e.jsx(z,{to:"/emergency-link",children:e.jsx(qs,{className:"h-6 w-6"})})})]})]})})},oo=()=>{const[t,s]=r.useState(!1),{currentPathName:a}=ds(),{loading:o}=te(),l=()=>{s(!t)};return e.jsx(e.Fragment,{children:!o&&e.jsxs("div",{className:"h-screen flex bg-slate-50",children:[t?e.jsx("aside",{className:" hidden md:flex",children:e.jsx(Pe,{})}):null,t?e.jsxs("div",{className:" w-full absolute bg-gray-900 bg-opacity-70 z-50 lg:hidden animate-in",children:[e.jsx(N,{variant:"ghost",size:"icon",onClick:l,className:" fixed left-64 text-white",children:e.jsx(Gs,{})}),e.jsx(Pe,{})]}):null,e.jsxs("div",{className:" flex flex-col w-full overflow-auto scroll-smooth ",children:[e.jsx("header",{className:" sticky top-0 z-10",children:e.jsx(ro,{currentPathName:a,showSidebar:()=>{l()}})}),e.jsx("main",{className:"container mx-auto my-3",children:e.jsx(Le,{})})]})]})})};function lo(){const t=je(),[s,a]=r.useState(!1),{currentPathName:o}=ds();r.useEffect(()=>{const n=()=>{const x=localStorage.getItem("token");if(x){const{exp:m}=JSON.parse(atob(x.split(".")[1]));m*1e3<Date.now()?(a(!0),localStorage.removeItem("token")):a(!1)}};n();const c=setInterval(n,1e4);return()=>{clearInterval(c)}},[t,o]);const l=()=>{localStorage.clear(),a(!1)};return e.jsx(e.Fragment,{children:e.jsxs(Ns,{children:[e.jsxs(F,{element:e.jsx(ao,{}),children:[e.jsx(F,{path:"/",element:e.jsx(Jr,{})}),e.jsx(F,{path:"about",element:e.jsx(Aa,{})}),e.jsx(F,{path:"login",element:e.jsx(wr,{})}),e.jsx(F,{path:"register",element:e.jsx(Za,{})})]}),e.jsx(F,{path:"email-verification",element:e.jsx($r,{})}),e.jsx(F,{path:"emergency-link",element:e.jsx(Wr,{})}),e.jsxs(F,{element:e.jsx(oo,{}),children:[e.jsx(F,{path:"home",element:e.jsx(Q,{userType:"Counselor",component:Hr})}),e.jsx(F,{path:"dashboard",element:e.jsx(Q,{userType:"Counselor",component:er})}),e.jsx(F,{path:"students-list",element:e.jsx(Q,{userType:"Counselor",component:mr})}),e.jsx(F,{path:"calendar",element:e.jsx(Q,{userType:"Counselor",component:Ua})}),e.jsx(F,{path:"my-notes",element:e.jsx(Q,{userType:"Counselor",component:Gr})})]}),e.jsx(F,{path:"student-referral",element:e.jsx(Q,{userType:"Teacher",component:Rr})}),e.jsx(F,{path:"*",element:e.jsx(Zr,{})}),s&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-500",children:"Your session has ended."}),e.jsx("p",{className:"text-gray-600",children:"Please login again to continue."}),e.jsx("div",{className:" flex mt-5 gap-2",children:e.jsx("button",{className:" bg-gray-500 text-white py-1 px-3 rounded-sm",onClick:l,children:"Ok"})})]})})]})})}bs.createRoot(document.getElementById("root")).render(e.jsx(pa,{children:e.jsx(Qa,{children:e.jsx(lo,{})})}));
