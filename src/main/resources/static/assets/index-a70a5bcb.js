import{j as e,r}from"./react-0339c6e0.js";import{c as ns}from"./react-dom-3ca3a68d.js";import{a as Be}from"./axios-28bc18a3.js";import{a as le,b as Se,d as cs,O as is,e as ds,f as H}from"./react-router-6b109e89.js";import{H as Fe,a as Ee,b as Pe,I as ke,A as ms,R as xs,c as us,d as hs,F as ps,e as fs,f as gs,B as js,g as bs,P as ys,h as Ns,i as ws,j as vs,k as Ss,l as ks,m as Cs,n as $s,o as Ds,p as Rs,G as Is,q as Ts,r as As,M as Fs,s as Es,t as Ps,u as Ls,v as Ms}from"./react-icons-781528e4.js";import{L as _,B as Os}from"./react-router-dom-cdd2c365.js";import{c as zs}from"./clsx-1229b3e0.js";import{t as Us}from"./tailwind-merge-1166cefb.js";import{t as Ce}from"./@hookform-11aa8359.js";import{$ as Ve,a as _e,b as He,c as Bs,d as qe,e as Ge,f as Vs,g as Ye,h as _s,i as Ke,j as Qe,k as Hs,l as qs,m as We,n as Gs,o as Ys,p as Je,q as Xe,r as Ks,s as Ze,t as et,u as tt,v as st,w as at,x as rt,y as ot,z as Qs,A as Ws,B as lt,C as nt,D as ct,E as it,F as dt,G as mt,H as Js,I as xt,J as ut,K as ht,L as pt,M as ft,N as Xs,O as gt,P as jt,Q as Zs,R as ea,S as Le,T as Me,U as ta,V as sa,W as aa}from"./@radix-ui-1a4b5322.js";import{u as ra,F as oa,C as la,b as W}from"./react-hook-form-5e9472c9.js";import{c as ne}from"./class-variance-authority-52f2569e.js";import{C as bt,a as na,b as yt,L as ca,c as ia,d as da,A as fe,X as Nt,I as ma}from"./lucide-react-a69f0fcc.js";import{o as $e,s as q,a as xa}from"./zod-6a28afb7.js";import{u as ua,f as Oe,g as ha,a as pa,b as fa,c as ga}from"./@tanstack-83cd6126.js";import"./scheduler-765c72db.js";import"./@remix-run-8989dd9f.js";import"./@babel-98964cd2.js";import"./aria-hidden-606e0ff2.js";import"./react-remove-scroll-1304a1f5.js";import"./tslib-89fde298.js";import"./react-remove-scroll-bar-27bcfd45.js";import"./react-style-singleton-b93ee2ea.js";import"./get-nonce-1ea010b7.js";import"./use-sidecar-47757e47.js";import"./use-callback-ref-4aef4c1b.js";import"./@floating-ui-b5959b2a.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(l){if(l.ep)return;l.ep=!0;const n=s(l);fetch(l.href,n)}})();const ja=()=>e.jsx(e.Fragment,{children:e.jsx("h1",{children:"About"})}),{API_BASE_URL:ba}={VITE_API_BASE_URL:"https://welltalk.onrender.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},ya="/authenticate",Na="/users/register",D=Be.create({baseURL:ba}),wa=({isOpen:t,onClose:a,onConfirm:s})=>e.jsx(e.Fragment,{children:t&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center z-50 bg-black bg-opacity-75",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Confirmation"}),e.jsx("p",{children:"Are you sure you want to accept this referral?"}),e.jsxs("div",{className:"flex justify-end mt-4",children:[e.jsx("button",{className:"bg-gray-300 text-gray-700 rounded-md p-2",onClick:a,children:"Cancel"}),e.jsx("button",{className:"bg-primary text-white rounded-md p-2 ml-2",onClick:()=>{s()},children:"Confirm"})]})]})})}),va=()=>{const[t,a]=r.useState([]),[s,o]=r.useState(!1),[l,n]=r.useState(),[u,d]=r.useState(0);le(),r.useEffect(()=>{const c={headers:{Authorization:`${localStorage.getItem("token")}`}};D.get("/referrals",c).then(i=>{a(i.data.filter(v=>!v.isAccepted)),console.log(i.data)}).catch(i=>{console.error("Error retrieving referrals:",i)})},[u]);const m=c=>{n(c),o(!0)},b=()=>{o(!1)},p=()=>{D.put(`/referrals/${l==null?void 0:l.id}`,{},{headers:{Authorization:`${localStorage.getItem("token")}`}}).then(c=>{console.log("Referral updated successfully",c.data),d(Math.random()),o(!1)}).catch(c=>{console.error("Error updating referral:",c)})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" overflow-y-auto",children:t.length===0?e.jsx("p",{className:" text-gray-500 text-sm p-2",children:"No referrals yet."}):e.jsx("ul",{className:" p-2",children:t.map(c=>e.jsxs("li",{className:"border-b px-2 rounded-md shadow-sm py-2 border mb-2",children:[e.jsxs("p",{children:[c.student.firstname," ",c.student.lastname]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:" flex gap-2",children:[e.jsxs("div",{className:"text-gray-500 text-sm",children:["Course & Year:"," ",e.jsxs("span",{className:"text-primary",children:[c.student.course," - ",c.student.year]})]}),e.jsxs("div",{className:"text-gray-500 text-sm",children:["Student ID: ",e.jsx("span",{className:"text-primary",children:c.student.studentID})]})]}),e.jsxs("div",{className:"text-gray-500 text-sm",children:["Referred by:"," ",e.jsxs("span",{className:"text-primary",children:[c.teacher.firstName," ",c.teacher.lastName]})]}),e.jsxs("div",{className:"text-gray-500 text-sm mb-1",children:["Reason:"," ",e.jsx("div",{className:" bg-gray-300 border rounded p-2",children:e.jsx("i",{className:"text-black flex flex-grow w-full break-all",children:c.reason})})]})]}),e.jsx("button",{onClick:()=>m(c),className:"text-xs bg-primary text-white rounded-md p-1 focus:bg-tertiary active:bg-tertiary",children:"Accept"})]},c.id))})}),e.jsx(wa,{isOpen:s,onClose:b,onConfirm:p})]})},wt=()=>{const[t,a]=r.useState(""),[s,o]=r.useState(""),[l,n]=r.useState([]),[u,d]=r.useState(!1),[m,b]=r.useState(""),p=async()=>{const N={headers:{Authorization:`${localStorage.getItem("token")}`}};return(await D.get("https://wanted-sweater-production.up.railway.app/getAllUser",N)).data};return{selectedStudent:t,value:t,setValue:a,query:s,setQuery:o,studentID:m,setStudentId:b,results:l,setResults:n,showResultsDropdown:u,setShowResultsDropdown:d,useFetchStudents:()=>{const[N,E]=r.useState([]);return r.useEffect(()=>{(async()=>{const f=await p();E(f)})()},[]),{students:N}},handleQueryChange:(N,E,F,f,k,I)=>{const A=N.target.value;k(A),I(A);const B=E.filter(R=>R.firstName.toLowerCase().includes(A.toLowerCase())||R.lastName.toLowerCase().includes(A.toLowerCase()));F(B),f(B.length>0)},handleStudentInput:(N,E,F,f,k,I)=>{f(N),k([]),I("");const A=E.find(B=>B.firstName+" "+B.lastName===N);A&&F(A.userid.toString())},handleClear:()=>{a(""),n([]),o("")}}},Sa=()=>{const[t,a]=r.useState(""),[s,o]=r.useState(""),[l,n]=r.useState(!1),[u,d]=r.useState(!1),m=async(c,i)=>{const v=new Date;if(new Date(`${t}T${s}`)<v){alert("Appointment date and time must not be before the current date and time"),p();return}const N={headers:{Authorization:`${localStorage.getItem("token")}`}},E={start_date:`${t}T${s}`},F={dateTime:`${t}T${s}`};try{if(i){const f=await D.post("/availableschedules",F,N);console.log(f.data),alert("Schedule created successfully")}else{const f=await D.post("/appointments?student="+c,E,N);console.log(f.data),alert("Appointment set successfully"),window.location.reload()}p()}catch(f){console.error(i?"Error creating schedule:":"Error creating appointment:",f)}},b=c=>{const i=c.target.value;let[v,y]=i.split(":"),N="00";i.includes("pm")&&(v=(parseInt(v,10)+12).toString()),o(`${v}:${y}:${N}`)},p=()=>{a(""),o("")};return{startDate:t,setStartDate:a,startTime:s,setStartTime:o,showAnnounceSchedule:l,setShowAnnounceSchedule:n,showAppoinmentRequests:u,setShowAppoinmentRequests:d,handleSubmit:m,handleSelectTime:b,clearForm:p}},ka=({isOpen:t,onClose:a,onConfirm:s})=>e.jsx(e.Fragment,{children:t&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center z-50 bg-black bg-opacity-75",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Confirmation"}),e.jsx("p",{children:"Are you sure you want to accept this request?"}),e.jsxs("div",{className:"flex justify-end mt-4",children:[e.jsx("button",{className:"bg-gray-300 text-gray-700 rounded-md p-2",onClick:a,children:"Cancel"}),e.jsx("button",{className:"bg-primary text-white rounded-md p-2 ml-2",onClick:()=>{s()},children:"Confirm"})]})]})})}),Ca=()=>{const[t,a]=r.useState([]),[s,o]=r.useState(!1),[l,n]=r.useState(),[u,d]=r.useState(0);le(),r.useEffect(()=>{D.get("/requests/all").then(c=>{a(c.data.filter(i=>!i.decision)),console.log(c.data)}).catch(c=>{console.error("Error retrieving requests:",c)})},[u]);const m=c=>{n(c),o(!0)},b=()=>{o(!1)},p=()=>{D.put(`/requests/${l==null?void 0:l.id}`,{},{headers:{Authorization:`${localStorage.getItem("token")}`}}).then(c=>{console.log("Request updated successfully",c.data),d(Math.random()),o(!1)}).catch(c=>{console.error("Error updating request:",c)})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" overflow-y-auto",children:t.length===0?e.jsx("p",{className:" text-gray-500 text-sm p-2",children:"No requests yet."}):e.jsx("ul",{className:" p-2",children:t.map(c=>e.jsxs("li",{className:"border-b px-2 rounded-md shadow-sm py-2 border mb-2",children:[e.jsxs("p",{children:[c.student.firstname," ",c.student.lastname,e.jsxs("span",{className:" text-gray-400 text-xs",children:[" ","- ",new Date(c.date_created).toLocaleDateString()," ",c.time_created]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:" flex gap-2",children:[e.jsxs("div",{className:"text-gray-500 text-sm",children:["Course & Year:"," ",e.jsxs("span",{className:"text-primary",children:[c.student.course," - ",c.student.year]})]}),e.jsxs("div",{className:"text-gray-500 text-sm",children:["Student ID: ",e.jsx("span",{className:"text-primary",children:c.student.studentID})]})]}),e.jsxs("div",{className:"text-gray-500 text-sm mb-1 mt-2",children:["Message:"," ",e.jsx("div",{className:" bg-gray-300 border rounded p-2",children:e.jsx("i",{className:"text-black flex flex-grow w-full break-all",children:c.message})})]})]}),e.jsx("button",{onClick:()=>m(c),className:"text-xs bg-primary text-white rounded-md p-1 focus:bg-tertiary active:bg-tertiary",children:"Accept"})]},c.id))})}),e.jsx(ka,{isOpen:s,onClose:b,onConfirm:p})]})},$a=()=>{const[t,a]=r.useState([]),[s,o]=r.useState(!0),[l,n]=r.useState(!0),[u,d]=r.useState(!1),[m,b]=r.useState(!1),[p,c]=r.useState(0);r.useEffect(()=>{const f={headers:{Authorization:`${localStorage.getItem("token")}`}};D.get("/myappointments",f).then(k=>{a(k.data.sort((I,A)=>new Date(I.start_date).getTime()-new Date(A.start_date).getTime()).filter(I=>!I.isDone)),console.log(k.data)}).catch(k=>{console.error("Error retrieving appointments:",k)})},[p]);const i=new Date().toLocaleDateString(),v=t.filter(f=>new Date(f.start_date).toLocaleDateString()===i),y=t.filter(f=>new Date(f.start_date).toLocaleDateString()!==i),N=()=>{d(!u)},E=()=>{b(!m)},F=f=>{const k={headers:{Authorization:`${localStorage.getItem("token")}`}};D.put(`/appointments/${f}`,{isDone:!0},k).then(I=>{c(Math.random()),console.log(I.data)}).catch(I=>{console.error("Error marking appointment as done:",I)})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("h2",{className:"font-sans text-md top-0 pl-2",children:"Today's Appointments"}),e.jsx("div",{className:"flex items-center justify-between pr-2",onClick:N,children:u?e.jsx(Fe,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>{o(!s)}}):e.jsx(Ee,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>{o(!s)}})})]}),v.length>0?e.jsx(e.Fragment,{children:e.jsx("ul",{className:`p-2 ${s?"":"hidden"}`,children:v.map((f,k)=>e.jsxs("li",{className:" border-b px-2 rounded-md shadow-sm py-2 border mb-2 bg-tertiary",children:[e.jsxs("p",{className:"text-white",children:[f.student.firstname," ",f.student.lastname]}),e.jsxs("div",{className:" flex flex-col gap-2",children:[e.jsxs("div",{className:" flex flex-col",children:[e.jsxs("p",{className:"text-gray-500 text-sm",children:["Course & Year:"," ",e.jsxs("span",{className:"text-primary",children:[f.student.course," - ",f.student.year]})]}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Student ID: ",e.jsx("span",{className:"text-primary",children:f.student.studentID})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("p",{className:" text-gray-300 text-sm",children:["Date: ",e.jsx("span",{className:"text-primary",children:new Date(f.start_date).toLocaleDateString()})]}),e.jsxs("p",{className:" text-gray-300 text-sm",children:["Start Time:"," ",e.jsx("span",{className:"text-primary",children:new Date(f.start_date).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0,second:void 0})})]})]})]}),e.jsx("button",{onClick:()=>F(f.id),className:" text-white text-xs bg-secondary p-1 rounded-md mt-2",children:"Mark as done"})]},k))})}):e.jsx("p",{className:`text-gray-500 text-sm p-2 ${s?"":"hidden"}`,children:"No appointments today."}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("h2",{className:"font-sans text-md top-0 pl-2",children:"Upcoming Appointments"}),e.jsx("div",{className:"flex items-center justify-between pr-2",onClick:E,children:m?e.jsx(Fe,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>{n(!l)}}):e.jsx(Ee,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>{n(!l)}})})]}),y.length>0?e.jsx(e.Fragment,{children:e.jsx("ul",{className:`p-2 ${l?"":"hidden"}`,children:y.map((f,k)=>e.jsxs("li",{className:" border-b px-2 rounded-md shadow-sm py-2 border mb-2 bg-tertiary",children:[e.jsxs("p",{className:"text-white",children:[f.student.firstname," ",f.student.lastname]}),e.jsxs("div",{className:" flex flex-col gap-2",children:[e.jsxs("div",{className:" flex flex-col",children:[e.jsxs("p",{className:"text-gray-500 text-sm",children:["Course & Year:"," ",e.jsxs("span",{className:"text-primary",children:[f.student.course," - ",f.student.year]})]}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Student ID: ",e.jsx("span",{className:"text-primary",children:f.student.studentID})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("p",{className:" text-gray-300 text-sm",children:["Date: ",e.jsx("span",{className:"text-primary",children:new Date(f.start_date).toLocaleDateString()})]}),e.jsxs("p",{className:" text-gray-300 text-sm",children:["Start Time:"," ",e.jsx("span",{className:"text-primary",children:new Date(f.start_date).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0,second:void 0})})]})]})]}),e.jsx("button",{onClick:()=>F(f.id),className:" text-white text-xs bg-secondary p-1 rounded-md mt-2",children:"Mark as done"})]},k))})}):e.jsx("p",{className:`text-gray-500 text-sm p-2 ${l?"":"hidden"}`,children:"No upcoming appointments."})]})})},Da=()=>{r.useState(new Date);const t={borderBottom:"2px solid #769EAB",background:"transparent",outline:"none",width:"100%",height:"40px",padding:"3px 3px",marginBottom:"16px",border:"1px solid #769EAB",borderRadius:"5px"},{useFetchStudents:a,handleQueryChange:s,handleStudentInput:o,value:l,setQuery:n,setValue:u,studentID:d,query:m,setStudentId:b,setResults:p,results:c,showResultsDropdown:i,setShowResultsDropdown:v,handleClear:y}=wt(),{students:N}=a(),{startDate:E,setStartDate:F,startTime:f,showAnnounceSchedule:k,setShowAnnounceSchedule:I,showAppoinmentRequests:A,setShowAppoinmentRequests:B,handleSubmit:R,handleSelectTime:j,clearForm:C}=Sa(),x=g=>{s(g,N,p,v,u,n)},w=r.useRef(null);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-grow gap-10 justify-center",children:[e.jsxs("div",{className:" bg-white w-80 rounded-lg shadow-2xl flex flex-col border pb-3 px-2",children:[e.jsxs("div",{className:"flex items-center justify-between border-b",children:[e.jsx("h1",{className:" font-semibold text-md top-0 py-4 pl-2",children:k?"Announce a Schedule":"Set an Appointment"}),e.jsx(Pe,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>I(!k)})]}),k?e.jsxs("form",{className:" px-3 pt-3",children:[e.jsx("label",{className:" text-sm text-gray-400",children:"Date"}),e.jsx("input",{name:"date",type:"date",style:t,autoComplete:"off",required:!0,value:E,onChange:g=>F(g.target.value)}),e.jsx("label",{className:" text-sm text-gray-400",children:"Time"}),e.jsx("input",{name:"time",type:"time",style:t,autoComplete:"off",required:!0,value:f,onChange:j}),e.jsx("button",{type:"submit",className:" text-sm bg-tertiary rounded-lg p-2 text-white hover:shadow-sm hover:shadow-secondary",onClick:()=>R(d,k),children:"SET SCHEDULE"})]}):e.jsxs("form",{className:" px-3 pt-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{ref:w,type:"text",placeholder:"Student name",style:t,onChange:x,value:l,required:!0}),e.jsx("button",{className:"text-xs text-white mb-4 cursor-pointer bg-secondary rounded-md p-1 ml-2",onClick:y,children:"clear"})]}),i&&m&&e.jsx("ul",{className:"max-h-60 overflow-y-auto absolute w-full max-w-[250px] bg-white border border-gray-300 rounded-b-md",children:c.map(g=>e.jsxs("li",{className:" w-full border p-2 cursor-pointer hover:bg-gray-100 hover:shadow-lg hover:border-secondary",onClick:()=>o(g.firstName+" "+g.lastName,N,b,u,p,n),children:[e.jsxs("p",{className:"text-sm bold",children:[g.firstName," ",g.lastName]}),e.jsxs("p",{className:"text-xs text-red-500",children:["Student ID: ",g.userid]})]},g.userid))}),e.jsx("label",{className:" text-sm text-gray-400",children:"Date"}),e.jsx("input",{name:"date",type:"date",style:t,autoComplete:"off",required:!0,value:E,onChange:g=>F(g.target.value)}),e.jsx("label",{className:" text-sm text-gray-400",children:"Time"}),e.jsx("input",{name:"time",type:"time",style:t,autoComplete:"off",required:!0,value:f,onChange:j}),e.jsx("button",{type:"submit",className:" text-sm bg-tertiary rounded-lg p-2 text-white hover:shadow-sm hover:shadow-secondary",onClick:()=>R(d,k),children:"SET APPOINTMENT"})]})]}),e.jsxs("div",{className:" max-h-[400px] w-80  overflow-y-auto rounded-lg shadow-2xl px-2 flex flex-col border bg-white",children:[e.jsx("h1",{className:" font-semibold text-md border-b bg-white py-4 pl-2",children:"My Appointments"}),e.jsx($a,{})]}),e.jsxs("div",{className:"max-h-[400px] w-[400px] rounded-lg shadow-2xl px-2 flex flex-col border bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between border-b",children:[e.jsx("h1",{className:" font-semibold text-md top-0 py-4 pl-2",children:A?"Appointment Requests":"Referred Students"}),e.jsx(Pe,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>B(!A)})]}),A?e.jsx(Ca,{}):e.jsx(va,{})]})]})})},De="/assets/login-registerbg-e46d2a74.png";function h(...t){return Us(zs(t))}const G=r.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:h("rounded-lg border border-slate-200 bg-white text-slate-950 shadow-sm dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...a}));G.displayName="Card";const J=r.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:h("flex flex-col space-y-1.5 p-6",t),...a}));J.displayName="CardHeader";const ce=r.forwardRef(({className:t,...a},s)=>e.jsx("h3",{ref:s,className:h("text-2xl font-semibold leading-none tracking-tight",t),...a}));ce.displayName="CardTitle";const vt=r.forwardRef(({className:t,...a},s)=>e.jsx("p",{ref:s,className:h("text-sm text-slate-500 dark:text-slate-400",t),...a}));vt.displayName="CardDescription";const Y=r.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:h("p-6 pt-0",t),...a}));Y.displayName="CardContent";const ie=r.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:h("flex items-center p-6 pt-0",t),...a}));ie.displayName="CardFooter";const Ra=ne("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=r.forwardRef(({className:t,...a},s)=>e.jsx(Ve,{ref:s,className:h(Ra(),t),...a}));de.displayName=Ve.displayName;const me=oa,St=r.createContext({}),U=({...t})=>e.jsx(St.Provider,{value:{name:t.name},children:e.jsx(la,{...t})}),xe=()=>{const t=r.useContext(St),a=r.useContext(kt),{getFieldState:s,formState:o}=ra(),l=s(t.name,o);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:n}=a;return{id:n,name:t.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...l}},kt=r.createContext({}),L=r.forwardRef(({className:t,...a},s)=>{const o=r.useId();return e.jsx(kt.Provider,{value:{id:o},children:e.jsx("div",{ref:s,className:h("space-y-2",t),...a})})});L.displayName="FormItem";const ee=r.forwardRef(({className:t,...a},s)=>{const{error:o,formItemId:l}=xe();return e.jsx(de,{ref:s,className:h(o&&"text-red-500 dark:text-red-900",t),htmlFor:l,...a})});ee.displayName="FormLabel";const M=r.forwardRef(({...t},a)=>{const{error:s,formItemId:o,formDescriptionId:l,formMessageId:n}=xe();return e.jsx(_e,{ref:a,id:o,"aria-describedby":s?`${l} ${n}`:`${l}`,"aria-invalid":!!s,...t})});M.displayName="FormControl";const te=r.forwardRef(({className:t,...a},s)=>{const{formDescriptionId:o}=xe();return e.jsx("p",{ref:s,id:o,className:h("text-sm text-slate-500 dark:text-slate-400",t),...a})});te.displayName="FormDescription";const O=r.forwardRef(({className:t,children:a,...s},o)=>{const{error:l,formMessageId:n}=xe(),u=l?String(l==null?void 0:l.message):a;return u?e.jsx("p",{ref:o,id:n,className:h("text-sm font-medium text-red-500 dark:text-red-900",t),...s,children:u}):null});O.displayName="FormMessage";const z=r.forwardRef(({className:t,type:a,...s},o)=>e.jsx("input",{type:a,className:h("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-primary-700 focus-visible:outline-1 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...s}));z.displayName="Input";const Ia=ne("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-primary-500 text-primary-500 hover:bg-primary-100 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-primary-100 text-primary-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-primary-500 underline-offset-4 hover:underline hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-full px-3",lg:"h-11 rounded-full px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=r.forwardRef(({className:t,variant:a,size:s,asChild:o=!1,...l},n)=>{const u=o?_e:"button";return e.jsx(u,{className:h(Ia({variant:a,size:s,className:t})),ref:n,...l})});$.displayName="Button";const Ta=Gs,Aa=Ys,Ct=r.forwardRef(({className:t,children:a,...s},o)=>e.jsxs(He,{ref:o,className:h("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-primary-200 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-slate-300",t),...s,children:[a,e.jsx(Bs,{asChild:!0,children:e.jsx(bt,{className:"h-4 w-4 opacity-50"})})]}));Ct.displayName=He.displayName;const $t=r.forwardRef(({className:t,...a},s)=>e.jsx(qe,{ref:s,className:h("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(na,{className:"h-4 w-4"})}));$t.displayName=qe.displayName;const Dt=r.forwardRef(({className:t,...a},s)=>e.jsx(Ge,{ref:s,className:h("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(bt,{className:"h-4 w-4"})}));Dt.displayName=Ge.displayName;const Rt=r.forwardRef(({className:t,children:a,position:s="popper",...o},l)=>e.jsx(Vs,{children:e.jsxs(Ye,{ref:l,className:h("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...o,children:[e.jsx($t,{}),e.jsx(_s,{className:h("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(Dt,{})]})}));Rt.displayName=Ye.displayName;const Fa=r.forwardRef(({className:t,...a},s)=>e.jsx(Ke,{ref:s,className:h("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a}));Fa.displayName=Ke.displayName;const ye=r.forwardRef(({className:t,children:a,...s},o)=>e.jsxs(Qe,{ref:o,className:h("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Hs,{children:e.jsx(yt,{className:"h-4 w-4"})})}),e.jsx(qs,{children:a})]}));ye.displayName=Qe.displayName;const Ea=r.forwardRef(({className:t,...a},s)=>e.jsx(We,{ref:s,className:h("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",t),...a}));Ea.displayName=We.displayName;const X=()=>{const[t,a]=r.useState(!0);return r.useEffect(()=>{const s=setTimeout(()=>{a(!1)},1e3);return()=>clearTimeout(s)},[]),{loading:t,setLoading:a}},ue=()=>{const[t,a]=r.useState();return r.useEffect(()=>{(async()=>{try{const o={headers:{Authorization:`${localStorage.getItem("token")}`}};console.log(localStorage.getItem("token"));const l=localStorage.getItem("user"),n=await D.get(`/users/username/${l}`,o);console.log(n.data),a(n.data)}catch(o){console.log(o)}})()},[]),{user:t,setUser:a}},It=r.createContext(null),Re=()=>r.useContext(It),Pa=({children:t})=>{const{user:a,setUser:s}=ue(),{loading:o,setLoading:l}=X(),n=async(m,b)=>{l(!0);try{const p=await D.post(ya,{username:m,password:b},{headers:{"Content-Type":"application/json"}});localStorage.setItem("token",p.data.token);const c={headers:{Authorization:localStorage.getItem("token")}},v=(await D.get(`/users/username/${m}`,c)).data.userType;return localStorage.setItem("user",m),localStorage.setItem("password",b),localStorage.setItem("userType",v),s(a),{success:!0,userType:v}}catch(p){return{success:!1,error:p}}finally{l(!1)}},u=async(m,b,p,c,i,v,y)=>{l(!0);try{return await D.post(Na,JSON.stringify({firstName:m,lastName:b,email:p,schoolID:c,userType:i,username:v,password:y}),{headers:{"Content-Type":"application/json"}}),{success:!0}}catch(N){return{success:!1,error:N}}finally{l(!1)}},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("userType"),s(void 0),window.location.reload()};return e.jsx(It.Provider,{value:{user:a,loading:o,login:n,register:u,logout:d},children:t})},La=ne("relative w-full rounded-lg border border-slate-200 p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-slate-950 dark:border-slate-800 dark:[&>svg]:text-slate-50",{variants:{variant:{default:"bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900"}},defaultVariants:{variant:"default"}}),Tt=r.forwardRef(({className:t,variant:a,...s},o)=>e.jsx("div",{ref:o,role:"alert",className:h(La({variant:a}),t),...s}));Tt.displayName="Alert";const Ma=r.forwardRef(({className:t,...a},s)=>e.jsx("h5",{ref:s,className:h("mb-1 font-medium leading-none tracking-tight",t),...a}));Ma.displayName="AlertTitle";const At=r.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:h("text-sm [&_p]:leading-relaxed",t),...a}));At.displayName="AlertDescription";const Oa=$e({firstName:q(),lastName:q(),email:q().email(),schoolID:q(),userType:q({required_error:"Please select a user type"}),username:q().min(3,{message:"Username must be at least 3 characters long"}),password:q().min(8,{message:"Password must be at least 8 characters long"}),confirmPassword:q()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),za=()=>{const{register:t}=Re(),[a,s]=r.useState(!1),[o,l]=r.useState(),n=W({resolver:Ce(Oa),defaultValues:{firstName:"",lastName:"",email:"",schoolID:"",userType:"",username:"",password:"",confirmPassword:""}}),u=async d=>{s(!0);const m=Number(d.schoolID.replace(/-/g,"")),{success:b,error:p}=await t(d.firstName,d.lastName,d.email,m,d.userType,d.username,d.password);b?(l({text:"Account created successfully",isError:!1}),n.reset()):l({text:"Something went wrong.",isError:!0}),s(!1)};return e.jsx(me,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(u),className:" space-y-5",children:[e.jsxs("span",{className:" flex space-x-2",children:[e.jsx(U,{control:n.control,name:"firstName",render:({field:d})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(z,{...d,placeholder:"Firstname",type:"text",autoComplete:"yes"})}),n.formState.errors.firstName&&e.jsx(O,{children:n.formState.errors.firstName.message})]})}),e.jsx(U,{control:n.control,name:"lastName",render:({field:d})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(z,{...d,placeholder:"Lastname",type:"text",autoComplete:"yes"})}),n.formState.errors.lastName&&e.jsx(O,{children:n.formState.errors.lastName.message})]})})]}),e.jsx(U,{control:n.control,name:"email",render:({field:d})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(z,{...d,placeholder:"Email",type:"email",autoComplete:"yes"})}),n.formState.errors.email&&e.jsx(O,{children:n.formState.errors.email.message})]})}),e.jsx(U,{control:n.control,name:"schoolID",render:({field:d})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(z,{...d,placeholder:"ID number (example format: 12-3456-789)",autoComplete:"yes"})}),n.formState.errors.schoolID&&e.jsx(O,{children:n.formState.errors.schoolID.message})]})}),e.jsx(U,{control:n.control,name:"userType",render:({field:d})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsxs(Ta,{onValueChange:d.onChange,defaultValue:d.value,children:[e.jsx(Ct,{children:e.jsx(Aa,{placeholder:"Please select a user type"})}),e.jsxs(Rt,{children:[e.jsx(ye,{value:"Counselor",children:"Counselor"}),e.jsx(ye,{value:"Teacher",children:"Teacher"})]})]})}),n.formState.errors.userType&&e.jsx(O,{children:n.formState.errors.userType.message})]})}),e.jsx(U,{control:n.control,name:"username",render:({field:d})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(z,{...d,placeholder:"Username",type:"text",autoComplete:""})}),n.formState.errors.username&&e.jsx(O,{children:n.formState.errors.username.message})]})}),e.jsx(U,{control:n.control,name:"password",render:({field:d})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(z,{...d,placeholder:"Password",type:"password",autoComplete:""})}),n.formState.errors.password&&e.jsx(O,{children:n.formState.errors.password.message})]})}),e.jsx(U,{control:n.control,name:"confirmPassword",render:({field:d})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(z,{...d,placeholder:"Confirm Password",type:"password",autoComplete:""})}),n.formState.errors.confirmPassword&&e.jsx(O,{children:n.formState.errors.confirmPassword.message})]})}),o&&e.jsx(Tt,{className:`${o.text?o.isError?"bg-red-100":"bg-green-100":"hidden"}`,children:e.jsx(At,{children:o.text})}),e.jsx($,{type:"submit",className:" w-full",disabled:a,children:a?"Creating account...":"Register"})]})})},he="/assets/logo-91b86dfd.png",Ua={backgroundImage:`url(${De})`,backgroundSize:"cover",backgroundRepeat:"no-repeat"},Ba=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col h-screen w-full justify-center items-center",style:Ua,children:[e.jsx("div",{className:" my-3 flex flex-col items-center",children:e.jsx(_,{to:"/",children:e.jsx("img",{src:he,alt:"",className:" h-16 w-16 shrink-0"})})}),e.jsxs(G,{className:" w-96",children:[e.jsx(J,{children:e.jsx(ce,{className:" text-primary-700 ",children:"Create an account"})}),e.jsx(Y,{children:e.jsx(za,{})}),e.jsx(ie,{className:"flex justify-center",children:e.jsxs(de,{className:" text-sm text-gray-300",children:["Already have an account?"," ",e.jsx(_,{to:"/login",className:" text-primary-500 hover:underline",children:"Login"})]})})]})]})}),Va=()=>e.jsx(e.Fragment,{children:e.jsx(ca,{children:e.jsx("div",{className:" sticky top-5",children:e.jsx("h1",{className:"font-semibold",children:"Dashboard"})})})}),_a="https://wanted-sweater-production.up.railway.app/getAllUser",Ha=()=>{const[t,a]=r.useState([]);return r.useEffect(()=>{(async()=>{const o={headers:{Authorization:`${localStorage.getItem("token")}`}},l=await Be.get(`${_a}`,o);a(l.data),console.log(l.data)})()},[]),{students:t,setStudents:a}},Ft=r.forwardRef(({className:t,...a},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:h("w-full caption-bottom text-sm",t),...a})}));Ft.displayName="Table";const Et=r.forwardRef(({className:t,...a},s)=>e.jsx("thead",{ref:s,className:h("[&_tr]:border-b",t),...a}));Et.displayName="TableHeader";const Pt=r.forwardRef(({className:t,...a},s)=>e.jsx("tbody",{ref:s,className:h("[&_tr:last-child]:border-0",t),...a}));Pt.displayName="TableBody";const qa=r.forwardRef(({className:t,...a},s)=>e.jsx("tfoot",{ref:s,className:h("border-t bg-slate-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-slate-800/50",t),...a}));qa.displayName="TableFooter";const se=r.forwardRef(({className:t,...a},s)=>e.jsx("tr",{ref:s,className:h("border-b transition-colors hover:bg-slate-100/50 data-[state=selected]:bg-slate-100 dark:hover:bg-slate-800/50 dark:data-[state=selected]:bg-slate-800",t),...a}));se.displayName="TableRow";const Lt=r.forwardRef(({className:t,...a},s)=>e.jsx("th",{ref:s,className:h("h-12 px-4 text-left align-middle font-medium text-slate-500 [&:has([role=checkbox])]:pr-0 dark:text-slate-400",t),...a}));Lt.displayName="TableHead";const Ne=r.forwardRef(({className:t,...a},s)=>e.jsx("td",{ref:s,className:h("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a}));Ne.displayName="TableCell";const Ga=r.forwardRef(({className:t,...a},s)=>e.jsx("caption",{ref:s,className:h("mt-4 text-sm text-slate-500 dark:text-slate-400",t),...a}));Ga.displayName="TableCaption";const Mt=Qs,Ot=Ws,Ya=r.forwardRef(({className:t,inset:a,children:s,...o},l)=>e.jsxs(Je,{ref:l,className:h("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-slate-100 data-[state=open]:bg-slate-100 dark:focus:bg-slate-800 dark:data-[state=open]:bg-slate-800",a&&"pl-8",t),...o,children:[s,e.jsx(ia,{className:"ml-auto h-4 w-4"})]}));Ya.displayName=Je.displayName;const Ka=r.forwardRef(({className:t,...a},s)=>e.jsx(Xe,{ref:s,className:h("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...a}));Ka.displayName=Xe.displayName;const Ie=r.forwardRef(({className:t,sideOffset:a=4,...s},o)=>e.jsx(Ks,{children:e.jsx(Ze,{ref:o,sideOffset:a,className:h("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...s})}));Ie.displayName=Ze.displayName;const Qa=r.forwardRef(({className:t,inset:a,...s},o)=>e.jsx(et,{ref:o,className:h("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",a&&"pl-8",t),...s}));Qa.displayName=et.displayName;const zt=r.forwardRef(({className:t,children:a,checked:s,...o},l)=>e.jsxs(tt,{ref:l,className:h("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),checked:s,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(st,{children:e.jsx(yt,{className:"h-4 w-4"})})}),a]}));zt.displayName=tt.displayName;const Wa=r.forwardRef(({className:t,children:a,...s},o)=>e.jsxs(at,{ref:o,className:h("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(st,{children:e.jsx(da,{className:"h-2 w-2 fill-current"})})}),a]}));Wa.displayName=at.displayName;const Ut=r.forwardRef(({className:t,inset:a,...s},o)=>e.jsx(rt,{ref:o,className:h("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...s}));Ut.displayName=rt.displayName;const Bt=r.forwardRef(({className:t,...a},s)=>e.jsx(ot,{ref:s,className:h("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",t),...a}));Bt.displayName=ot.displayName;function Ja({columns:t,data:a}){var b,p;const[s,o]=r.useState([]),[l,n]=r.useState([]),[u,d]=r.useState({}),m=ua({data:a,columns:t,onSortingChange:o,getCoreRowModel:ha(),getPaginationRowModel:pa(),getSortedRowModel:fa(),onColumnFiltersChange:n,getFilteredRowModel:ga(),onColumnVisibilityChange:d,state:{sorting:s,columnFilters:l,columnVisibility:u}});return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center py-4",children:[e.jsx(z,{placeholder:"Filter emails...",value:(b=m.getColumn("email"))==null?void 0:b.getFilterValue(),onChange:c=>{var i;return(i=m.getColumn("email"))==null?void 0:i.setFilterValue(c.target.value)},className:"max-w-sm"}),e.jsxs(Mt,{children:[e.jsx(Ot,{asChild:!0,children:e.jsx($,{variant:"outline",className:"ml-auto",children:"Columns"})}),e.jsx(Ie,{align:"end",children:m.getAllColumns().filter(c=>c.getCanHide()).map(c=>e.jsx(zt,{className:"capitalize",checked:c.getIsVisible(),onCheckedChange:i=>c.toggleVisibility(!!i),children:c.id},c.id))})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ft,{children:[e.jsx(Et,{children:m.getHeaderGroups().map(c=>e.jsx(se,{children:c.headers.map(i=>e.jsx(Lt,{children:i.isPlaceholder?null:Oe(i.column.columnDef.header,i.getContext())},i.id))},c.id))}),e.jsx(Pt,{children:(p=m.getRowModel().rows)!=null&&p.length?m.getRowModel().rows.map(c=>e.jsx(se,{"data-state":c.getIsSelected()&&"selected",children:c.getVisibleCells().map(i=>e.jsx(Ne,{children:Oe(i.column.columnDef.cell,i.getContext())},i.id))},c.id)):e.jsx(se,{children:e.jsx(Ne,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})})]})}const Xa=[{accessorKey:"firstName",header:({column:t})=>e.jsxs($,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Firstname",e.jsx(fe,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"lastName",header:({column:t})=>e.jsxs($,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Lastname",e.jsx(fe,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"email",header:({column:t})=>e.jsxs($,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Email",e.jsx(fe,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"course",header:"Course"},{accessorKey:"studentID",header:"Student ID"},{accessorKey:"chat",header:"Chat"}],Za=()=>{const{students:t}=Ha();return e.jsx("div",{className:"container mx-auto py-10",children:e.jsx(Ja,{columns:Xa,data:t})})},er=()=>{const[t,a]=r.useState(!1),s=le(),{user:o}=ue();return localStorage.getItem("token")&&setTimeout(()=>{s("/home")},1e3),r.useEffect(()=>{(()=>{a(!0)})()},[]),e.jsx("div",{className:"flex flex-col h-screen w-full bg-gray-900 bg-opacity-70 justify-center items-center absolute",children:t?e.jsxs("p",{className:" text-white",children:["You are already logged in as ",o==null?void 0:o.firstName," ",o==null?void 0:o.lastName,"."]}):e.jsx("p",{className:" text-white",children:"Loading..."})})},tr=$e({username:q().min(1,{message:"Username is required"}),password:q().min(1,{message:"Password is required"})}),sr=1,ar=1e6;let ge=0;function rr(){return ge=(ge+1)%Number.MAX_VALUE,ge.toString()}const je=new Map,ze=t=>{if(je.has(t))return;const a=setTimeout(()=>{je.delete(t),Q({type:"REMOVE_TOAST",toastId:t})},ar);je.set(t,a)},or=(t,a)=>{switch(a.type){case"ADD_TOAST":return{...t,toasts:[a.toast,...t.toasts].slice(0,sr)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===a.toast.id?{...s,...a.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=a;return s?ze(s):t.toasts.forEach(o=>{ze(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return a.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==a.toastId)}}},ae=[];let re={toasts:[]};function Q(t){re=or(re,t),ae.forEach(a=>{a(re)})}function oe({...t}){const a=rr(),s=l=>Q({type:"UPDATE_TOAST",toast:{...l,id:a}}),o=()=>Q({type:"DISMISS_TOAST",toastId:a});return Q({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:l=>{l||o()}}}),{id:a,dismiss:o,update:s}}function lr(){const[t,a]=r.useState(re);return r.useEffect(()=>(ae.push(a),()=>{const s=ae.indexOf(a);s>-1&&ae.splice(s,1)}),[t]),{...t,toast:oe,dismiss:s=>Q({type:"DISMISS_TOAST",toastId:s})}}const nr=()=>{const[t,a]=r.useState(!1),[s,o]=r.useState(!1),{login:l}=Re(),n=le(),u=W({resolver:Ce(tr),defaultValues:{username:"",password:""}}),d=async m=>{o(!0);try{const{success:b,userType:p,error:c}=await l(m.username,m.password);if(b){oe({variant:"success",title:"Success",description:"Login success. Redirecting...",duration:1500});const i=setTimeout(()=>{n(p==="Counselor"?"/home":"/student-referral")},2e3);return()=>clearTimeout(i)}else c.message==="Network Error"?(a(!0),oe({variant:"destructive",title:"Error",description:"No connection to the server",duration:2e3})):(a(!0),oe({variant:"destructive",title:"Login failed",description:"Invalid username or password. Please try again.",duration:2e3}))}catch(b){console.log(b)}finally{o(!1)}};return e.jsx(e.Fragment,{children:e.jsx(me,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(d),className:" space-y-5 ",children:[e.jsx(U,{control:u.control,name:"username",render:({field:m})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(z,{...m,autoComplete:"on",placeholder:"Type your username here"})}),e.jsx(O,{})]})}),e.jsx(U,{control:u.control,name:"password",render:({field:m})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(z,{type:"password",...m,autoComplete:"off",placeholder:"Type your password here"})}),e.jsx(O,{})]})}),e.jsx($,{type:"submit",className:" w-full",disabled:s,children:s?"Logging in...":"Log in"})]})})})},cr=Js,Vt=r.forwardRef(({className:t,...a},s)=>e.jsx(lt,{ref:s,className:h("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...a}));Vt.displayName=lt.displayName;const ir=ne("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border border-slate-200 p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-slate-800",{variants:{variant:{default:"border bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",success:"border bg-green-500 text-white dark:bg-slate-950 dark:text-slate-50",destructive:"destructive group border-red-500 bg-red-500 text-slate-50 dark:border-red-900 dark:bg-red-900 dark:text-slate-50"}},defaultVariants:{variant:"default"}}),_t=r.forwardRef(({className:t,variant:a,...s},o)=>e.jsx(nt,{ref:o,className:h(ir({variant:a}),t),...s}));_t.displayName=nt.displayName;const dr=r.forwardRef(({className:t,...a},s)=>e.jsx(ct,{ref:s,className:h("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-slate-200 bg-transparent px-3 text-sm font-medium ring-offset-white transition-colors hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-slate-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-slate-50 group-[.destructive]:focus:ring-red-500 dark:border-slate-800 dark:ring-offset-slate-950 dark:hover:bg-slate-800 dark:focus:ring-slate-300 dark:group-[.destructive]:border-slate-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-slate-50 dark:group-[.destructive]:focus:ring-red-900",t),...a}));dr.displayName=ct.displayName;const Ht=r.forwardRef(({className:t,...a},s)=>e.jsx(it,{ref:s,className:h("absolute right-2 top-2 rounded-md p-1 text-slate-950/50 opacity-0 transition-opacity hover:text-slate-950 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-slate-50/50 dark:hover:text-slate-50",t),"toast-close":"",...a,children:e.jsx(Nt,{className:"h-4 w-4"})}));Ht.displayName=it.displayName;const qt=r.forwardRef(({className:t,...a},s)=>e.jsx(dt,{ref:s,className:h("text-sm font-semibold",t),...a}));qt.displayName=dt.displayName;const Gt=r.forwardRef(({className:t,...a},s)=>e.jsx(mt,{ref:s,className:h("text-sm opacity-90",t),...a}));Gt.displayName=mt.displayName;function mr(){const{toasts:t}=lr();return e.jsxs(cr,{children:[t.map(function({id:a,title:s,description:o,action:l,...n}){return e.jsxs(_t,{...n,children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(qt,{children:s}),o&&e.jsx(Gt,{children:o})]}),l,e.jsx(Ht,{})]},a)}),e.jsx(Vt,{})]})}const xr=()=>{const{loading:t}=X();return e.jsxs("div",{className:"flex flex-col h-screen w-full justify-center items-center bg-primary-100 backdrop-blur-lg",children:[e.jsx("div",{className:" my-3 flex flex-col items-center",children:e.jsx(_,{to:"/",children:e.jsx("img",{src:he,alt:"",className:" h-16 w-16 shrink-0"})})}),e.jsxs(G,{className:" sm:w-96 border bg-opacity-80",children:[e.jsx(J,{children:e.jsx(ce,{className:" text-primary-700",children:"Log in"})}),e.jsxs(Y,{children:[e.jsx(nr,{}),e.jsx(_,{to:"/",className:" text-primary-500 hover:underline hover:underline-offset-2 text-xs flex justify-end",children:"Forgot password?"})]}),e.jsx(ie,{className:"flex justify-center",children:e.jsxs("div",{className:" text-sm space-x-1",children:[e.jsx("span",{className:" text-gray-300",children:" Don't have an account?"}),e.jsx(_,{to:"/register",className:" text-primary-500 hover:underline hover:underline-offset-2 font-semibold",children:"Create an account"})]})})]}),t&&e.jsx(er,{}),e.jsx(mr,{})]})},ur="/assets/formbg-686d3ed1.png",hr={backgroundImage:`url(${ur})`,backgroundSize:" 50%",backgroundPosition:"right",backgroundRepeat:"no-repeat"},pr={backgroundImage:`url(${De})`,backgroundSize:" 100%",backgroundRepeat:"no-repeat"},fr="users",gr=()=>{const t={borderBottom:"2px solid #769EAB",background:"transparent",outline:"none",width:"100%",padding:"2px 2px",marginBottom:"16px"},[a,s]=r.useState({firstName:"",lastName:"",email:"",schoolID:"",userType:"",username:"",password:"",confirmPassword:""}),[o,l]=r.useState(!1),[n,u]=r.useState(""),d=p=>{s({...a,[p.target.name]:p.target.value}),u(p.target.value)},m=async p=>{if(p.preventDefault(),a.email!==""&&!a.email.includes("@cit.edu")){alert("Please use your institutional email");return}try{const c=await D.get(fr+`/${a.email}`);console.log("Email exists in the database."),console.log(c.data),l(!0)}catch{alert("Something went wrong. Please try again.")}},b=async p=>{p.preventDefault()};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col h-screen w-full bg-gray-100 justify-center items-center absolute",style:pr,children:e.jsxs("div",{className:" w-[720px] rounded-2xl bg-white shadow-md h-auto flex justify-between",style:hr,children:[e.jsxs("form",{className:"py-6 px-10 left-0 w-[360px] flex flex-col",onSubmit:o?b:m,children:[e.jsx("h1",{className:"text-center font-medium text-primary text-2xl mb-3",children:o?"Enter OTP":"Please verify your email"}),o&&e.jsx("input",{name:"otp",type:"text",style:t,onChange:d,placeholder:"Please check your email for OTP",autoComplete:"off",required:!0}),!o&&e.jsx("input",{name:"email",type:"email",style:t,onChange:d,placeholder:"Institutional Email",autoComplete:"off",required:!0}),o&&e.jsx("button",{type:"submit",className:"bg-primary rounded-full h-10 text-white hover:shadow-sm hover:shadow-primary mt-2",children:"Verify OTP"}),!o&&e.jsx("button",{type:"submit",className:" bg-primary rounded-full h-10 text-white hover:shadow-sm hover:shadow-primary mt-2",children:"Check Email"}),e.jsxs("p",{className:"text-secondary text-xs my-2",children:["Already have an account?"," ",e.jsx(_,{to:"/login",className:"font-bold text-primary cursor-pointer",children:"Login"})]})]}),e.jsx("div",{className:"flex relative justify-end px-6 py-5",children:e.jsx(_,{to:"/",children:e.jsx(ke,{className:"top-0 right-0 text-secondary hover:text-primary cursor-pointer"})})})]})})})},jr=()=>{const t={borderBottom:"2px solid #769EAB",background:"transparent",outline:"none",width:"100%",padding:"2px 2px",marginBottom:"16px"},[a,s]=r.useState({}),[o,l]=r.useState(""),[n,u]=r.useState(!1),[d,m]=r.useState(!1),[b,p]=r.useState([]),[c,i]=r.useState(0),v=b.filter(S=>S.isAccepted),y=b.filter(S=>!S.isAccepted),{useFetchStudents:N,handleQueryChange:E,handleStudentInput:F,value:f,setQuery:k,setValue:I,studentID:A,query:B,setStudentId:R,setResults:j,results:C,showResultsDropdown:x,setShowResultsDropdown:w,handleClear:g}=wt(),{students:T}=N(),V=r.useRef(null),Z=S=>{const P=S.target.value;l(P),console.log(P),u(P==="Other")},pe=S=>{const P=S.target.value;l(P),console.log(P)};r.useEffect(()=>{(async()=>{try{const P={headers:{Authorization:`${localStorage.getItem("token")}`}},ls=localStorage.getItem("user"),Ae=await D.get(`/users/username/${ls}`,P);console.log(Ae.data),s(Ae.data)}catch(P){console.log(P)}})()},[]);const ss=async S=>{S.preventDefault();try{const P=await D.post("/referrals?student="+A+"&teacher="+a.id,{reason:o});console.log(P.data),alert("Student Referral successfully!"),I(""),k(""),j([]),l(""),u(!1),i(Math.random())}catch(P){console.log(P)}},as=S=>{E(S,T,j,w,I,k)},rs=()=>{m(!0)},os=()=>{m(!1)};return r.useEffect(()=>{(async()=>{try{const P=await D.get(`/referrals/teachers?teacherid=${a.id}`);p(P.data)}catch(P){console.log(P)}})()},[a.id,c]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsxs("div",{className:" px-4 flex justify-between",children:[e.jsxs("h1",{children:["Good day! ","",e.jsxs("b",{children:[a.firstName," ",a.lastName]})]}),e.jsx("button",{onClick:rs,className:" rounded-full bg-tertiary text-white p-2 text-xs hover:bg-opacity-90",children:"Check status of referrals"})]}),d&&e.jsx("div",{className:" overflow-y-auto fixed z-50 h-screen w-full bg-gray-900 bg-opacity-70 top-0 right-0 flex items-center justify-center",children:e.jsxs("div",{className:" bg-white w-96 h-[500px] overflow-y-auto rounded-lg flex flex-col",children:[e.jsxs("span",{className:" flex justify-between w-full py-2",children:[e.jsx("h1",{children:""}),e.jsx(ms,{className:" cursor-pointer mr-3 mt-3 hover:text-primary",onClick:os})]}),e.jsx("span",{className:" px-2 flex justify-center w-full sticky mb-4",children:e.jsx("b",{children:"Referral Status"})}),e.jsxs("span",{className:" w-full px-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm mb-2 font-semibold",children:"Accepted Referrals"}),e.jsx("ul",{children:v.map(S=>e.jsxs("li",{className:" bg-tertiary rounded-md py-3 text-white px-2 text-sm mb-2 shadow",children:[e.jsxs("h1",{children:[S.student.firstname," ",S.student.lastname]}),e.jsxs("div",{className:" flex justify-between ",children:[e.jsxs("p",{className:" text-xs text-gray-400",children:["Counselor:"," ",e.jsxs("span",{className:" text-white italic",children:[S.counselor.firstName," ",S.counselor.lastName]})]}),e.jsx("p",{children:S.isAccepted?e.jsx("span",{className:" text-green-500",children:"Accepted"}):e.jsx("span",{className:" text-red-500",children:"Pending"})})]}),e.jsxs("p",{className:" text-xs text-gray-400",children:["Reason: ",e.jsx("span",{className:" text-white",children:S.reason})]})]},S.id))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:" text-sm mb-2 font-semibold",children:"Pending Referrals"}),e.jsx("ul",{children:y.map(S=>e.jsxs("li",{className:" bg-tertiary rounded-md py-3 text-white px-2 text-sm mb-2 shadow",children:[e.jsxs("h1",{children:[S.student.firstname," ",S.student.lastname]}),e.jsxs("div",{className:" flex justify-between",children:[e.jsxs("p",{className:" text-xs text-gray-400",children:["Reason: ",e.jsx("span",{className:" text-white",children:S.reason})]}),e.jsx("p",{children:S.isAccepted?e.jsx("span",{className:" text-green-500",children:"Accepted"}):e.jsx("span",{className:" text-red-500",children:"Pending"})})]})]},S.id))})]})]})]})}),e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx("h1",{className:"font-semibold text-2xl",children:"REFER SOMEONE NOW"}),e.jsxs("form",{className:"py-6 left-0 w-[300px] flex flex-col",onSubmit:ss,children:[e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("input",{ref:V,type:"text",placeholder:"Input student name or ID number",style:t,onChange:as,value:f,required:!0}),e.jsx("button",{className:"text-xs text-white mb-4 cursor-pointer bg-secondary rounded-md p-1",onClick:g,children:"clear"})]}),e.jsx("div",{children:x&&B&&e.jsx("ul",{className:"max-h-60 overflow-y-auto absolute w-full max-w-[300px] bg-white border border-gray-300 rounded-b-md",children:C.map(S=>e.jsxs("li",{className:" w-full border p-1 cursor-pointer hover:bg-gray-100 hover:shadow-lg hover:border-secondary",onClick:()=>F(S.firstName+" "+S.lastName,T,R,I,j,k),children:[e.jsxs("p",{className:"text-sm ",children:[S.firstName," ",S.lastName]}),e.jsxs("p",{className:"text-xs text-gray-300",children:["Student ID: ",S.userid]})]},S.userid))})}),e.jsxs("select",{name:"userType",required:!0,className:"mb-3 text-gray-400 outline-none text-sm border-2 border-secondary rounded-md p-2",defaultValue:"label",onChange:Z,children:[e.jsx("option",{disabled:!0,value:"label",hidden:!0,children:"Reason/s for referrals"}),e.jsx("option",{value:"Sample 1",children:"Reason 1"}),e.jsx("option",{value:"Sample 2",children:"Reason 2"}),e.jsx("option",{value:"Sample 3",children:"Reason 3"}),e.jsx("option",{value:"Other",children:"Others, please specify"})]}),n&&e.jsx("input",{type:"text",placeholder:"If other/s",style:t,onChange:pe}),e.jsx("button",{type:"submit",className:"bg-primary rounded-full h-10 text-white hover:shadow-sm hover:shadow-primary mt-2",children:"SUBMIT"})]})]})]})})},Yt=r.forwardRef(({className:t,...a},s)=>e.jsx(xt,{ref:s,className:h("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a}));Yt.displayName=xt.displayName;const Kt=r.forwardRef(({className:t,...a},s)=>e.jsx(ut,{ref:s,className:h("aspect-square h-full w-full",t),...a}));Kt.displayName=ut.displayName;const we=r.forwardRef(({className:t,...a},s)=>e.jsx(ht,{ref:s,className:h("flex h-full w-full items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800",t),...a}));we.displayName=ht.displayName;const ve="/assets/man_avatar-566971e9.svg",br=ea,yr=Zs,Qt=r.forwardRef(({className:t,...a},s)=>e.jsx(pt,{ref:s,className:h("fixed inset-0 z-50 bg-white/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 dark:bg-slate-950/80",t),...a}));Qt.displayName=pt.displayName;const Wt=r.forwardRef(({className:t,children:a,...s},o)=>e.jsxs(yr,{children:[e.jsx(Qt,{}),e.jsxs(ft,{ref:o,className:h("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full dark:border-slate-800 dark:bg-slate-950",t),...s,children:[a,e.jsxs(Xs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-400",children:[e.jsx(Nt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wt.displayName=ft.displayName;const Jt=({className:t,...a})=>e.jsx("div",{className:h("flex flex-col space-y-1.5 text-center sm:text-left",t),...a});Jt.displayName="DialogHeader";const Xt=({className:t,...a})=>e.jsx("div",{className:h("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});Xt.displayName="DialogFooter";const Zt=r.forwardRef(({className:t,...a},s)=>e.jsx(gt,{ref:s,className:h("text-lg font-semibold leading-none tracking-tight",t),...a}));Zt.displayName=gt.displayName;const es=r.forwardRef(({className:t,...a},s)=>e.jsx(jt,{ref:s,className:h("text-sm text-slate-500 dark:text-slate-400",t),...a}));es.displayName=jt.displayName;const Te=r.forwardRef(({className:t,...a},s)=>e.jsx("textarea",{className:h("flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-300 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",t),ref:s,...a}));Te.displayName="Textarea";const Nr=({title:t,content:a,photoContent:s,activeBtn:o,counselor:l,showDeleteModal:n,showEdit:u,photoData:d})=>{const[m,b]=r.useState([]);r.useState([]);const[p,c]=r.useState(""),[i,v]=r.useState({}),[y,N]=r.useState(""),E=l.firstName.charAt(0)+l.lastName.charAt(0),F=W(),f=R=>{var C;const j=(C=R.target.files)==null?void 0:C[0];if(j){v(w=>({...w,photoData:j}));const x=new FileReader;x.onload=w=>{var T;const g=(T=w.target)==null?void 0:T.result;N(g)},x.readAsDataURL(j),c(j.name)}},k=R=>{R.preventDefault(),document.querySelector("input[type=file]").click()},I=R=>{const{name:j,value:C}=R.target;v(x=>({...x,[j]:C})),console.log(i)};r.useEffect(()=>{N(`data:image/jpeg;base64,${s}`)},[m]);const A=async R=>{var w;R.preventDefault();const j=new FormData;j.append("title",i.title),j.append("content",i.content),j.append("photoData",i.photoData),console.log(i.photoData);const C={title:i.title,content:i.content},x={headers:{Authorization:`${localStorage.getItem("token")}`}};try{let g;const T=i.id;((w=i==null?void 0:i.photoData)==null?void 0:w.name)===""?g=await D.put(`/posts/${T}`,C,x):(g=await D.put(`/posts/photo/${T}`,j,x),console.log(g),v({...i,photoData:new File([],"")})),console.log(g),alert("Post updated!"),window.location.reload()}catch(g){console.error(g)}},B=R=>{const{name:j,value:C}=R.target;v(x=>({...x,[j]:C})),console.log(i)};return e.jsx(e.Fragment,{children:e.jsxs(G,{className:"md:w-[700px] w-full mx-auto mb-3 ",children:[e.jsx(J,{className:" p-0",children:e.jsxs("span",{className:" flex justify-between p-3 gap-2",children:[e.jsxs(Le,{className:" h-12 w-12",children:[e.jsx(Me,{src:ve,alt:"Avatar",className:" h-12 w-12 rounded-full shadow"}),e.jsx(we,{className:" border",delayMs:100,children:E})]}),e.jsxs("span",{className:" flex-1",children:[e.jsxs(ce,{className:" text-lg cursor-pointer",children:[l.firstName," ",l.lastName]}),e.jsx(vt,{className:" text-xs border-b-transparent border-b hover:border-b-inherit w-min cursor-pointer",children:l.userType})]}),e.jsx("div",{children:o==="my"?e.jsxs(Mt,{children:[e.jsx(Ot,{asChild:!0,children:e.jsx($,{variant:"ghost",size:"icon",className:" rounded-full",children:e.jsx(xs,{className:" h-5 w-5"})})}),e.jsxs(Ie,{className:"w-56",side:"left",align:"start",alignOffset:30,sideOffset:0,children:[e.jsx(Ut,{children:"Options"}),e.jsx(Bt,{}),e.jsxs(ta,{className:" space-y-1",children:[e.jsxs(br,{children:[e.jsx(sa,{asChild:!0,children:e.jsx($,{variant:"ghost",className:" cursor-pointer w-full flex justify-start text-sm",onClick:u,children:"Edit"})}),e.jsxs(Wt,{className:"sm:max-w-[500px]",children:[e.jsxs(Jt,{children:[e.jsx(Zt,{children:"Edit post"}),e.jsx(es,{})]}),e.jsx(me,{...F,children:e.jsxs("form",{className:"space-y-2",onSubmit:F.handleSubmit(A),children:[e.jsx(U,{name:"title",render:({field:R})=>e.jsxs(L,{children:[e.jsx(ee,{children:"Title"}),e.jsx(M,{children:e.jsx(z,{placeholder:"Title",...R,defaultValue:i.title,onChange:I})}),e.jsx(te,{}),e.jsx(O,{})]})}),e.jsx(U,{name:"content",render:({field:R})=>e.jsxs(L,{children:[e.jsx(ee,{children:"Content"}),e.jsx(M,{children:e.jsx(Te,{placeholder:"Content",...R,defaultValue:i.content,className:" resize-none",onChange:B})}),e.jsx(te,{}),e.jsx(O,{})]})}),e.jsx(U,{control:F.control._defaultValues.photoData,name:"photoData",defaultValue:d,render:({field:R})=>e.jsxs(L,{children:[e.jsx(ee,{children:"Image"}),e.jsx(M,{children:e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",id:"imageUpload",...R,onChange:f,className:`${s?"hidden":"flex"}`}),e.jsx(de,{htmlFor:"imageUpload",children:y&&s&&e.jsx("img",{src:y,alt:"Posted Image",className:"mx-auto h-64 cursor-pointer",onClick:k})})]})}),e.jsx(te,{}),e.jsx(O,{})]})})]})}),e.jsx(Xt,{children:e.jsx($,{type:"submit",children:"Save changes"})})]})]}),e.jsx($,{variant:"ghost",className:" cursor-pointer w-full flex justify-start hover:text-red-500",onClick:n,children:"Delete"})]})]})]}):null})]})}),e.jsxs(Y,{className:" p-0",children:[e.jsxs("div",{className:" px-3 w-full",children:[e.jsx("p",{className:" font-semibold text-lg",children:t}),e.jsx("p",{className:" mb-2",children:a})]}),s?e.jsx("img",{src:y,alt:"Posted Image",className:" w-full max-h-auto cursor-pointer border-b border-t"}):null]}),e.jsxs(ie,{className:" p-0 flex flex-col",children:[e.jsx("span",{className:" w-full flex justify-between",children:e.jsxs("p",{className:" px-3 py-1 text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(us,{className:"text-red-500 h-4 w-4"}),"1.3k"]})}),e.jsxs("div",{className:" flex px-2 border-b py-1 border-t w-full justify-between",children:[e.jsxs($,{variant:"ghost",size:"icon",className:"flex w-full text-base text-gray-500 hover:text-gray-500 gap-2",children:[e.jsx(hs,{className:" h-5 w-5"}),e.jsx("p",{children:"Like"})]}),e.jsxs($,{variant:"ghost",size:"icon",className:"flex w-full text-base text-gray-500 hover:text-gray-500 gap-2",children:[e.jsx(ps,{className:" h-4 w-4"}),e.jsx("p",{children:"Comment"})]})]}),e.jsxs("span",{className:" w-full px-3 py-3 mb-2 flex flex-row gap-2 items-center",children:[e.jsx("span",{className:" w-14",children:e.jsxs(Le,{className:" h-8 w-8",children:[e.jsx(Me,{src:ve,alt:"Avatar",className:" h-10 w-10 rounded-full shadow"}),e.jsx(we,{className:" shadow",delayMs:100,children:E})]})}),e.jsx(z,{type:"text",placeholder:"Comment on this post..",className:" w-full bg-gray-100 shadow-sm focus-visible:ring-0 focus-visible:ring-offset-0"}),e.jsx($,{className:" rounded-full",size:"sm",children:"Comment"})]})]})]})})},wr=$e({title:q(),content:q(),photoData:xa()}),vr=()=>{const[t,a]=r.useState(null),[s,o]=r.useState(null),[l,n]=r.useState(null),[u,d]=r.useState(!1),m=W({resolver:Ce(wr),defaultValues:{title:"",content:"",photoData:""}}),b=c=>{var v;o(null);const i=(v=c.target.files)==null?void 0:v[0];if(i){n(i);const y=new FileReader;y.onloadend=()=>{a(y.result)},i.type.match("image.*")?y.readAsDataURL(i):o("File type not supported")}else n(null)},p=async c=>{d(!0);const i=new FormData;i.append("title",c.title),i.append("content",c.content),l&&i.append("photoData",l),console.log(i);const v={title:c.title,content:c.content},y={headers:{Authorization:`${localStorage.getItem("token")}`}};try{c.photoData[0]?(console.log("with photo"),await D.post("/posts/photo",i,y),window.location.reload()):(console.log("without photo"),await D.post("/posts",v,y),window.location.reload())}catch(N){console.log(N)}finally{d(!1)}};return e.jsx(e.Fragment,{children:e.jsx(me,{...m,children:e.jsxs("form",{className:"space-y-3 max-h-[600px]",onSubmit:m.handleSubmit(p),children:[e.jsx(U,{control:m.control,name:"title",render:({field:c})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(z,{...c,placeholder:"Title",type:"text"})}),m.formState.errors.title&&e.jsx(O,{children:m.formState.errors.title.message})]})}),e.jsx(U,{control:m.control,name:"content",render:({field:c})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(Te,{...c,placeholder:"Content",className:" resize-none"})}),m.formState.errors.content&&e.jsx(O,{children:m.formState.errors.content.message})]})}),e.jsx(U,{control:m.control,name:"photoData",render:({field:c})=>e.jsxs(L,{children:[e.jsx(M,{children:e.jsx(z,{...c,placeholder:"Photo",type:"file",onChange:i=>{c.onChange(i),b(i)}})}),s&&e.jsx(O,{children:s})]})}),t&&!s&&e.jsx("span",{className:"border-2 w-full h-80 flex items-center",children:e.jsx("img",{src:t,className:"rounded-md p-2 mx-auto h-80",alt:"preview"})}),e.jsx($,{type:"submit",className:" w-full",disabled:u,children:u?"Posting...":"Post"})]})})})},Sr=()=>{const[t,a]=r.useState([]),[s,o]=r.useState([]),[l,n]=r.useState("all"),[u,d]=r.useState(!1);r.useState(""),r.useState("");const[m,b]=r.useState(null),[p,c]=r.useState(!1),[i,v]=r.useState(!1);r.useState({title:"",content:"",photoData:new File([],"")});const[y,N]=r.useState({title:"",content:"",photoData:new File([],"")});r.useRef(null),ue();const{loading:E,setLoading:F}=X();W(),r.useEffect(()=>{(async()=>{const C=l==="all"?"/posts":"/myPosts";try{F(!0);const x={headers:{Authorization:`${localStorage.getItem("token")}`}},w=await D.get(`${C}`,x),g=w.data.sort((T,V)=>V.id-T.id);console.log(w.data),F(!1),a(g)}catch(x){console.error(x)}})()},[]);const f=j=>{s.find(C=>C.id===j),c(!0)},k=()=>{c(!1)},I=()=>{d(!0)},A=async j=>{const C={headers:{Authorization:`${localStorage.getItem("token")}`}};try{const x=await D.delete(`/posts/${j}`,C);console.log(x),window.location.reload()}catch(x){console.error(x)}},B=j=>{const C=s.find(x=>x.id===j);C&&(N({title:C.title,content:C.content,photoData:new File([],"")}),v(!0),console.log(C))},R=async j=>{var g,T;j.preventDefault();const C=new FormData;C.append("title",y.title),C.append("content",y.content),C.append("photoData",y.photoData),console.log(y.photoData);const x={title:y.title,content:y.content},w={headers:{Authorization:`${localStorage.getItem("token")}`}};try{let V;const Z=(g=s.find(pe=>pe.id===m))==null?void 0:g.id;((T=y==null?void 0:y.photoData)==null?void 0:T.name)===""?V=await D.put(`/posts/${Z}`,x,w):(V=await D.put(`/posts/photo/${Z}`,C,w),console.log(V),N({title:"",content:"",photoData:new File([],"")})),console.log(V),alert("Post updated!"),window.location.reload()}catch(V){console.error(V)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" w-full flex flex-col",children:[e.jsx(G,{className:" w-full md:w-[700px] mx-auto mb-3",children:e.jsxs(Y,{className:" flex flex-row items-center px-3 py-5 gap-2",children:[e.jsxs(Yt,{children:[e.jsx(Kt,{className:" rounded-full",src:ve}),e.jsx(aa,{className:" border h-6 w-6",children:"WT"})]}),e.jsx(z,{className:" w-full bg-gray-200 cursor-pointer hover:border hover:border-secondary focus-visible:ring-0 focus-visible:ring-offset-0",placeholder:"Post something...",onClick:I}),e.jsx($,{variant:"ghost",size:"icon",children:e.jsx(ma,{className:"h-6 w-6 text-gray-400",onClick:I})})]})}),e.jsx(G,{className:" md:w-[700px] w-full mx-auto mb-3",children:e.jsxs(Y,{className:" flex flex-row items-center py-3 px-3 gap-3",children:[e.jsxs($,{property:"active",onClick:()=>n("all"),variant:"ghost",size:"icon",className:`rounded-full h-8 w-auto flex flex-row gap-1 px-2 font-bold hover:text-gray-400 ${l==="all"?"text-blue-500 hover:text-blue-500 bg-gray-200":"text-gray-400"}`,children:[l==="all"?e.jsx(fs,{className:"h-5 w-5"}):e.jsx(gs,{className:"h-5 w-5"})," ",e.jsx("p",{children:"All posts"})]}),e.jsxs($,{onClick:()=>n("my"),variant:"ghost",size:"icon",property:"active",className:`rounded-full h-8 w-auto flex flex-row gap-1 px-2 font-bold hover:text-gray-400 ${l==="my"?"text-blue-500 hover:text-blue-500 bg-gray-200":"text-gray-400"}`,children:[l==="my"?e.jsx(js,{className:"h-5 w-5"}):e.jsx(bs,{className:"h-5 w-5"})," ",e.jsx("p",{children:"Your posts"})]})]})}),u&&e.jsx("div",{className:"fixed inset-0 w-full flex items-center justify-center bg-gray-900 bg-opacity-70 z-10",children:e.jsxs(G,{className:"w-[600px] mx-2",children:[e.jsx(J,{className:" text-center text-2xl font-semibold",children:e.jsxs("span",{className:" flex justify-between items-center",children:["Create post",e.jsx($,{size:"icon",variant:"ghost",className:"w-8 h-8 rounded-full p-1",asChild:!0,children:e.jsx(ke,{onClick:()=>d(!1)})})]})}),e.jsx(Y,{children:e.jsx(vr,{})})]})}),(l==="all"?t:s).map(j=>e.jsxs("div",{children:[e.jsx(Nr,{id:j.id,title:j.title,content:j.content,photoContent:j.photoContent,photoData:j.photoData,counselor:j.counselor,activeBtn:l,showDeleteModal:()=>f(j.id),showEdit:()=>B(j.id),saveChanges:()=>R}),p&&e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-70 flex items-center justify-center z-10",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 flex flex-col",children:[e.jsx("h1",{className:" text-black font-semibold text-lg",children:"Delete"}),e.jsx("p",{className:" text-gray-500  border-t border-b py-4 px-1 my-3",children:"Are you sure you want to delete this post?"}),e.jsxs("div",{className:"flex justify-end mt-4",children:[e.jsx($,{onClick:k,className:"text-sm text-gray-500 hover:text-primary mr-2",children:"Cancel"}),e.jsx($,{onClick:()=>A(j.id),className:"text-sm text-red-500 hover:text-red-700",children:"Delete"})]})]})})]},j.id))]})})},kr=()=>{const t="0123456789ABCDEF";let a="#";for(let s=0;s<6;s++)a+=t[Math.floor(Math.random()*16)];return a},Cr=()=>{const[t,a]=r.useState(!1),[s,o]=r.useState([]),[l,n]=r.useState(null),[u,d]=r.useState(null),[m,b]=r.useState({title:"",content:"",color:""}),[p,c]=r.useState({title:"",content:"",color:""}),[i,v]=r.useState(0),[y,N]=r.useState(!1),[E,F]=r.useState(!1),f=async()=>{try{const x={headers:{Authorization:localStorage.getItem("token")}},w=await D.get("/myNotes",x),g=w.data.sort((T,V)=>V.id-T.id);o(g),g.length>0&&n(g[0].id),d(g[0].id),console.log(w.data)}catch(x){console.error(x)}};r.useEffect(()=>{f()},[i]);const k=x=>{const w=s.find(g=>g.id===x);w&&(x!==u&&N(!1),d(x),n(x),c({title:w.title,content:w.content,color:w.color}))},I=x=>{const{name:w,value:g}=x.target;b(T=>({...T,[w]:g})),console.log(m)},A=x=>{const{name:w,value:g}=x.target;c(T=>({...T,[w]:g}))},B=async x=>{x.preventDefault();const w={headers:{Authorization:localStorage.getItem("token")}};try{const g=kr(),T=await D.post("/notes",{...m,color:g},w);alert("Note created successfully"),b({title:"",content:"",color:g}),console.log(T.data),v(Math.random())}catch(g){console.log(g)}j()},R=()=>{a(!0)},j=()=>{a(!1)},C=async x=>{x.preventDefault();const w={headers:{Authorization:localStorage.getItem("token")}},g={title:p.title,content:p.content};try{const T=u,V=await D.put(`/notes/${T}`,g,w);c({title:"",content:"",color:""}),v(Math.random()),console.log(V.data),alert("Note updated successfully"),console.log(V.data)}catch(T){console.log(T)}N(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" absolute bottom-0 right-0 pb-8 pr-8",children:e.jsxs("button",{onClick:R,className:" overflow-hidden py-2 flex items-center px-3 bg-tertiary shadow bg-opacity-90 rounded-full text-white hover:bg-opacity-100 hover:shadow-md",children:[e.jsx(ys,{size:15}),e.jsx("p",{children:"Add a note"})]})}),t&&e.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center bg-gray-900 bg-opacity-70 z-50",children:e.jsxs("div",{className:"w-[550px] max-h-[500px] overflow-auto bg-white p-3 rounded-lg flex flex-col gap-3 relative",children:[e.jsx("button",{className:"text-tertiary hover:text-primary text-xl px-4 py-2 absolute top-0 right-0",onClick:j,children:e.jsx(ke,{})}),e.jsx("p",{className:"text-xl font-bold text-center py-4",children:"New note"}),e.jsxs("form",{onSubmit:B,children:[e.jsx("label",{htmlFor:"title",children:"Title"}),e.jsx("input",{type:"text",name:"title",value:m.title,onChange:I,className:"w-full border-secondary border-2 rounded-md p-2 mb-2 outline-none",placeholder:"Add title here",required:!0}),e.jsx("label",{htmlFor:"content",children:"Content"}),e.jsx("textarea",{name:"content",value:m.content,onChange:I,className:"w-full border-secondary border-2 resize-none rounded-md p-2 mb-2 outline-none auto-cols-auto",placeholder:"Add note content here...",rows:4,required:!0}),e.jsx("button",{type:"submit",className:" rounded-full w-full bg-secondary border-inherit text-white p-2 outline-none",children:"Create note"})]})]})}),s.length>0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:" w-full h-full flex overflow-auto",children:[e.jsxs("div",{className:" w-2/5 border-r shadow-md overflow-y-auto ",children:[e.jsx("h1",{className:"text-2xl font-semibold p-3",children:"My notes"}),s.map(x=>e.jsxs("div",{onClick:()=>k(x.id),className:`p-3 border-t border-b h-1/6 cursor-pointer hover:shadow-lg hover:border-secondary ${u===x.id?"bg-gray-200":""}`,style:{backgroundColor:x.color},children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:x.title}),x.content.length>50?e.jsxs("p",{className:"break-words text-justify mb-2 text-ellipsis",children:[x.content.slice(0,50),e.jsx("span",{className:" text-base font-medium",children:" .... "})]}):e.jsx("p",{className:"break-words text-justify mb-2 text-ellipsis",children:x.content})]},x.id))]}),l&&!y&&e.jsx("div",{className:" w-3/5 container flex flex-col h-full overflow-auto",children:s.filter(x=>x.id===u).map(x=>e.jsxs("div",{children:[e.jsx("div",{className:"flex w-full justify-end text-sm items-center my-3",children:e.jsxs("button",{className:" flex items-center gap-1 text-blue-500",onClick:()=>N(x.id),children:[e.jsx(Ns,{}),"Edit"]})}),e.jsx("h1",{className:"text-2xl font-semibold",children:x.title}),e.jsx("textarea",{disabled:!E,className:"break-words text-justify w-full  h-screen",children:x.content}),y&&e.jsx("div",{className:`w-3/5 container flex flex-col overflow-y-hidden ${l?"":"hidden"}`,children:s.filter(w=>w.id===u).map(w=>e.jsx("div",{children:e.jsxs("form",{onSubmit:()=>C,className:"flex w-full justify-end text-sm gap-2 items-center my-3",children:[e.jsx("button",{type:"submit",className:" flex items-center gap-1 text-white rounded-md py-1 px-2 bg-green-500",children:"Save"}),e.jsx("button",{className:" flex items-center gap-1 text-red-500",onClick:()=>N(!1),children:"Cancel"}),e.jsxs("span",{className:" flex flex-col",children:[e.jsx("input",{onChange:A,type:"text",name:"title",placeholder:"Title",className:"text-2xl font-semibold outline-none bg-gray-50",value:p.title}),e.jsx("input",{onChange:A,name:"content",type:"text",placeholder:"Content",className:"break-words text-justify outline-none bg-gray-50",value:p.content})]})]})},w.id))})]},x.id))},u),y&&e.jsx("div",{className:`w-3/5 container flex flex-col ${l?"":"hidden"}`,children:s.filter(x=>x.id===u).map(x=>e.jsx("div",{children:e.jsxs("form",{onSubmit:C,children:[e.jsxs("span",{className:" w-full flex items-center gap-2x justify-end",children:[e.jsx("button",{type:"submit",className:" flex items-center gap-1 text-white rounded-md py-1 px-2 bg-green-500",children:"Save"}),e.jsx("button",{className:" flex items-center text-red-500",onClick:()=>N(!1),children:"Cancel"})]}),e.jsxs("span",{className:" flex flex-col",children:[e.jsx("input",{onChange:A,type:"text",name:"title",placeholder:"Title",className:"text-2xl font-semibold outline-none bg-gray-50",value:p.title}),e.jsx("input",{onChange:A,name:"content",type:"text",placeholder:"Content",className:"break-words outline-none bg-gray-50 h-full",value:p.content})]})]})},x.id))})]})}):e.jsx("div",{className:"w-full mt-40",children:e.jsx("p",{className:"text-center text-2xl font-semibold mt-10",children:"You have no notes yet"})})]})},$r="/assets/accessdeniedimg-32862604.png",Dr=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:" h-screen w-full flex items-center justify-center",children:e.jsxs("span",{className:" pr-0 mx-10 w-auto text-center",children:[e.jsx("img",{className:" md:h-96 md:w-96",src:`${$r}`,alt:"Access denied image"}),e.jsx("h1",{className:" text-6xl font-bold",children:"403"}),e.jsx("h1",{className:" text-3xl font-bold",children:"Access Denied"}),e.jsx("p",{className:" text-xl font-bold",children:"You are not authorized to access this page."})]})})}),Ue=({navIsClicked:t})=>{var b,p;let a=[{icon:e.jsx(ks,{}),name:"Home",path:"/home"},{icon:e.jsx(Cs,{}),name:"Dashboard",path:"/dashboard"},{icon:e.jsx($s,{}),name:"Students",path:"/students-list"},{icon:e.jsx(Ds,{}),name:"Calendar",path:"/calendar"},{icon:e.jsx(Rs,{}),name:"Notes",path:"/my-notes"}];const s=Se(),[o,l]=r.useState(a.findIndex(c=>c.path==s.pathname)),{user:n}=ue(),{loading:u}=X(),{logout:d}=Re(),m=()=>{d()};return s.pathname=="/student-referral"?null:e.jsx(e.Fragment,{children:e.jsxs("section",{className:"flex flex-col gap-2 bg-tertiary px-4 py-4 h-screen w-64",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-red-400 text-2xl font-semibold",children:e.jsx(ws,{})}),e.jsx("div",{className:"text-gray-400 text-2xl font-semibold",children:e.jsx(vs,{})})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center mb-5",children:[e.jsx("div",{className:"text-white text-lg font-semibold h-20 w-20 bg-gray-300 px-3 flex items-center justify-center rounded-full",children:!u&&e.jsxs(e.Fragment,{children:[" ",`${(b=n==null?void 0:n.firstName)==null?void 0:b.charAt(0)}${(p=n==null?void 0:n.lastName)==null?void 0:p.charAt(0)}`]})}),e.jsx("h1",{className:"text-primary-500 text-lg font-semibold",children:!u&&e.jsx(e.Fragment,{children:`${n==null?void 0:n.firstName} ${n==null?void 0:n.lastName}`})}),e.jsx("span",{className:"text-gray-400 text-sm",children:n==null?void 0:n.userType})]}),a.map((c,i)=>e.jsxs(_,{to:c.path,className:o==i?"text-white font-semibold text-xl cursor-pointer flex items-center gap-3 rounded-md p-3 bg-primary-600 ":"text-gray-50 cursor-pointer text-lg flex items-center gap-3 rounded-md p-3 hover:bg-primary-600",onClick:()=>{l(i)},children:[c.icon,c.name]},i)),e.jsxs("div",{className:"text-gray-50 cursor-pointer text-lg flex items-center gap-3 rounded-md p-3 hover:bg-red-500",onClick:m,children:[e.jsx(Ss,{}),"Logout"]})]})})},Rr=({currentPathName:t,showSidebar:a})=>{const s=()=>{a()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" flex justify-between px-6 py-2 items-center shadow bg-white",children:[e.jsxs("div",{className:" flex items-center gap-2",children:[e.jsx("div",{className:" md:hidden",children:e.jsx($,{variant:"ghost",size:"icon",onClick:s,children:e.jsx(Is,{className:"h-6 w-6"})})}),e.jsx("img",{src:he,alt:"Welltalk logo",className:"w-12 h-12 cursor-pointer"}),e.jsx("p",{className:" text-tertiary max-md:hidden text-lg font-semibold",children:t})]}),e.jsxs("div",{className:" flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(z,{type:"search",placeholder:"Search Welltalk",className:"md:w-[100px] lg:w-[300px] pr-8 shadow-sm"}),e.jsx(Ts,{className:"absolute top-1/2 right-2 transform -translate-y-1/2 h-5 w-5 cursor-pointer text-secondary"})]}),e.jsx($,{variant:"ghost",asChild:!0,size:"icon",className:" text-red-500 hover:text-red-600",children:e.jsx(_,{to:"/emergency-link",children:e.jsx(As,{className:"h-6 w-6"})})})]})]})})},be={"/":" ","/about":" ","/login":" Login","/register":" Create an Account","/home":" Home","/dashboard":" Dashboard","/students-list":"Students","/calendar":" Calendar","/my-notes":" Notes","/email-verification":" Email Verification","/student-referral":" Student Referral","/emergency-link":" Emergency Contact Numbers"},ts=()=>{const[t,a]=r.useState(""),s=Se();return r.useEffect(()=>{const o=s.pathname;document.title=` ${be[o]||"Page Not Found"}`,be[o]===" "&&(document.title="WellTalk"),o==="/"&&(document.title="WellTalk"),a(be[o]||"Page Not Found")},[s]),{currentPathName:t}},Ir=({children:t})=>{const[a,s]=r.useState(!1),{currentPathName:o}=ts(),{loading:l}=X(),n=()=>{s(!a)};return e.jsx(e.Fragment,{children:!l&&e.jsxs("div",{className:"h-screen flex ",children:[e.jsx("aside",{className:" hidden md:flex",children:e.jsx(Ue,{})}),a?e.jsxs("div",{className:" w-full absolute bg-gray-900 bg-opacity-70 z-50 lg:hidden",children:[e.jsx($,{variant:"ghost",size:"icon",onClick:n,className:" fixed left-64 text-white",children:e.jsx(Fs,{})}),e.jsx(Ue,{})]}):null,e.jsxs("div",{className:" flex flex-col w-full overflow-auto scroll-smooth ",children:[e.jsx("header",{className:" sticky top-0 z-10",children:e.jsx(Rr,{currentPathName:o,showSidebar:()=>{n()}})}),e.jsx("body",{className:" h-full p-3 overflow-auto",children:t})]})]})})},K=({component:t,userType:a})=>{const s=localStorage.getItem("userType"),o=localStorage.getItem("token"),l=s===a;return o&&l?e.jsx(Ir,{children:e.jsx(t,{})}):o&&!l?e.jsx(Dr,{}):e.jsx(cs,{to:"/login"})},Tr={backgroundImage:`url(${De})`,backgroundSize:" 100%",backgroundRepeat:"no-repeat"},Ar=()=>{const t=()=>{window.history.back()};return e.jsxs("div",{className:" w-full h-screen flex flex-col items-center justify-center",style:Tr,children:[e.jsx("div",{className:" absolute left-0 top-0 p-4",children:e.jsxs("button",{onClick:t,className:" flex items-center gap-1 text-xl hover:text-red-500",children:[e.jsx(Es,{})," ",e.jsx("span",{children:"Back"})]})}),e.jsx("div",{className:"w-1/3 justify-center flex shadow-md rounded-lg h-2/4 border-2 border-red-500 p-2",children:e.jsx("h1",{className:" text-2xl font-bold",children:"Emergency contact numbers"})})]})},Fr=()=>e.jsx("section",{className:" h-full flex items-center ",children:e.jsxs("div",{className:" md:w-[600px] space-y-8",children:[e.jsx("h1",{className:" font-bold text-3xl sm:text-5xl tracking-normal text-primary-600 font-serif",children:"Elevating Student Support and Mental Health Services at CIT-University"}),e.jsx("p",{className:"block font-sans text-base font-normal leading-relaxed antialiased text-primary-600",children:"A website app that can automate and streamline various aspects of the Guidance Center's work, including appointment scheduling, resource sharing, and data management."}),e.jsxs("div",{className:" flex items-center space-x-2",children:[e.jsx($,{size:"lg",className:" shadow bg-gradient-to-r from-primary-500 to-primary-300 hover:to-primary-500 font-bold ",children:"Get mobile app"}),e.jsx("h1",{className:" font-semibold text-xs text-primary-700",children:"For students."})]})]})}),Er="/assets/notfound-b73d7ef6.png",Pr=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:" h-screen w-full flex items-center justify-center",children:e.jsxs("span",{className:" pr-0 mx-10 w-auto text-center",children:[e.jsx("img",{className:" md:h-96 md:w-96",src:`${Er}`,alt:"Not found page image"}),e.jsx("h1",{className:" text-6xl font-bold",children:"404"}),e.jsx("h1",{className:" text-3xl font-bold",children:"Page Not Found"})]})})}),Lr=()=>e.jsxs("footer",{className:" flex bg-gray-50 py-5 bottom-0 items-center px-6 items justify-between border-t-2",children:[e.jsx("h1",{className:" text-gray-300 items-center",children:" WellTalk | 2023 | Guia | Batulan | Nadela | Perez | Prahinog"}),e.jsxs("ul",{className:" flex gap-3 items-center",children:[e.jsx(Ps,{className:" h-8 w-8 text-blue-600 "}),e.jsx(Ls,{className:" h-8 w-8 text-pink-600"}),e.jsx(Ms,{className:" h-8 w-8 text-blue-400"})]})]}),Mr=()=>e.jsx(e.Fragment,{children:e.jsx("header",{children:e.jsxs("div",{className:" flex items-center justify-between mx-14 py-4",children:[e.jsx("div",{className:"hidden sm:block",children:e.jsx(_,{to:"/",children:e.jsx("img",{src:he,alt:"logo",className:" h-16 w-16"})})}),e.jsxs("div",{className:" space-x-3 md:flex-col items-center",children:[e.jsx($,{asChild:!0,variant:"link",className:" hover:no-underline hover:text-primary-700",children:e.jsx(_,{to:"/",children:"Home"})}),e.jsx($,{asChild:!0,variant:"link",className:" hover:no-underline hover:text-primary-700",children:e.jsx(_,{to:"/features",children:"Features"})}),e.jsx($,{asChild:!0,variant:"link",className:" hover:no-underline hover:text-primary-700",children:e.jsx(_,{to:"/about",children:"About Us"})}),e.jsx($,{variant:"outline",className:" hover:bg-primary-200 hover:bg-opacity-30",children:e.jsx(_,{to:"/login",children:"Login"})}),e.jsx($,{variant:"default",children:e.jsx(_,{to:"/register",children:"Create account"})})]})]})})}),Or=()=>e.jsxs("div",{className:"  flex flex-col h-screen md:bg-[url('@/media/images/defaultbg.png')] bg-no-repeat bg-origin-border bg-center bg-primary-100",children:[e.jsx(Mr,{}),e.jsx("div",{className:"h-full mx-14 ",children:e.jsx(is,{})}),e.jsx(Lr,{})]});function zr(){const t=Se(),[a,s]=r.useState(!1),{currentPathName:o}=ts();r.useEffect(()=>{const n=()=>{const d=localStorage.getItem("token");if(d){const{exp:m}=JSON.parse(atob(d.split(".")[1]));m*1e3<Date.now()?(s(!0),localStorage.removeItem("token")):s(!1)}};n();const u=setInterval(n,1e4);return()=>{clearInterval(u)}},[t,o]);const l=()=>{localStorage.clear(),s(!1)};return e.jsx(e.Fragment,{children:e.jsxs(ds,{children:[e.jsxs(H,{element:e.jsx(Or,{}),children:[e.jsx(H,{path:"/",element:e.jsx(Fr,{})}),e.jsx(H,{path:"about",element:e.jsx(ja,{})})]}),e.jsx(H,{path:"login",element:e.jsx(xr,{})}),e.jsx(H,{path:"register",element:e.jsx(Ba,{})}),e.jsx(H,{path:"email-verification",element:e.jsx(gr,{})}),e.jsx(H,{path:"emergency-link",element:e.jsx(Ar,{})}),e.jsx(H,{path:"home",element:e.jsx(K,{userType:"Counselor",component:Sr})}),e.jsx(H,{path:"dashboard",element:e.jsx(K,{userType:"Counselor",component:Va})}),e.jsx(H,{path:"students-list",element:e.jsx(K,{userType:"Counselor",component:Za})}),e.jsx(H,{path:"calendar",element:e.jsx(K,{userType:"Counselor",component:Da})}),e.jsx(H,{path:"my-notes",element:e.jsx(K,{userType:"Counselor",component:Cr})}),e.jsx(H,{path:"student-referral",element:e.jsx(K,{userType:"Teacher",component:jr})}),e.jsx(H,{path:"*",element:e.jsx(Pr,{})}),a&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-500",children:"Your session has ended."}),e.jsx("p",{className:"text-gray-600",children:"Please login again to continue."}),e.jsx("div",{className:" flex mt-5 gap-2",children:e.jsx("button",{className:" bg-gray-500 text-white py-1 px-3 rounded-sm",onClick:l,children:"Ok"})})]})})]})})}ns.createRoot(document.getElementById("root")).render(e.jsx(Os,{children:e.jsx(Pa,{children:e.jsx(zr,{})})}));
