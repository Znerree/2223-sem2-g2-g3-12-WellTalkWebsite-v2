import{j as e,r}from"./react-2694bf8b.js";import{c as Ms}from"./react-dom-efd103fd.js";import{a as xt}from"./axios-28bc18a3.js";import{$ as ht,a as pt,b as ft,c as gt,d as jt,e as bt,f as yt,g as Us,h as Vs,i as Bs,j as Nt,k as wt,l as vt,m as St,n as kt,o as Ct,p as _s,q as $t,r as At,s as Hs,t as Dt,u as Rt,v as qs,w as Tt,x as Js,y as It,z as Pt,A as Ws,B as Ks,C as Ft,D as Gs,E as Qs,F as Et,G as Lt,H as Ys,I as Ot,J as zt,K as Mt,L as Ut,M as Vt,N as Bt,O as _t,P as Xs,Q as Zs,R as ea,S as ve,T as Se,U as He,V as ke,W as Ce,X as Ht,Y as qt,Z as Jt,_ as Wt,a0 as Kt,a1 as Gt,a2 as Qt,a3 as ta}from"./@radix-ui-f1699a05.js";import{c as le}from"./class-variance-authority-52f2569e.js";import{c as sa}from"./clsx-1229b3e0.js";import{t as aa}from"./tailwind-merge-1166cefb.js";import{H as rt,a as ot,b as nt,P as ra,B as oa,L as na,F as la,I as ia,A as ca,c as da,d as ma,e as ua,f as xa,g as ha,h as pa,i as fa,j as ga,k as ja,l as ba,m as ya,n as Na,o as wa,p as va,q as Sa,r as ka,s as Ca,t as $a,C as lt,u as Aa,v as Da,w as Ra}from"./react-icons-1d41b80c.js";import{X as qe,C as Yt,a as Ta,b as Xt,c as Ia,d as Pa,A as Oe,I as Fa}from"./lucide-react-0cad383b.js";import{L as B,B as Ea}from"./react-router-dom-53489f7f.js";import{t as $e}from"./@hookform-30fb6072.js";import{u as La,F as Oa,C as za,b as Ae}from"./react-hook-form-55a0af0b.js";import{o as De,s as U,a as Ma}from"./zod-6a28afb7.js";import{u as Ua,f as it,g as Va,a as Ba,b as _a,c as Ha}from"./@tanstack-56f1e531.js";import{a as Je,d as qa,b as We,O as Ke,e as Ja,f as L}from"./react-router-483ff73e.js";import{A as G,o as Wa}from"./sonner-3f3ab028.js";import{y as Ka}from"./next-themes-f9d2140c.js";import"./scheduler-765c72db.js";import"./@babel-98964cd2.js";import"./react-remove-scroll-1a310fab.js";import"./tslib-89fde298.js";import"./react-remove-scroll-bar-168ccf57.js";import"./react-style-singleton-9e6c2367.js";import"./get-nonce-1ea010b7.js";import"./use-sidecar-850eee20.js";import"./use-callback-ref-cf54cb31.js";import"./aria-hidden-606e0ff2.js";import"./@floating-ui-a006b346.js";import"./@remix-run-8989dd9f.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();const Ga=()=>e.jsx(e.Fragment,{children:e.jsx("h1",{children:"About"})}),{VITE_API_BASE_URL:Qa}={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},ct=localStorage.getItem("token"),Ya="/authenticate",Xa="/users/register",Z="https://welltalk-mobile-backend.up.railway.app",v=xt.create({baseURL:Qa});ct?v.defaults.headers.common.Authorization=`${ct}`:delete v.defaults.headers.common.Authorization;function u(...t){return aa(sa(t))}const Ge=le("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-primary-500 text-primary-500 hover:bg-primary-100 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-primary-100 text-primary-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-primary-500 underline-offset-4 hover:underline hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-full px-3",lg:"h-11 rounded-full px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),y=r.forwardRef(({className:t,variant:s,size:a,asChild:o=!1,...n},l)=>{const c=o?ht:"button";return e.jsx(c,{className:u(Ge({variant:s,size:a,className:t})),ref:l,...n})});y.displayName="Button";const Q=Us,oe=Bs,Za=Vs,Zt=r.forwardRef(({className:t,...s},a)=>e.jsx(pt,{className:u("fixed inset-0 z-50 bg-white/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 dark:bg-slate-950/80",t),...s,ref:a}));Zt.displayName=pt.displayName;const J=r.forwardRef(({className:t,...s},a)=>e.jsxs(Za,{children:[e.jsx(Zt,{}),e.jsx(ft,{ref:a,className:u("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-slate-800 dark:bg-slate-950",t),...s})]}));J.displayName=ft.displayName;const Re=({className:t,...s})=>e.jsx("div",{className:u("flex flex-col space-y-2 text-center sm:text-left",t),...s});Re.displayName="AlertDialogHeader";const W=({className:t,...s})=>e.jsx("div",{className:u("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});W.displayName="AlertDialogFooter";const Y=r.forwardRef(({className:t,...s},a)=>e.jsx(gt,{ref:a,className:u("text-lg font-semibold",t),...s}));Y.displayName=gt.displayName;const ee=r.forwardRef(({className:t,...s},a)=>e.jsx(jt,{ref:a,className:u("text-sm text-slate-500 dark:text-slate-400",t),...s}));ee.displayName=jt.displayName;const de=r.forwardRef(({className:t,...s},a)=>e.jsx(bt,{ref:a,className:u(Ge(),t),...s}));de.displayName=bt.displayName;const X=r.forwardRef(({className:t,...s},a)=>e.jsx(yt,{ref:a,className:u(Ge({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));X.displayName=yt.displayName;const Te=()=>{const[t,s]=r.useState(!0);return r.useEffect(()=>{const a=setTimeout(()=>{s(!1)},1e3);return()=>clearTimeout(a)},[]),{loading:t,setLoading:s}},er=()=>{const[t,s]=r.useState([]),[a,o]=r.useState(0),{loading:n,setLoading:l}=Te();r.useEffect(()=>{const i={headers:{Authorization:`${localStorage.getItem("token")}`}};v.get("/referrals",i).then(m=>{s(m.data.filter(b=>!b.isAccepted)),console.log(t)}).catch(m=>{console.error("Error retrieving referrals:",m)})},[a]);const c=i=>{l(!0);const m={headers:{Authorization:`${localStorage.getItem("token")}`}};v.put(`/referrals/${i}`,{isAccepted:!0},m).then(b=>{console.log(b),o(a+1)}).catch(b=>{console.error("Error accepting referral:",b)}),l(!1)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:" overflow-y-auto",children:t.length===0?e.jsx("p",{className:" text-gray-500 text-sm p-2",children:"No referrals yet."}):e.jsx("ul",{className:" p-2",children:t.map(i=>e.jsxs("li",{className:"border-b px-2 rounded-md shadow-sm py-2 border mb-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:" flex gap-2",children:e.jsxs("div",{className:"text-gray-500 text-sm",children:["Student ID: ",e.jsx("span",{className:"text-primary text-black",children:i.studentID})]})}),e.jsxs("div",{className:"text-gray-500 text-sm",children:["Referred by:"," ",e.jsxs("span",{className:"text-primary",children:[i.teacher.firstName," ",i.teacher.lastName]})]}),e.jsxs("div",{className:"text-gray-500 text-sm mb-1",children:["Reason:"," ",e.jsx("div",{className:" bg-gray-300 border rounded p-2",children:e.jsx("i",{className:"text-black flex flex-grow w-full break-all",children:i.reason})})]})]}),e.jsxs(Q,{children:[e.jsx(oe,{asChild:!0,children:e.jsx(y,{size:"sm",className:" rounded-lg",children:"Accept"})}),e.jsxs(J,{children:[e.jsxs(Re,{children:[e.jsx(Y,{children:"Confirmation"}),e.jsx(ee,{children:"Are you sure you want to accept this referral?"})]}),e.jsxs(W,{children:[e.jsx(X,{children:"Cancel"}),e.jsx(de,{onClick:()=>c(i.id),disabled:n,children:"Accept"})," "]})]})]})]},i.id))})})})},es=()=>{const[t,s]=r.useState(""),[a,o]=r.useState(""),[n,l]=r.useState([]),[c,i]=r.useState(!1),[m,b]=r.useState(""),p=async()=>{const h={headers:{Authorization:`${localStorage.getItem("token")}`}};return(await v.get(Z+"/getAllUser",h)).data};return{selectedStudent:t,value:t,setValue:s,query:a,setQuery:o,studentID:m,setStudentId:b,results:n,setResults:l,showResultsDropdown:c,setShowResultsDropdown:i,useFetchStudents:()=>{const[h,w]=r.useState([]);return r.useEffect(()=>{(async()=>{const j=await p();w(j)})()},[]),{students:h}},handleQueryChange:(h,w,C,j,k,$)=>{const A=h.target.value;k(A),$(A);const T=w.filter(z=>z.firstName.toLowerCase().includes(A.toLowerCase())||z.lastName.toLowerCase().includes(A.toLowerCase()));C(T),j(T.length>0)},handleStudentInput:(h,w,C,j,k,$)=>{j(h),k([]),$("");const A=w.find(T=>T.firstName+" "+T.lastName===h);A&&(C(A.studentID.toString()),console.log(m))},handleClear:()=>{s(""),l([]),o("")}}},tr=1,sr=1e6;let ze=0;function ar(){return ze=(ze+1)%Number.MAX_VALUE,ze.toString()}const Me=new Map,dt=t=>{if(Me.has(t))return;const s=setTimeout(()=>{Me.delete(t),ce({type:"REMOVE_TOAST",toastId:t})},sr);Me.set(t,s)},rr=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,tr)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?dt(a):t.toasts.forEach(o=>{dt(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===a||a===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},pe=[];let fe={toasts:[]};function ce(t){fe=rr(fe,t),pe.forEach(s=>{s(fe)})}function ne({...t}){const s=ar(),a=n=>ce({type:"UPDATE_TOAST",toast:{...n,id:s}}),o=()=>ce({type:"DISMISS_TOAST",toastId:s});return ce({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||o()}}}),{id:s,dismiss:o,update:a}}function or(){const[t,s]=r.useState(fe);return r.useEffect(()=>(pe.push(s),()=>{const a=pe.indexOf(s);a>-1&&pe.splice(a,1)}),[t]),{...t,toast:ne,dismiss:a=>ce({type:"DISMISS_TOAST",toastId:a})}}const nr=()=>{const[t,s]=r.useState(""),[a,o]=r.useState(""),[n,l]=r.useState(!1),[c,i]=r.useState(!1),m=async(d,x)=>{const g=new Date;if(new Date(`${t}T${a}`)<g){alert("Appointment date and time must not be before the current date and time"),p();return}const h={headers:{Authorization:`${localStorage.getItem("token")}`}},w={start_date:`${t}T${a}`,studentID:`${d}`},C={dateTime:`${t}T${a}`};try{if(x){const j=await v.post("/availableschedules",C,h);console.log(j.data),ne({title:"Schedule set successfully",variant:"success",duration:1500}),window.location.reload()}else{const j=await v.post("/appointments",w,h);console.log(j.data),ne({title:"Appointment created successfully",variant:"success",duration:1500}),window.location.reload()}p()}catch(j){console.error(x?"Error creating schedule:":"Error creating appointment:",j)}},b=d=>{const x=d.target.value;let[g,N]=x.split(":"),h="00";x.includes("pm")&&(g=(parseInt(g,10)+12).toString()),o(`${g}:${N}:${h}`)},p=()=>{s(""),o("")};return{startDate:t,setStartDate:s,startTime:a,setStartTime:o,showAnnounceSchedule:n,setShowAnnounceSchedule:l,showAppoinmentRequests:c,setShowAppoinmentRequests:i,handleSubmit:m,handleSelectTime:b,clearForm:p}},lr=()=>{const[t,s]=r.useState([]);r.useState(!1),r.useState();const[a,o]=r.useState(0);r.useEffect(()=>{const l={headers:{Authorization:`${localStorage.getItem("token")}`}};v.get(Z+"/getAppointments",l).then(c=>{s(c.data.filter(i=>!i.decision))}).catch(c=>{console.error("Error retrieving requests:",c)})},[a]);const n=l=>{const c={headers:{Authorization:`${localStorage.getItem("token")}`}};v.put(Z+`/${l}`,c).then(i=>{o(a+1)}).catch(i=>{console.error("Error accepting appointment request:",i)})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:" overflow-y-auto",children:t.length===0?e.jsx("p",{className:" text-gray-500 text-sm p-2",children:"No requests yet."}):e.jsx("ul",{className:" p-2",children:t.map(l=>e.jsxs("li",{className:"border-b px-2 rounded-md shadow-sm py-2 border mb-2 bg-slate-100",children:[e.jsxs("p",{className:" font-semibold",children:[l.user.firstName," ",l.user.lastName]}),e.jsxs("p",{children:["Requested on -"," ",e.jsxs("span",{className:" text-primary-500",children:[new Date(l.date).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),", ",e.jsx("br",{}),new Date(l.date).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:" flex gap-2",children:[e.jsxs("div",{className:"text-gray-500 text-sm",children:["Course: ",e.jsx("span",{className:"text-primary-500",children:l.user.course})]}),e.jsxs("div",{className:"text-gray-500 text-sm",children:["Student ID: ",e.jsx("span",{className:"text-primary-500",children:l.user.studentID})]})]},l.user.userid),e.jsxs("div",{className:"text-gray-500 text-sm mb-1 mt-2",children:["Message:",e.jsx("div",{className:" bg-gray-300 border rounded p-2",children:e.jsx("i",{className:"text-black flex flex-grow w-full break-all",children:l.message})})]}),e.jsxs(Q,{children:[e.jsx(oe,{asChild:!0,children:e.jsx(y,{size:"sm",className:" rounded-lg",children:"Accept"})}),e.jsxs(J,{children:[e.jsxs(Re,{children:[e.jsx(Y,{children:"Confirmation"}),e.jsx(ee,{children:"Are you sure you want to accept this requested appointment?"})]}),e.jsxs(W,{children:[e.jsx(X,{children:"Cancel"}),e.jsx(de,{onClick:()=>n(l.makeAppointmentid),children:"Accept"})," "]})]})]})]})]},l.user.userid))})})})},_=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:u("rounded-lg border border-slate-200 bg-white text-slate-950 shadow-sm dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...s}));_.displayName="Card";const se=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:u("flex flex-col space-y-1.5 p-6",t),...s}));se.displayName="CardHeader";const te=r.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:u("text-2xl font-semibold leading-none tracking-tight",t),...s}));te.displayName="CardTitle";const me=r.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:u("text-sm text-slate-500 dark:text-slate-400",t),...s}));me.displayName="CardDescription";const H=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:u("p-6 pt-0",t),...s}));H.displayName="CardContent";const Ie=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:u("flex items-center p-6 pt-0",t),...s}));Ie.displayName="CardFooter";const ir=()=>{const[t,s]=r.useState([]),[a,o]=r.useState(!0),[n,l]=r.useState(!0),[c,i]=r.useState(!1),[m,b]=r.useState(!1),[p,d]=r.useState(0);r.useEffect(()=>{const j={headers:{Authorization:`${localStorage.getItem("token")}`}};v.get("/myappointments",j).then(k=>{s(k.data.sort(($,A)=>new Date($.start_date).getTime()-new Date(A.start_date).getTime()).filter($=>!$.isDone)),console.log(k.data)}).catch(k=>{console.error("Error retrieving appointments:",k)})},[p]);const x=new Date().toLocaleDateString(),g=t.filter(j=>new Date(j.start_date).toLocaleDateString()===x),N=t.filter(j=>new Date(j.start_date).toLocaleDateString()!==x),h=()=>{i(!c)},w=()=>{b(!m)},C=j=>{const k={headers:{Authorization:`${localStorage.getItem("token")}`}};v.put(`/appointments/${j}`,{isDone:!0},k).then($=>{d(Math.random()),console.log($.data)}).catch($=>{console.error("Error marking appointment as done:",$)})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("h2",{className:"font-sans text-md top-0 pl-2",children:"Today's Appointments"}),e.jsx("div",{className:"flex items-center justify-between pr-2",onClick:h,children:c?e.jsx(rt,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>{o(!a)}}):e.jsx(ot,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>{o(!a)}})})]}),g.length>0?e.jsx("ul",{className:`p-2 ${a?"":"hidden"}`,children:g.map((j,k)=>e.jsx("li",{children:e.jsxs(_,{className:"p-2 bg-primary-700",children:[e.jsxs("h1",{className:" text-sm text-white",children:["Student ID: ",e.jsx("strong",{children:j.studentID})]}),e.jsxs("p",{className:" text-sm text-white",children:["Date: ","",j.start_date?e.jsxs("span",{className:" text-white underline underline-offset-2 font-semibold",children:[new Date(j.start_date).toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"})," "]}):e.jsx("span",{className:"text-primary-200",children:"Not found"})]}),e.jsxs("p",{className:" text-white text-sm",children:["Start Time:"," ",e.jsx("span",{className:" text-white underline underline-offset-2 font-semibold",children:new Date(j.start_date).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0,second:void 0})})]}),e.jsx(y,{size:"sm",className:" rounded-md text-white",onClick:()=>C(j.id),variant:"default",children:"Mark as done"})]})},k))}):e.jsx("p",{className:`text-gray-500 text-sm p-2 ${a?"":"hidden"}`,children:"No appointments today."}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("h2",{className:"font-sans text-md top-0 pl-2",children:"Upcoming Appointments"}),e.jsx("div",{className:"flex items-center justify-between pr-2",onClick:w,children:m?e.jsx(rt,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>{l(!n)}}):e.jsx(ot,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>{l(!n)}})})]}),N.length>0?e.jsx("ul",{className:`p-2 ${n?"":"hidden"}`,children:N.map((j,k)=>e.jsx("li",{children:e.jsxs(_,{className:"p-2 bg-primary-700 my-1",children:[e.jsx("div",{className:" flex gap-2",children:e.jsxs("div",{className:"text-white text-sm",children:["Student ID: ",e.jsx("span",{className:"text-white underline underline-offset-2 font-semibold",children:j.studentID})]})}),e.jsxs("p",{className:" text-sm text-white",children:["Appointed by: ","",j.counselor?e.jsxs("span",{className:" text-white underline underline-offset-2 font-semibold",children:[j.counselor.firstName," ",j.counselor.lastName]}):e.jsx("span",{className:"text-primary-200",children:"Not found"})]}),e.jsxs("p",{className:" text-sm text-white",children:["Date: ","",j.start_date?e.jsxs("span",{className:" text-white underline underline-offset-2 font-semibold",children:[new Date(j.start_date).toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"})," "]}):e.jsx("span",{className:"text-primary-200",children:"Not found"})]}),e.jsxs("p",{className:" text-white text-sm",children:["Start Time:"," ",e.jsx("span",{className:" text-white underline underline-offset-2 font-semibold",children:new Date(j.start_date).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0,second:void 0})})]}),e.jsx(y,{size:"sm",className:" rounded-md text-white",onClick:()=>C(j.id),variant:"default",children:"Mark as done"})]})},k))}):e.jsx("p",{className:`text-gray-500 text-sm p-2 ${n?"":"hidden"}`,children:"No upcoming appointments."})]})})},cr=_s,ts=r.forwardRef(({className:t,...s},a)=>e.jsx(Nt,{ref:a,className:u("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));ts.displayName=Nt.displayName;const dr=le("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border border-slate-200 p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-slate-800",{variants:{variant:{default:"border bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",success:"border bg-green-500 text-white dark:bg-slate-950 dark:text-slate-50",destructive:"destructive group border-red-500 bg-red-500 text-slate-50 dark:border-red-900 dark:bg-red-900 dark:text-slate-50"}},defaultVariants:{variant:"default"}}),ss=r.forwardRef(({className:t,variant:s,...a},o)=>e.jsx(wt,{ref:o,className:u(dr({variant:s}),t),...a}));ss.displayName=wt.displayName;const mr=r.forwardRef(({className:t,...s},a)=>e.jsx(vt,{ref:a,className:u("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-slate-200 bg-transparent px-3 text-sm font-medium ring-offset-white transition-colors hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-slate-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-slate-50 group-[.destructive]:focus:ring-red-500 dark:border-slate-800 dark:ring-offset-slate-950 dark:hover:bg-slate-800 dark:focus:ring-slate-300 dark:group-[.destructive]:border-slate-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-slate-50 dark:group-[.destructive]:focus:ring-red-900",t),...s}));mr.displayName=vt.displayName;const as=r.forwardRef(({className:t,...s},a)=>e.jsx(St,{ref:a,className:u("absolute right-2 top-2 rounded-md p-1 text-slate-950/50 opacity-0 transition-opacity hover:text-slate-950 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-slate-50/50 dark:hover:text-slate-50",t),"toast-close":"",...s,children:e.jsx(qe,{className:"h-4 w-4"})}));as.displayName=St.displayName;const rs=r.forwardRef(({className:t,...s},a)=>e.jsx(kt,{ref:a,className:u("text-sm font-semibold",t),...s}));rs.displayName=kt.displayName;const os=r.forwardRef(({className:t,...s},a)=>e.jsx(Ct,{ref:a,className:u("text-sm opacity-90",t),...s}));os.displayName=Ct.displayName;function ns(){const{toasts:t}=or();return e.jsxs(cr,{children:[t.map(function({id:s,title:a,description:o,action:n,...l}){return e.jsxs(ss,{...l,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(rs,{children:a}),o&&e.jsx(os,{children:o})]}),n,e.jsx(as,{})]},s)}),e.jsx(ts,{})]})}const ur=()=>{r.useState(new Date);const t={borderBottom:"2px solid #769EAB",background:"transparent",outline:"none",width:"100%",height:"40px",padding:"3px 3px",marginBottom:"16px",border:"1px solid #769EAB",borderRadius:"5px"},{useFetchStudents:s,handleQueryChange:a,handleStudentInput:o,value:n,setQuery:l,setValue:c,studentID:i,query:m,setStudentId:b,setResults:p,results:d,showResultsDropdown:x,setShowResultsDropdown:g,handleClear:N}=es(),{students:h}=s(),{startDate:w,setStartDate:C,startTime:j,showAnnounceSchedule:k,setShowAnnounceSchedule:$,showAppoinmentRequests:A,setShowAppoinmentRequests:T,handleSubmit:z,handleSelectTime:f,clearForm:E}=nr(),M=R=>{a(R,h,p,g,c,l)},q=r.useRef(null);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-wrap gap-10 justify-center",children:[e.jsxs("div",{className:" bg-white max-h-[400px] w-80 rounded-lg shadow-2xl flex flex-col border pb-3 px-2",children:[e.jsxs("div",{className:"flex items-center justify-between border-b",children:[e.jsx("h1",{className:" font-semibold text-md top-0 py-4 pl-2",children:k?"Announce a Schedule":"Set an Appointment"}),e.jsx(nt,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>$(!k)})]}),k?e.jsxs("form",{className:" px-3 pt-3",children:[e.jsx("label",{className:" text-sm text-gray-400",children:"Date"}),e.jsx("input",{name:"date",type:"date",style:t,autoComplete:"off",required:!0,value:w,onChange:R=>C(R.target.value)}),e.jsx("label",{className:" text-sm text-gray-400",children:"Time"}),e.jsx("input",{name:"time",type:"time",style:t,autoComplete:"off",required:!0,value:j,onChange:f}),e.jsx(y,{className:" rounded-md",type:"submit",onClick:()=>z(i,k),children:"SET SCHEDULE"})]}):e.jsxs("form",{className:" px-3 pt-3",onSubmit:R=>{R.preventDefault(),z(i,!1)},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{ref:q,type:"text",placeholder:"Student name",style:t,onChange:M,value:n,required:!0}),e.jsx("button",{className:"text-xs text-white mb-4 cursor-pointer bg-secondary rounded-md p-1 ml-2",onClick:N,children:"clear"})]}),x&&m&&e.jsx("ul",{className:"max-h-60 overflow-y-auto absolute w-full max-w-[250px] bg-white border border-gray-300 rounded-b-md",children:d.map(R=>e.jsxs("li",{className:" w-full border p-2 cursor-pointer hover:bg-gray-100 hover:shadow-lg hover:border-secondary",onClick:()=>o(R.firstName+" "+R.lastName,h,b,c,p,l),children:[e.jsxs("p",{className:"text-sm bold",children:[R.firstName," ",R.lastName]}),e.jsxs("p",{className:"text-xs text-red-500",children:["Student ID: ",R.studentID]})]},R.userid))}),e.jsx("label",{className:" text-sm text-gray-400",children:"Date"}),e.jsx("input",{name:"date",type:"date",style:t,autoComplete:"off",required:!0,value:w,onChange:R=>C(R.target.value)}),e.jsx("label",{className:" text-sm text-gray-400",children:"Time"}),e.jsx("input",{name:"time",type:"time",style:t,autoComplete:"off",required:!0,value:j,onChange:f}),e.jsx(y,{type:"submit",className:" rounded-md",children:"SET APPOINTMENT"})]})]}),e.jsxs("div",{className:" max-h-[400px] w-80  overflow-y-auto rounded-lg shadow-2xl px-2 flex flex-col border bg-white",children:[e.jsx("h1",{className:" font-semibold text-md border-b bg-white py-4 pl-2",children:"My Appointments"}),e.jsx(ir,{})]}),e.jsxs("div",{className:"max-h-[400px] w-80 rounded-lg shadow-2xl px-2 flex flex-col border bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between border-b",children:[e.jsx("h1",{className:" font-semibold text-md top-0 py-4 pl-2",children:A?"Appointment Requests":"Referred Students"}),e.jsx(nt,{className:"text-black-300 h-6 w-6 cursor-pointer",onClick:()=>T(!A)})]}),A?e.jsx(lr,{}):e.jsx(er,{})]})]}),e.jsx(ns,{})]})},ls="/assets/login-registerbg-e46d2a74.png",xr=le("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qe=r.forwardRef(({className:t,...s},a)=>e.jsx($t,{ref:a,className:u(xr(),t),...s}));Qe.displayName=$t.displayName;const Pe=Oa,is=r.createContext({}),O=({...t})=>e.jsx(is.Provider,{value:{name:t.name},children:e.jsx(za,{...t})}),Fe=()=>{const t=r.useContext(is),s=r.useContext(cs),{getFieldState:a,formState:o}=La(),n=a(t.name,o);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:l}=s;return{id:l,name:t.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...n}},cs=r.createContext({}),P=r.forwardRef(({className:t,...s},a)=>{const o=r.useId();return e.jsx(cs.Provider,{value:{id:o},children:e.jsx("div",{ref:a,className:u("space-y-2",t),...s})})});P.displayName="FormItem";const hr=r.forwardRef(({className:t,...s},a)=>{const{error:o,formItemId:n}=Fe();return e.jsx(Qe,{ref:a,className:u(o&&"text-red-500 dark:text-red-900",t),htmlFor:n,...s})});hr.displayName="FormLabel";const F=r.forwardRef(({...t},s)=>{const{error:a,formItemId:o,formDescriptionId:n,formMessageId:l}=Fe();return e.jsx(ht,{ref:s,id:o,"aria-describedby":a?`${n} ${l}`:`${n}`,"aria-invalid":!!a,...t})});F.displayName="FormControl";const pr=r.forwardRef(({className:t,...s},a)=>{const{formDescriptionId:o}=Fe();return e.jsx("p",{ref:a,id:o,className:u("text-sm text-slate-500 dark:text-slate-400",t),...s})});pr.displayName="FormDescription";const V=r.forwardRef(({className:t,children:s,...a},o)=>{const{error:n,formMessageId:l}=Fe(),c=n?String(n==null?void 0:n.message):s;return c?e.jsx("p",{ref:o,id:l,className:u("text-sm font-medium text-red-500 dark:text-red-900",t),...a,children:c}):null});V.displayName="FormMessage";const D=r.forwardRef(({className:t,type:s,...a},o)=>e.jsx("input",{type:s,className:u("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-primary-500 focus-visible:outline-1 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...a}));D.displayName="Input";const fr=Gs,gr=Qs,ds=r.forwardRef(({className:t,children:s,...a},o)=>e.jsxs(At,{ref:o,className:u("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-200 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-slate-300",t),...a,children:[s,e.jsx(Hs,{asChild:!0,children:e.jsx(Yt,{className:"h-4 w-4 opacity-50"})})]}));ds.displayName=At.displayName;const ms=r.forwardRef(({className:t,...s},a)=>e.jsx(Dt,{ref:a,className:u("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Ta,{className:"h-4 w-4"})}));ms.displayName=Dt.displayName;const us=r.forwardRef(({className:t,...s},a)=>e.jsx(Rt,{ref:a,className:u("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Yt,{className:"h-4 w-4"})}));us.displayName=Rt.displayName;const xs=r.forwardRef(({className:t,children:s,position:a="popper",...o},n)=>e.jsx(qs,{children:e.jsxs(Tt,{ref:n,className:u("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...o,children:[e.jsx(ms,{}),e.jsx(Js,{className:u("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(us,{})]})}));xs.displayName=Tt.displayName;const jr=r.forwardRef(({className:t,...s},a)=>e.jsx(It,{ref:a,className:u("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));jr.displayName=It.displayName;const Ve=r.forwardRef(({className:t,children:s,...a},o)=>e.jsxs(Pt,{ref:o,className:u("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ws,{children:e.jsx(Xt,{className:"h-4 w-4"})})}),e.jsx(Ks,{children:s})]}));Ve.displayName=Pt.displayName;const br=r.forwardRef(({className:t,...s},a)=>e.jsx(Ft,{ref:a,className:u("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",t),...s}));br.displayName=Ft.displayName;const yr=()=>{const[t,s]=r.useState();return r.useEffect(()=>{(async()=>{try{const o={headers:{Authorization:`${localStorage.getItem("token")}`}};if(!localStorage.getItem("user"))return;const n=localStorage.getItem("user"),l=await v.get(`/users/username/${n}`,o);s(l.data)}catch(o){console.log(o)}})()},[]),{user:t,setUser:s}},hs=r.createContext(null),K=()=>r.useContext(hs),Nr=({children:t})=>{const{user:s,setUser:a}=yr(),{loading:o,setLoading:n}=Te(),l=async(m,b)=>{n(!0);try{const p=await v.post(Ya,{username:m,password:b},{headers:{Authorization:localStorage.getItem("token")}});localStorage.setItem("token",p.data.token);const d={headers:{Authorization:localStorage.getItem("token")}},x=await v.get(`/users/username/${m}`,d),g=x.data.userType;return localStorage.setItem("user",m),localStorage.setItem("userType",g),a({id:x.data.id,firstName:x.data.firstName,lastName:x.data.lastName,email:x.data.email,schoolID:x.data.schoolID,userType:x.data.userType,username:m,password:""}),{success:!0,userType:g}}catch(p){return{success:!1,error:p}}finally{n(!1)}},c=async(m,b,p,d,x,g,N)=>{n(!0);try{return await v.post(Xa,JSON.stringify({firstName:m,lastName:b,email:p,schoolID:d,userType:x,username:g,password:N}),{headers:{"Content-Type":"application/json"}}),{success:!0}}catch(h){return{success:!1,error:h}}finally{n(!1)}},i=()=>{n(!0),localStorage.clear(),a(void 0),n(!1)};return e.jsx(hs.Provider,{value:{user:s,loading:o,login:l,register:c,logout:i},children:t})},wr=le("relative w-full rounded-lg border border-slate-200 p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-slate-950 dark:border-slate-800 dark:[&>svg]:text-slate-50",{variants:{variant:{default:"bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 bg-red-50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900",success:"border-green-500/50 text-green-500 dark:border-green-500 dark:text-green-500 bg-green-50 dark:bg-green-900 dark:text-green-50"}},defaultVariants:{variant:"default"}}),je=r.forwardRef(({className:t,variant:s,...a},o)=>e.jsx("div",{ref:o,role:"alert",className:u(wr({variant:s}),t),...a}));je.displayName="Alert";const vr=r.forwardRef(({className:t,...s},a)=>e.jsx("h5",{ref:a,className:u("mb-1 font-medium leading-none tracking-tight",t),...s}));vr.displayName="AlertTitle";const Sr=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:u("text-sm [&_p]:leading-relaxed",t),...s}));Sr.displayName="AlertDescription";const kr=De({firstName:U(),lastName:U(),email:U().email(),schoolID:U(),userType:U({required_error:"Please select a user type"}),username:U().min(3,{message:"Username must be at least 3 characters long"}),password:U().min(8,{message:"Password must be at least 8 characters long"}),confirmPassword:U()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),Cr=()=>{const{register:t}=K(),[s,a]=r.useState(!1),[o,n]=r.useState(),l=Ae({resolver:$e(kr),defaultValues:{firstName:"",lastName:"",email:"",schoolID:"",userType:"",username:"",password:"",confirmPassword:""}}),c=async i=>{a(!0);const m=Number(i.schoolID.replace(/-/g,"")),{success:b,error:p}=await t(i.firstName,i.lastName,i.email,m,i.userType,i.username,i.password);b?(n({text:"Account created successfully",isError:!1}),l.reset()):n({text:"Something went wrong.",isError:!0}),a(!1)};return e.jsx(Pe,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(c),className:" space-y-5",children:[e.jsxs("span",{className:" flex space-x-2",children:[e.jsx(O,{control:l.control,name:"firstName",render:({field:i})=>e.jsxs(P,{className:" flex-grow",children:[e.jsx(F,{children:e.jsx(D,{...i,placeholder:"Firstname",type:"text",autoComplete:"yes"})}),l.formState.errors.firstName&&e.jsx(V,{children:l.formState.errors.firstName.message})]})}),e.jsx(O,{control:l.control,name:"lastName",render:({field:i})=>e.jsxs(P,{className:" flex-grow",children:[e.jsx(F,{children:e.jsx(D,{...i,placeholder:"Lastname",type:"text",autoComplete:"yes"})}),l.formState.errors.lastName&&e.jsx(V,{children:l.formState.errors.lastName.message})]})})]}),e.jsx(O,{control:l.control,name:"email",render:({field:i})=>e.jsxs(P,{children:[e.jsx(F,{children:e.jsx(D,{...i,placeholder:"Email",type:"email",autoComplete:"yes"})}),l.formState.errors.email&&e.jsx(V,{children:l.formState.errors.email.message})]})}),e.jsx(O,{control:l.control,name:"schoolID",render:({field:i})=>e.jsxs(P,{children:[e.jsx(F,{children:e.jsx(D,{...i,placeholder:"ID number (example format: 12-3456-789)",autoComplete:"yes"})}),l.formState.errors.schoolID&&e.jsx(V,{children:l.formState.errors.schoolID.message})]})}),e.jsx(O,{control:l.control,name:"userType",render:({field:i})=>e.jsxs(P,{children:[e.jsx(F,{children:e.jsxs(fr,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(ds,{className:" text-slate-500",children:e.jsx(gr,{placeholder:"Please select a user type"})}),e.jsxs(xs,{children:[e.jsx(Ve,{value:"Counselor",children:"Counselor"}),e.jsx(Ve,{value:"Teacher",children:"Teacher"})]})]})}),l.formState.errors.userType&&e.jsx(V,{children:l.formState.errors.userType.message})]})}),e.jsx(O,{control:l.control,name:"username",render:({field:i})=>e.jsxs(P,{children:[e.jsx(F,{children:e.jsx(D,{...i,placeholder:"Username",type:"text",autoComplete:""})}),l.formState.errors.username&&e.jsx(V,{children:l.formState.errors.username.message})]})}),e.jsx(O,{control:l.control,name:"password",render:({field:i})=>e.jsxs(P,{children:[e.jsx(F,{children:e.jsx(D,{...i,placeholder:"Password",type:"password",autoComplete:""})}),l.formState.errors.password&&e.jsx(V,{children:l.formState.errors.password.message})]})}),e.jsx(O,{control:l.control,name:"confirmPassword",render:({field:i})=>e.jsxs(P,{children:[e.jsx(F,{children:e.jsx(D,{...i,placeholder:"Confirm Password",type:"password",autoComplete:""})}),l.formState.errors.confirmPassword&&e.jsx(V,{children:l.formState.errors.confirmPassword.message})]})}),o&&e.jsx(je,{variant:`${o.isError?"destructive":"success"}`,className:" text-xs",children:o.text}),e.jsx(y,{type:"submit",className:" w-full",disabled:s,children:s?"Creating account...":"Register"})]})})},$r=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-center mb-5 ",children:e.jsxs(_,{className:" w-[500px] bg-opacity-95",children:[e.jsx(se,{children:e.jsx(te,{className:" text-primary-500 ",children:"Create an account"})}),e.jsx(H,{children:e.jsx(Cr,{})}),e.jsx(Ie,{className:"flex justify-center",children:e.jsxs(Qe,{className:" text-sm text-gray-300",children:["Already have an account?"," ",e.jsx(B,{to:"/login",className:" text-primary-500 hover:underline",children:"Login"})]})})]})})}),Ar=()=>{const[t,s]=r.useState(0),[a,o]=r.useState(0),[n,l]=r.useState(0),[c,i]=r.useState(0),m=async()=>{const x={headers:{Authorization:`${localStorage.getItem("token")}`}};await v.get(Z+"/getAllUser",x).then(g=>{s(g.data.length)})},b=async()=>{const x={headers:{Authorization:`${localStorage.getItem("token")}`}};await v.get("/myPosts",x).then(g=>{o(g.data.length)})},p=async()=>{const x={headers:{Authorization:`${localStorage.getItem("token")}`}};await v.get("/myappointments",x).then(g=>{l(g.data.length)})},d=async()=>{const x={headers:{Authorization:`${localStorage.getItem("token")}`}};let g=0,N=0;await v.get("/users",x).then(h=>{g=h.data.length,h.data.forEach(C=>{C.userType==="Counselor"&&N++});const w=N/g*100;i(w)})};return r.useEffect(()=>{m(),b(),p(),d()},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:" flex flex-wrap container w-full gap-3",children:[e.jsx(_,{className:" md:w-72 rounded-md hover:shadow-lg cursor-pointer w-full",children:e.jsxs(H,{className:"p-4",children:[e.jsx(ra,{className:" h-10 w-10 p-2 bg-primary-200 text-primary-600 rounded-full"}),e.jsxs("div",{className:" text-right",children:[e.jsx("h1",{className:" text-5xl font-bold text-primary-500",children:t}),e.jsx("p",{className:" text-slate-300 text-sm",children:"students registered to Welltalk"})]})]})}),e.jsx(_,{className:" lg:w-72 rounded-md hover:shadow-lg cursor-pointer w-full",children:e.jsxs(H,{className:"p-4 flex justify-between my-auto h-full items-center",children:[e.jsx(oa,{className:" h-12 w-12 p-2 bg-red-200 text-red-400 rounded-full"}),e.jsxs("span",{className:" text-right",children:[e.jsx("h1",{className:" text-6xl font-bold text-red-400",children:a}),e.jsx("p",{className:"  text-slate-300 text-sm",children:" active post"})]})]})}),e.jsx(_,{className:" md:w-72 rounded-md hover:shadow-lg cursor-pointer w-full",children:e.jsxs(H,{className:"p-4",children:[e.jsx(na,{className:" h-10 w-10 p-2 bg-orange-200 text-orange-600 rounded-full"}),e.jsxs("div",{className:" text-right",children:[e.jsx("h1",{className:" text-5xl font-bold text-orange-500",children:n}),e.jsx("p",{className:" text-slate-300 text-sm",children:" appointments"})]})]})}),e.jsx(_,{className:" lg:w-72 rounded-md hover:shadow-lg cursor-pointer w-full",children:e.jsxs(H,{className:"p-4 flex justify-between my-auto h-full items-center",children:[e.jsx(la,{className:" h-12 w-12 p-2 bg-violet-200 text-violet-400 rounded-full"}),e.jsxs("span",{className:" text-right",children:[e.jsxs("h1",{className:" text-6xl font-bold text-violet-400",children:["%",c.toFixed(0)]}),e.jsx("p",{className:"  text-slate-300 text-sm",children:"of users are Counselors"})]})]})})]})})},Dr=()=>{const[t,s]=r.useState([]);return r.useEffect(()=>{(async()=>{const o={headers:{Authorization:`${localStorage.getItem("token")}`}},n=await xt.get(Z+"/getAllUser",o);s(n.data),console.log(n.data)})()},[]),{students:t,setStudents:s}},ps=r.forwardRef(({className:t,...s},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:u("w-full caption-bottom text-sm",t),...s})}));ps.displayName="Table";const fs=r.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,className:u("[&_tr]:border-b",t),...s}));fs.displayName="TableHeader";const gs=r.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,className:u("[&_tr:last-child]:border-0",t),...s}));gs.displayName="TableBody";const Rr=r.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,className:u("border-t bg-slate-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-slate-800/50",t),...s}));Rr.displayName="TableFooter";const ge=r.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,className:u("border-b transition-colors hover:bg-slate-100/50 data-[state=selected]:bg-slate-100 dark:hover:bg-slate-800/50 dark:data-[state=selected]:bg-slate-800",t),...s}));ge.displayName="TableRow";const js=r.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,className:u("h-12 px-4 text-left align-middle font-medium text-slate-500 [&:has([role=checkbox])]:pr-0 dark:text-slate-400",t),...s}));js.displayName="TableHead";const Be=r.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,className:u("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));Be.displayName="TableCell";const Tr=r.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,className:u("mt-4 text-sm text-slate-500 dark:text-slate-400",t),...s}));Tr.displayName="TableCaption";const Ye=Xs,Xe=Zs,bs=ea,Ir=r.forwardRef(({className:t,inset:s,children:a,...o},n)=>e.jsxs(Et,{ref:n,className:u("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-slate-100 data-[state=open]:bg-slate-100 dark:focus:bg-slate-800 dark:data-[state=open]:bg-slate-800",s&&"pl-8",t),...o,children:[a,e.jsx(Ia,{className:"ml-auto h-4 w-4"})]}));Ir.displayName=Et.displayName;const Pr=r.forwardRef(({className:t,...s},a)=>e.jsx(Lt,{ref:a,className:u("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...s}));Pr.displayName=Lt.displayName;const Ee=r.forwardRef(({className:t,sideOffset:s=4,...a},o)=>e.jsx(Ys,{children:e.jsx(Ot,{ref:o,sideOffset:s,className:u("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...a})}));Ee.displayName=Ot.displayName;const ue=r.forwardRef(({className:t,inset:s,...a},o)=>e.jsx(zt,{ref:o,className:u("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",s&&"pl-8",t),...a}));ue.displayName=zt.displayName;const ys=r.forwardRef(({className:t,children:s,checked:a,...o},n)=>e.jsxs(Mt,{ref:n,className:u("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),checked:a,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ut,{children:e.jsx(Xt,{className:"h-4 w-4"})})}),s]}));ys.displayName=Mt.displayName;const Fr=r.forwardRef(({className:t,children:s,...a},o)=>e.jsxs(Vt,{ref:o,className:u("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ut,{children:e.jsx(Pa,{className:"h-2 w-2 fill-current"})})}),s]}));Fr.displayName=Vt.displayName;const Ze=r.forwardRef(({className:t,inset:s,...a},o)=>e.jsx(Bt,{ref:o,className:u("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));Ze.displayName=Bt.displayName;const et=r.forwardRef(({className:t,...s},a)=>e.jsx(_t,{ref:a,className:u("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",t),...s}));et.displayName=_t.displayName;function Er({columns:t,data:s}){var b,p;const[a,o]=r.useState([]),[n,l]=r.useState([]),[c,i]=r.useState({}),m=Ua({data:s,columns:t,onSortingChange:o,getCoreRowModel:Va(),getPaginationRowModel:Ba(),getSortedRowModel:_a(),onColumnFiltersChange:l,getFilteredRowModel:Ha(),onColumnVisibilityChange:i,state:{sorting:a,columnFilters:n,columnVisibility:c}});return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center py-4 ",children:[e.jsx(D,{placeholder:"Filter emails...",value:(b=m.getColumn("email"))==null?void 0:b.getFilterValue(),onChange:d=>{var x;return(x=m.getColumn("email"))==null?void 0:x.setFilterValue(d.target.value)},className:"max-w-sm"}),e.jsxs(Ye,{children:[e.jsx(Xe,{asChild:!0,children:e.jsx(y,{variant:"outline",className:"ml-auto",children:"Columns"})}),e.jsx(Ee,{align:"end",children:m.getAllColumns().filter(d=>d.getCanHide()).map(d=>e.jsx(ys,{className:"capitalize",checked:d.getIsVisible(),onCheckedChange:x=>d.toggleVisibility(!!x),children:d.id},d.id))})]})]}),e.jsx("div",{className:"rounded-md border bg-white",children:e.jsxs(ps,{children:[e.jsx(fs,{children:m.getHeaderGroups().map(d=>e.jsx(ge,{children:d.headers.map(x=>e.jsx(js,{children:x.isPlaceholder?null:it(x.column.columnDef.header,x.getContext())},x.id))},d.id))}),e.jsx(gs,{children:(p=m.getRowModel().rows)!=null&&p.length?m.getRowModel().rows.map(d=>e.jsx(ge,{"data-state":d.getIsSelected()&&"selected",children:d.getVisibleCells().map(x=>e.jsx(Be,{children:it(x.column.columnDef.cell,x.getContext())},x.id))},d.id)):e.jsx(ge,{children:e.jsx(Be,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})})]})}const Lr=[{accessorKey:"firstName",header:({column:t})=>e.jsxs(y,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Firstname",e.jsx(Oe,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"lastName",header:({column:t})=>e.jsxs(y,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Lastname",e.jsx(Oe,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"email",header:({column:t})=>e.jsxs(y,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),children:["Email",e.jsx(Oe,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"course",header:"Course"},{accessorKey:"studentID",header:"Student ID"},{accessorKey:"chat",header:"Chat"}],Or=()=>{const{students:t}=Dr();return e.jsx("div",{className:"container mx-auto py-10",children:e.jsx(Er,{columns:Lr,data:t})})},zr=()=>{const[t,s]=r.useState(!1),a=Je();K();const o=localStorage.getItem("token"),n=localStorage.getItem("userType")==="Counselor";return o&&setTimeout(()=>{a(n?"/home":"/student-referral")},1e3),r.useEffect(()=>{(()=>{s(!0)})()},[]),e.jsx("div",{className:"flex flex-col h-screen w-full top-0 left-0 bg-gray-900 bg-opacity-70 justify-center items-center absolute",children:o?e.jsxs("p",{className:" text-white",children:["You are already logged in. Redirecting to ",e.jsx("span",{className:" text-primary-500",children:n?"Home":"Student Referral"}),"..."]}):e.jsx("p",{className:" text-white",children:"Please wait while getting user info..."})})},Mr=De({username:U().min(1,{message:"Username is required"}),password:U().min(1,{message:"Password is required"})}),Ur=()=>{const[t,s]=r.useState(!1),[a,o]=r.useState(!1),{login:n}=K(),l=Je(),c=Ae({resolver:$e(Mr),defaultValues:{username:"",password:""}}),i=async m=>{o(!0);try{const{success:b,userType:p,error:d}=await n(m.username,m.password);if(b){ne({variant:"success",title:"Success",description:"Login success. Redirecting...",duration:1500});const x=setTimeout(()=>{l(p==="Counselor"?"/home":"/student-referral")},2e3);return c.reset(),()=>clearTimeout(x)}else d.message==="Network Error"?(s(!0),ne({variant:"destructive",title:"Error",description:"No connection to the server",duration:2e3})):(s(!0),ne({variant:"destructive",title:"Login failed",description:"Invalid username or password. Please try again.",duration:2e3}))}catch(b){console.log(b)}finally{o(!1)}};return e.jsx(e.Fragment,{children:e.jsx(Pe,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(i),className:" space-y-5 ",children:[e.jsx(O,{control:c.control,name:"username",render:({field:m})=>e.jsx(P,{children:e.jsx(F,{children:e.jsx(D,{...m,autoComplete:"on",placeholder:"Username",disabled:a})})})}),e.jsx(O,{control:c.control,name:"password",render:({field:m})=>e.jsx(P,{children:e.jsx(F,{children:e.jsx(D,{type:"password",...m,autoComplete:"off",placeholder:"Password",disabled:a})})})}),e.jsx(y,{type:"submit",className:" w-full",disabled:a||!c.formState.isValid,children:a?"Logging in...":"Log in"})]})})})},Vr=()=>{const{loading:t}=Te();return e.jsxs("div",{className:" h-full flex",children:[e.jsxs(_,{className:" sm:w-[420px] mx-auto my-auto bg-opacity-95",children:[e.jsx(se,{children:e.jsx(te,{className:" text-primary-500",children:"Log in"})}),e.jsxs(H,{children:[e.jsx(Ur,{}),e.jsx(y,{asChild:!0,variant:"link",size:"sm",className:" w-full flex justify-end",children:e.jsx(B,{to:"/forgot-password",className:" text-xs",children:"Forgot password?"})})]}),e.jsx(Ie,{className:"flex justify-center",children:e.jsxs("div",{className:" text-sm space-x-1",children:[e.jsx("span",{className:" text-gray-300",children:" Don't have an account?"}),e.jsx(B,{to:"/register",className:" text-primary-500 hover:underline hover:underline-offset-2 font-semibold",children:"Create an account"})]})})]}),e.jsx(ns,{}),t&&e.jsx(zr,{})]})},Br="/assets/formbg-686d3ed1.png",_r={backgroundImage:`url(${Br})`,backgroundSize:" 50%",backgroundPosition:"right",backgroundRepeat:"no-repeat"},Hr={backgroundImage:`url(${ls})`,backgroundSize:" 100%",backgroundRepeat:"no-repeat"},qr="users",Jr=()=>{const t={borderBottom:"2px solid #769EAB",background:"transparent",outline:"none",width:"100%",padding:"2px 2px",marginBottom:"16px"},[s,a]=r.useState({firstName:"",lastName:"",email:"",schoolID:"",userType:"",username:"",password:"",confirmPassword:""}),[o,n]=r.useState(!1),[l,c]=r.useState(""),i=p=>{a({...s,[p.target.name]:p.target.value}),c(p.target.value)},m=async p=>{if(p.preventDefault(),s.email!==""&&!s.email.includes("@cit.edu")){alert("Please use your institutional email");return}try{const d=await v.get(qr+`/${s.email}`);console.log("Email exists in the database."),console.log(d.data),n(!0)}catch{alert("Something went wrong. Please try again.")}},b=async p=>{p.preventDefault()};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col h-screen w-full bg-gray-100 justify-center items-center absolute",style:Hr,children:e.jsxs("div",{className:" w-[720px] rounded-2xl bg-white shadow-md h-auto flex justify-between",style:_r,children:[e.jsxs("form",{className:"py-6 px-10 left-0 w-[360px] flex flex-col",onSubmit:o?b:m,children:[e.jsx("h1",{className:"text-center font-medium text-primary text-2xl mb-3",children:o?"Enter OTP":"Please verify your email"}),o&&e.jsx("input",{name:"otp",type:"text",style:t,onChange:i,placeholder:"Please check your email for OTP",autoComplete:"off",required:!0}),!o&&e.jsx("input",{name:"email",type:"email",style:t,onChange:i,placeholder:"Institutional Email",autoComplete:"off",required:!0}),o&&e.jsx("button",{type:"submit",className:"bg-primary rounded-full h-10 text-white hover:shadow-sm hover:shadow-primary mt-2",children:"Verify OTP"}),!o&&e.jsx("button",{type:"submit",className:" bg-primary rounded-full h-10 text-white hover:shadow-sm hover:shadow-primary mt-2",children:"Check Email"}),e.jsxs("p",{className:"text-secondary text-xs my-2",children:["Already have an account?"," ",e.jsx(B,{to:"/login",className:"font-bold text-primary cursor-pointer",children:"Login"})]})]}),e.jsx("div",{className:"flex relative justify-end px-6 py-5",children:e.jsx(B,{to:"/",children:e.jsx(ia,{className:"top-0 right-0 text-secondary hover:text-primary cursor-pointer"})})})]})})})},Wr=()=>{const t={borderBottom:"2px solid #769EAB",background:"transparent",outline:"none",width:"100%",padding:"2px 2px",marginBottom:"16px"},[s,a]=r.useState({}),[o,n]=r.useState(""),[l,c]=r.useState(!1),[i,m]=r.useState(!1),[b,p]=r.useState([]),[d,x]=r.useState(0),g=b.filter(S=>S.isAccepted),N=b.filter(S=>!S.isAccepted),[h,w]=r.useState(!1),{useFetchStudents:C,handleQueryChange:j,handleStudentInput:k,value:$,setQuery:A,setValue:T,studentID:z,query:f,setStudentId:E,setResults:M,results:q,showResultsDropdown:R,setShowResultsDropdown:ie,handleClear:Rs}=es(),{students:st}=C(),Ts=r.useRef(null),Is=S=>{const I=S.target.value;n(I),console.log(I),c(I==="Other")},Ps=S=>{const I=S.target.value;n(I),console.log(I)};r.useEffect(()=>{(async()=>{try{const I={headers:{Authorization:`${localStorage.getItem("token")}`}},at=localStorage.getItem("user"),he=await v.get(`/users/username/${at}`,I);console.log(he.data),a(he.data)}catch(I){console.log(I)}})()},[]);const Fs=async S=>{S.preventDefault(),w(!0);try{const I=await v.post("/referrals?teacher="+s.id,{reason:o,studentID:z});console.log(I.data),G.success("Referral submitted successfully.",{style:{color:"green"}}),T(""),A(""),M([]),n(""),c(!1),x(Math.random())}catch(I){console.log(I)}finally{w(!1)}},Es=S=>{j(S,st,M,ie,T,A)},Ls=()=>{m(!0)},Os=()=>{m(!1)};return r.useEffect(()=>{(async()=>{try{const I={headers:{Authorization:`${localStorage.getItem("token")}`}},he=(await v.get("/referrals",I)).data.filter(zs=>zs.teacher.id===s.id);p(he)}catch(I){console.log(I)}})()},[s.id,d]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsxs("div",{className:" px-4 flex justify-between",children:[e.jsxs("h1",{children:["Good day! ","",e.jsxs("b",{children:[s?s.firstName:""," ",s?s.lastName:""]})]}),e.jsx("button",{onClick:Ls,className:" rounded-full bg-tertiary text-white p-2 text-xs hover:bg-opacity-90",children:"Check status of referrals"})]}),i&&e.jsx("div",{className:" overflow-y-auto fixed z-50 h-screen w-full bg-gray-900 bg-opacity-70 top-0 right-0 flex items-center justify-center",children:e.jsxs("div",{className:" bg-white w-96 h-[500px] overflow-y-auto rounded-lg flex flex-col",children:[e.jsxs("span",{className:" flex justify-between w-full py-2",children:[e.jsx("h1",{children:""}),e.jsx(ca,{className:" cursor-pointer mr-3 mt-3 hover:text-primary",onClick:Os})]}),e.jsx("span",{className:" px-2 flex justify-center w-full sticky mb-4",children:e.jsx("b",{children:"Referral Status"})}),e.jsxs("span",{className:" w-full px-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm mb-2 font-semibold",children:"Accepted Referrals"}),e.jsx("ul",{children:g.map(S=>e.jsxs("li",{className:" bg-tertiary rounded-md py-3 text-white px-2 text-sm mb-2 shadow",children:[e.jsxs("h1",{children:["Student ID: ",e.jsx("strong",{children:S.studentID})]}),e.jsxs("div",{className:" flex justify-between ",children:[e.jsxs("p",{className:" text-xs text-gray-400",children:["Counselor:"," ",S.counselor?e.jsxs("span",{className:" text-white",children:[S.counselor.firstName," ",S.counselor.lastName]}):""]}),e.jsx("p",{children:S.isAccepted?e.jsx("span",{className:" text-green-500",children:"Accepted"}):e.jsx("span",{className:" text-red-500",children:"Pending"})})]}),e.jsxs("p",{className:" text-xs text-gray-400",children:["Reason: ",e.jsx("span",{className:" text-white",children:S.reason})]})]},S.id))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:" text-sm mb-2 font-semibold",children:"Pending Referrals"}),e.jsx("ul",{children:N.map(S=>e.jsxs("li",{className:" bg-tertiary rounded-md py-3 text-white px-2 text-sm mb-2 shadow",children:[e.jsxs("h1",{children:["Student ID: ",e.jsxs("strong",{children:[S.studentID," "]})]}),e.jsxs("div",{className:" flex justify-between",children:[e.jsxs("p",{className:" text-xs text-gray-400",children:["Reason: ",e.jsx("span",{className:" text-white",children:S.reason})]}),e.jsx("p",{children:S.isAccepted?e.jsx("span",{className:" text-green-500",children:"Accepted"}):e.jsx("span",{className:" text-red-500",children:"Pending"})})]})]},S.id))})]})]})]})}),e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx("h1",{className:"font-semibold text-2xl",children:"REFER SOMEONE NOW"}),e.jsxs("form",{className:"py-6 left-0 w-[300px] flex flex-col",onSubmit:Fs,children:[e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("input",{ref:Ts,type:"text",placeholder:"Input student name or ID number",style:t,onChange:Es,value:$,required:!0}),e.jsx("button",{className:"text-xs text-white mb-4 cursor-pointer bg-secondary rounded-md p-1",onClick:Rs,children:"clear"})]}),e.jsx("div",{children:R&&f&&e.jsx("ul",{className:"max-h-60 overflow-y-auto absolute w-full max-w-[300px] bg-white border border-gray-300 rounded-b-md",children:q.map(S=>e.jsxs("li",{className:" w-full  p-1 cursor-pointer bg-white hover:bg-primary-100  hover:shadow-lg transition",onClick:()=>k(S.firstName+" "+S.lastName,st,E,T,M,A),children:[e.jsxs("p",{className:"text-sm ",children:[S.firstName," ",S.lastName]}),e.jsxs("p",{className:"text-xs text-gray-300",children:["Student ID: ",S.studentID]})]},S.userid))})}),e.jsxs("select",{name:"userType",required:!0,className:"mb-3 text-gray-400 outline-none text-sm border-2 border-secondary rounded-md p-2",defaultValue:"label",onChange:Is,children:[e.jsx("option",{disabled:!0,value:"label",hidden:!0,children:"Reason/s for referrals"}),e.jsx("option",{value:"Always absent in class.",children:"Always absent in class."}),e.jsx("option",{value:"Mention of suicidal ideation and intent.",children:"Mention of suicidal ideation and intent."}),e.jsx("option",{value:"Threats of harm to self or others.",children:"Threats of harm to self or others."}),e.jsx("option",{value:"Other",children:"Others, please specify"})]}),l&&e.jsx("input",{type:"text",placeholder:"If other/s",style:t,onChange:Ps}),e.jsx(y,{disabled:h,type:"submit",children:h?"Submitting...":"Submit"})]})]})]})})};function ae({className:t,...s}){return e.jsx("div",{className:u("animate-pulse rounded-md bg-slate-100 dark:bg-slate-800",t),...s})}const Kr=()=>e.jsxs(_,{className:" mx-auto mb-3 md:w-[700px] h-[450px]",children:[e.jsx(se,{children:e.jsxs("div",{className:" flex items-center space-x-2",children:[e.jsx(ae,{className:"rounded-full h-10 w-10"}),e.jsxs("div",{className:" flex flex-col space-y-1",children:[e.jsx(ae,{className:" w-52 h-3"}),e.jsx(ae,{className:" w-44 h-2"})]})]})}),e.jsxs(H,{className:" space-y-2",children:[e.jsx(ae,{className:" md:w-full h-4"}),e.jsx(ae,{className:" md:w-96 h-3"}),e.jsx(ae,{className:" md:w-80 h-3"})]})]}),Le=({name:t,className:s})=>{const[a,o]=r.useState("");return r.useEffect(()=>{const n={"red-400":"bg-red-400","blue-400":"bg-blue-400","green-400":"bg-green-400","yellow-400":"bg-yellow-400","indigo-400":"bg-indigo-400","pink-400":"bg-pink-400","purple-400":"bg-purple-400","gray-400":"bg-gray-400"},l=Object.keys(n),c=l[Math.floor(Math.random()*l.length)];o(n[c])},[]),e.jsx("div",{className:u`${a} rounded-full h-12 w-12 flex justify-center items-center shrink-0 text-white ${s}`,children:t})},_e=qt,mt=Jt,Gr=Ht,Qr=He,Ns=r.forwardRef(({className:t,...s},a)=>e.jsx(ve,{ref:a,className:u("fixed inset-0 z-50 bg-white/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 dark:bg-slate-950/80",t),...s}));Ns.displayName=ve.displayName;const be=r.forwardRef(({className:t,children:s,...a},o)=>e.jsxs(Gr,{children:[e.jsx(Ns,{}),e.jsxs(Se,{ref:o,className:u("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full dark:border-slate-800 dark:bg-slate-950",t),...a,children:[s,e.jsxs(He,{className:"absolute right-4 top-4 rounded-full p-2 opacity-70 ring-offset-white transition-opacity hover:bg-slate-100 hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-400",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));be.displayName=Se.displayName;const ye=({className:t,...s})=>e.jsx("div",{className:u("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});ye.displayName="DialogHeader";const ws=({className:t,...s})=>e.jsx("div",{className:u("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});ws.displayName="DialogFooter";const Ne=r.forwardRef(({className:t,...s},a)=>e.jsx(ke,{ref:a,className:u("text-lg font-semibold leading-none tracking-tight",t),...s}));Ne.displayName=ke.displayName;const vs=r.forwardRef(({className:t,...s},a)=>e.jsx(Ce,{ref:a,className:u("text-sm text-slate-500 dark:text-slate-400",t),...s}));vs.displayName=Ce.displayName;const xe=r.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:u("flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-300 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",t),ref:a,...s}));xe.displayName="Textarea";const Yr=De({title:U(),content:U(),photoData:Ma()}),Xr=()=>{const t=K(),s=t?t.user&&t.user.firstName.charAt(0)+t.user.lastName.charAt(0):null,[a,o]=r.useState(null),[n,l]=r.useState(null),[c,i]=r.useState(null),[m,b]=r.useState(!1),p=Ae({resolver:$e(Yr),defaultValues:{title:"",content:"",photoData:""}}),d=g=>{var h;l(null);const N=(h=g.target.files)==null?void 0:h[0];if(N){i(N);const w=new FileReader;w.onloadend=()=>{o(w.result)},N.type.match("image.*")?w.readAsDataURL(N):l("File type not supported")}else i(null)},x=async g=>{const N=new FormData;N.append("title",g.title),N.append("content",g.content),c&&N.append("photoData",c),console.log(N);const h={title:g.title,content:g.content},w={headers:{Authorization:`${localStorage.getItem("token")}`}};try{g.photoData[0]?(console.log("with photo"),await v.post("/posts/photo",N,w),b(!1),G.success("Post created successfully.",{style:{color:"green"}})):(console.log("without photo"),await v.post("/posts",h,w),b(!1),G.success("Post created successfully.",{style:{color:"green"}})),p.reset()}catch(C){console.log(C)}};return e.jsx("section",{children:e.jsx(_,{className:" md:w-[700px] mx-auto mb-3",children:e.jsxs(H,{className:" flex flex-row items-center px-3 py-5 gap-2",children:[e.jsx(Le,{name:s}),e.jsxs(_e,{open:m,onOpenChange:b,children:[e.jsx(mt,{className:" w-full rounded-md",children:e.jsx(D,{placeholder:"Post something...",className:" cursor-pointer hover:bg-gray-100 bg-gray-50"})}),e.jsx(mt,{asChild:!0,children:e.jsx(y,{variant:"ghost",size:"icon",className:" shrink-0",children:e.jsx(Fa,{className:"h-6 w-6 text-gray-400"})})}),e.jsxs(be,{children:[e.jsx(ye,{children:e.jsx(Ne,{className:" text-primary-600 text-2xl",children:"Create post"})}),e.jsx(Pe,{...p,children:e.jsxs("form",{className:"space-y-3 max-h-[600px]",onSubmit:p.handleSubmit(x),children:[e.jsx(O,{control:p.control,name:"title",render:({field:g})=>e.jsxs(P,{children:[e.jsx(F,{children:e.jsx(D,{...g,placeholder:"Title",type:"text",disabled:p.formState.isSubmitting})}),e.jsx(V,{})]})}),e.jsx(O,{control:p.control,name:"content",render:({field:g})=>e.jsxs(P,{children:[e.jsx(F,{children:e.jsx(xe,{...g,placeholder:"Content",className:" resize-none",disabled:p.formState.isSubmitting})}),e.jsx(V,{})]})}),e.jsx(O,{control:p.control,name:"photoData",render:({field:g})=>e.jsxs(P,{children:[e.jsx(F,{children:e.jsx(D,{...g,placeholder:"Photo",type:"file",onChange:N=>{g.onChange(N),d(N)},disabled:p.formState.isSubmitting})}),n&&e.jsx(V,{children:n})]})}),a&&!n&&e.jsx("span",{className:"border-2 w-full h-80 flex items-center",children:e.jsx("img",{src:a,className:"rounded-md p-2 mx-auto h-80",alt:"preview"})}),e.jsx(y,{type:"submit",className:" w-full",disabled:p.formState.isSubmitting,children:"Post"})]})})]})]})]})})})},Zr=({children:t})=>{const s=c=>{const i=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/gm;return c.match(i)},a=c=>s(c)?`<a href="${c}" class="linkify-link">${c}</a>`:c,l=t.split(" ").map((c,i)=>a(c)).join(" ");return e.jsx("span",{dangerouslySetInnerHTML:{__html:l}})},eo=({post:t})=>{const[s,a]=r.useState(!1),[o,n]=r.useState(!1),[l,c]=r.useState(!1),[i,m]=r.useState(t.title),[b,p]=r.useState(t.content),[d,x]=r.useState(t.photoContent),[g,N]=r.useState(null),h=()=>{C.current&&C.current.click()},w=$=>{var T;const A=(T=$.target.files)==null?void 0:T[0];if(A){N(A);const z=new FileReader;z.onloadend=()=>{x(`data:image/png;base64,${z.result}`)},z.readAsDataURL(A)}},C=r.useRef(null),j=async $=>{$.preventDefault();const A={title:i,content:b},T=new FormData;T.append("title",i),T.append("content",b),g&&T.append("photoData",g);const z={headers:{Authorization:`${localStorage.getItem("token")}`}};try{a(!0);const f=t.id;g===null?await v.put(`/posts/${f}`,A,z):await v.put(`/posts/photo/${f}`,T,z),m(i),p(b),x(d),G.success("Post updated!",{style:{color:"green"}}),n(!1)}catch(f){G.error("An error occurred while updating the post.",{style:{color:"red"}}),console.error(f)}finally{a(!1)}},k=async()=>{try{a(!0),await v.delete(`/posts/${t.id}`),G.success("Post deleted successfully.",{style:{color:"green"}}),c(!1)}catch($){console.log($),G.error("An error occurred while deleting the post.",{style:{color:"red"}})}finally{a(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs(Ye,{children:[e.jsx(Xe,{asChild:!0,children:e.jsx(y,{variant:"ghost",size:"icon",className:" rounded-full p-1 mr-2 text-slate-500 cursor-pointer",children:e.jsx(da,{className:"h-5 w-5"})})}),e.jsxs(Ee,{className:"w-56",children:[e.jsx(Ze,{children:"More options"}),e.jsx(et,{}),e.jsxs(bs,{children:[e.jsx(ue,{onClick:()=>n(!0),children:"Edit"}),e.jsx(ue,{onClick:()=>c(!0),children:"Delete"})]})]})]}),e.jsx(_e,{open:o,onOpenChange:n,children:e.jsxs(be,{children:[e.jsx(ye,{children:e.jsx(Ne,{className:" text-primary-600 md:text-2xl",children:"Edit post"})}),e.jsxs("form",{className:" space-y-3",onSubmit:j,children:[e.jsx(D,{placeholder:"Title",value:i,onChange:$=>m($.target.value),disabled:s}),e.jsx(xe,{className:`overflow-auto resize-none ${t.photoContent?" h-24 ":" h-32"}`,placeholder:"Content",value:b,onChange:$=>p($.target.value),disabled:s}),e.jsxs("div",{className:"w-full border cursor-pointer",children:[d&&e.jsx("img",{src:g?URL.createObjectURL(g):`data:image/png;base64,${d}`,alt:"Posted image",className:"mx-auto max-h-60",loading:"lazy",onClick:h}),e.jsx(D,{type:"file",accept:"image/*",className:`${d?"hidden":"flex"}`,onChange:w,ref:C,disabled:s})]}),e.jsx(y,{className:" w-full",type:"submit",disabled:s,children:"Save changes"})]})]})}),e.jsx(_e,{open:l,onOpenChange:c,children:e.jsxs(be,{children:[e.jsx(ye,{children:e.jsx(Ne,{className:" text-primary-600 md:text-2xl",children:"Delete post"})}),e.jsx(vs,{children:"Are you sure you want to delete this post?"}),e.jsxs(ws,{children:[e.jsx(Qr,{asChild:!0,children:e.jsx(y,{variant:"secondary",disabled:s,children:"Cancel"})}),e.jsx(y,{variant:"destructive",onClick:k,disabled:s,children:"Delete"})]})]})})]})},ut=({post:t,activeButton:s})=>{const a=o=>o.counselor?o.counselor.firstName.charAt(0)+o.counselor.lastName.charAt(0):"";return e.jsx("div",{children:e.jsxs(_,{className:" mx-auto mb-3 md:w-[700px]",children:[e.jsx(se,{className:" p-1 w-full",children:e.jsxs("div",{className:" flex p-3 gap-2 items-center",children:[e.jsx(Le,{name:a(t).toUpperCase()}),e.jsxs("span",{className:" flex-1",children:[e.jsx(te,{className:" text-lg",children:t.counselor?`${t.counselor.firstName} ${t.counselor.lastName}`:""}),e.jsx(me,{className:" text-xs border-b-transparent border-b hover:border-b-inherit w-min",children:t.counselor.userType})]}),s==="my"?e.jsx(eo,{post:t}):null]})}),e.jsxs(H,{className:" space-y-2 px-0",children:[e.jsx(te,{className:" text-lg font-semibold px-5",children:t.title}),e.jsx(me,{className:"text-sm px-5",children:e.jsx(Zr,{children:t.content})}),t.photoContent&&e.jsx("img",{src:`data:image/png;base64,${t.photoContent}`,alt:"posted image",className:" w-full border-t border-b max",loading:"lazy"})]}),e.jsxs(Ie,{className:" p-0 mb-1 flex-col",children:[e.jsxs("div",{className:" w-full flex justify-between py-1 border-y mx-2 text-slate-400",children:[e.jsxs(y,{className:" flex-grow space-x-1",variant:"ghost",children:[e.jsx(ma,{className:"h-5 w-5"})," ",e.jsx("p",{children:"Like"})]}),e.jsxs(y,{className:" flex-grow space-x-1",variant:"ghost",children:[e.jsx(ua,{className:"h-4 w-4"})," ",e.jsx("p",{children:"Comment"})]})]}),e.jsxs("div",{className:" my-2 w-full flex space-x-2 px-2",children:[e.jsx(D,{className:" rounded-l-full rounded-r-full bg-gray-50 hover:bg-gray-100 cursor-pointer flex-grow",placeholder:"Comment..."}),e.jsx(y,{className:" rounded-r-full",variant:"default",children:"Comment"})]})]})]},t.id)})},to=()=>{const[t,s]=r.useState([]),[a,o]=r.useState([]),[n,l]=r.useState("all"),[c,i]=r.useState(!1);r.useState(0),r.useState(!1),r.useState(!1);const m=K(),b=async()=>{try{const d={headers:{Authorization:`${localStorage.getItem("token")}`}},g=(await v.get("/posts",d)).data.sort((N,h)=>h.id-N.id);s(g)}catch(d){console.error(d)}},p=async()=>{try{const d={headers:{Authorization:`${localStorage.getItem("token")}`}},g=(await v.get("/myPosts",d)).data.sort((N,h)=>h.id-N.id);o(g)}catch(d){console.error(d)}};return r.useEffect(()=>{(async()=>{try{i(!0),await Promise.all([b(),p()])}catch(x){console.error(x)}finally{i(!1)}})()},[]),m&&m.user&&m.user.firstName.charAt(0)+m.user.lastName.charAt(0),e.jsxs("div",{className:" container mx-auto",children:[e.jsx(Xr,{}),e.jsx(_,{className:" md:w-[700px] mx-auto mb-3",children:e.jsxs(H,{className:" flex flex-row items-center py-3 px-3 gap-3",children:[e.jsxs(y,{property:"active",onClick:()=>l("all"),variant:"ghost",size:"icon",className:`rounded-full h-8 w-auto flex flex-row gap-1 px-2 hover:text-primary-500  ${n==="all"?"text-primary-500 hover:text-primary-500 bg-primary-100":"text-gray-400"}`,children:[e.jsx(xa,{className:"h-5 w-5"})," All posts"]}),e.jsxs(y,{onClick:()=>l("my"),variant:"ghost",size:"icon",className:`rounded-full h-8 w-auto flex flex-row gap-1 px-2 hover:text-primary-500  ${n==="my"?"text-primary-500 hover:text-primary-500 bg-primary-100":"text-gray-400"}`,children:[e.jsx(ha,{className:"h-5 w-5"})," My posts"]})]})}),c?e.jsx(Kr,{}):e.jsxs(e.Fragment,{children:[n==="all"&&e.jsx(e.Fragment,{children:t.map(d=>e.jsx(ut,{post:d,activeButton:"all"},d.id))}),n==="my"&&e.jsx(e.Fragment,{children:a.map(d=>e.jsx(ut,{post:d,activeButton:"my"},d.id))})]})]})},we=r.forwardRef(({className:t,orientation:s="horizontal",decorative:a=!0,...o},n)=>e.jsx(Wt,{ref:n,decorative:a,orientation:s,className:u("shrink-0 bg-slate-200 dark:bg-slate-800",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...o}));we.displayName=Wt.displayName;const Ss=r.forwardRef(({className:t,...s},a)=>e.jsx(Kt,{ref:a,className:u("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));Ss.displayName=Kt.displayName;const ks=r.forwardRef(({className:t,...s},a)=>e.jsx(Gt,{ref:a,className:u("aspect-square h-full w-full",t),...s}));ks.displayName=Gt.displayName;const so=r.forwardRef(({className:t,...s},a)=>e.jsx(Qt,{ref:a,className:u("flex h-full w-full items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800",t),...s}));so.displayName=Qt.displayName;const ao=le("inline-flex items-center rounded-full border border-slate-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 dark:border-slate-800 dark:focus:ring-slate-300",{variants:{variant:{default:"border-transparent bg-slate-900 text-slate-50 hover:bg-slate-900/80 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/80",secondary:"border-transparent bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",destructive:"border-transparent bg-red-500 text-slate-50 hover:bg-red-500/80 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/80",outline:"text-slate-950 dark:text-slate-50"}},defaultVariants:{variant:"default"}});function ro({className:t,variant:s,...a}){return e.jsx("div",{className:u(ao({variant:s}),t),...a})}const oo=({date:t,mood:s,title:a,message:o,userid:n,authorFname:l,authorLname:c})=>{const i=t.split("-").map(d=>parseInt(d,10)),m=new Date(i[0],i[1]-1,i[2]),p=`${["January","February","March","April","May","June","July","August","September","October","November","December"][m.getMonth()]} ${m.getDate()}, ${m.getFullYear()}`;return e.jsx(e.Fragment,{children:e.jsx(_,{className:" max-h-48 mb-3 mr-4 py-2",children:e.jsxs(H,{className:" p-0",children:[e.jsx(se,{className:" px-4 py-2 text-sm",children:e.jsxs("div",{className:" flex items-center gap-2",children:[e.jsx(Ss,{className:" border items-center justify-center bg-slate-100",children:e.jsx(ks,{className:" w-8 h-8",src:"https://api.dicebear.com/7.x/pixel-art/svg"})}),e.jsxs("span",{children:[e.jsxs("h1",{className:" font-semibold mr-5 text-primary-500",children:[l," ",c]}),e.jsx("p",{className:" text-xs font-thin text-gray-400",children:p})]}),e.jsx(ro,{className:" text-xs h-5 ml-12",children:s})]})}),e.jsx(te,{className:" px-4 text-sm font-semibold",children:a}),e.jsx(me,{className:" px-4 py-1 text-sm",children:o})]})})})},no=()=>{const[t,s]=r.useState([]),[a,o]=r.useState(null),[n,l]=r.useState(!1),[c,i]=r.useState(!1),[m,b]=r.useState(0),[p,d]=r.useState(""),[x,g]=r.useState("");r.useState({id:0,title:"",content:"",color:""});const[N,h]=r.useState({id:0,title:"",content:"",color:""}),[w,C]=r.useState([]);r.useState([]);const j=r.useRef(null),k=async()=>{var E;const f={headers:{Authorization:`${localStorage.getItem("token")}`}};try{i(!0);const q=(await v.get("/myNotes",f)).data.sort((R,ie)=>ie.id-R.id);s(q),o(((E=q[0])==null?void 0:E.id)||null)}catch(M){console.log(M)}finally{i(!1)}};r.useEffect(()=>{k()},[m]);const $=f=>{const{name:E,value:M}=f.target;h({...N,[E]:M})},A=async()=>{const f={headers:{Authorization:`${localStorage.getItem("token")}`}};try{i(!0),await v.put(`/notes/${N.id}`,N,f),l(!1),b(m+1)}catch(E){console.log(E)}finally{i(!1)}},T=async()=>{const f={headers:{Authorization:`${localStorage.getItem("token")}`}},E={title:p,content:x};try{i(!0),await v.post("/notes",E,f),d(""),g(""),b(m+1)}catch(M){console.log(M)}finally{i(!1)}},z=async()=>{var E;const f={headers:{Authorization:`${localStorage.getItem("token")}`}};try{i(!0),await v.delete(`/notes/${a}`,f),b(m+1),(E=j.current)==null||E.click()}catch(M){console.log(M)}finally{i(!1)}};return r.useEffect(()=>{(async()=>{try{i(!0);const M=(await v.get(Z+"/getAll")).data.filter(R=>R.type==="Public"),q=await Promise.all(M.map(async R=>{const ie=await v.get(Z+`/user/${R.userid}`);return{...R,author:ie.data}}));C(q)}catch(E){console.log(E)}finally{i(!1)}})()},[]),e.jsxs("div",{className:" max-h-screen w-full flex justify-between",children:[e.jsxs("div",{className:" w-[500px] overflow-x-hidden",children:[e.jsxs("span",{className:" flex justify-between items-center mb-5 px-8",children:[e.jsx("h1",{className:"sticky top-0 font-semibold text-2xl text-primary-900",children:"My Notes"}),e.jsxs(Q,{children:[e.jsx(oe,{asChild:!0,children:e.jsx(y,{size:"icon",variant:"ghost",children:e.jsx(pa,{className:"h-6 w-6 text-primary-600"})})}),e.jsxs(J,{children:[e.jsx(Y,{children:"New Note"}),e.jsx(D,{type:"text",name:"title",className:"w-full border border-neutral-200 rounded-md p-2 mt-4",placeholder:"Title",value:p,onChange:f=>d(f.target.value)}),e.jsx(xe,{name:"content",className:"w-full border border-neutral-200 rounded-md p-2 mt-4 resize-none h-96",placeholder:"Note",value:x,onChange:f=>g(f.target.value)}),e.jsxs(W,{children:[e.jsx(X,{children:"Cancel"}),e.jsx(de,{asChild:!0,children:e.jsx(y,{onClick:T,disabled:c,children:"Save"})})]})]})]})]}),e.jsx("ul",{children:t.map(f=>e.jsxs("li",{className:`border h-20 cursor-pointer hover:shadow px-8 py-2 ${a===f.id?"bg-neutral-100":""}`,onClick:()=>{n||o(f.id)},children:[e.jsx("h1",{className:"font-medium md:text-lg",children:f.title?f.title.length>20?f.title.slice(0,20)+"...":f.title:"Untitled"}),e.jsx("p",{className:"text-slate-700 md:text-sm text-ellipsis whitespace-nowrap ",children:f.content?f.content.length>40?f.content.slice(0,40)+"...":f.content:""})]},f.id))})]}),e.jsx(we,{orientation:"vertical"}),e.jsx("div",{className:" w-full max-h-screen ",children:t.map(f=>e.jsxs("div",{className:`h-full container ${a===f.id?"":"hidden"}`,children:[e.jsxs("span",{className:" w-full flex justify-end container",children:[e.jsxs(Q,{children:[e.jsx(oe,{asChild:!0,children:e.jsx(y,{className:" text-red-500",variant:"link",children:"Delete"})}),e.jsxs(J,{children:[e.jsx(Y,{children:"Are you sure?"}),e.jsx(ee,{children:"This action cannot be undone. This note will be deleted."}),e.jsxs(W,{children:[e.jsx(X,{ref:j,children:"Cancel"}),e.jsx(y,{variant:"destructive",onClick:()=>z(),disabled:c,children:c?" Deleting...":"Delete"})]})]})]}),n?e.jsx(y,{className:" rounded-md px-5",size:"sm",onClick:A,disabled:c,children:c?" Saving...":"Save"}):e.jsx(y,{className:" rounded-md px-5",size:"sm",disabled:!0,children:"Save"})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx(D,{type:"text",name:"title",className:"w-full border border-neutral-200 rounded-md p-2 mt-4",placeholder:"Title",value:N.title,onChange:$}),e.jsx(xe,{name:"content",className:"w-full border border-neutral-200 rounded-md p-2 mt-4 resize-none h-96",placeholder:"Note",value:N.content,onChange:$}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs(Q,{children:[e.jsx(oe,{asChild:!0,children:e.jsx(y,{disabled:c,className:"rounded-md px-5 mr-2",size:"sm",variant:"destructive",children:"Cancel"})}),e.jsxs(J,{children:[e.jsx(Y,{children:"Are you sure?"}),e.jsx(ee,{children:" All your unsaved changes will be lost. "}),e.jsxs(W,{children:[e.jsx(X,{children:"Cancel"}),e.jsx(de,{asChild:!0,children:e.jsx(y,{variant:"destructive",onClick:()=>l(!1),disabled:c,children:"Ok"})})]})]})]})})]}),!n&&e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("h1",{className:"text-2xl font-semibold text-primary-900",onClick:()=>{l(!0),h({id:f.id,title:f.title,content:f.content,color:f.color})},children:f.title}),e.jsx("p",{className:"text-slate-700 mt-4 overflow-y-auto max-h-[500px]",onClick:()=>{l(!0),h({id:f.id,title:f.title,content:f.content,color:f.color})},children:f.content})]})]},f.id))}),e.jsxs("div",{className:" w-[650px] max-h-full",children:[e.jsx("h1",{className:" text-lg font-semibold text-center mb-4",children:"Student Journals"}),w.map(f=>e.jsx("div",{children:e.jsx(oo,{date:f.date,mood:f.mood,title:f.title,message:f.message,userid:f.userid,author:f.author,authorFname:f.author.firstName,authorLname:f.author.lastName})},f.journalID))]})]})},lo="/assets/accessdeniedimg-32862604.png",io=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:" h-screen w-full flex items-center justify-center",children:e.jsxs("span",{className:" pr-0 mx-10 w-auto text-center",children:[e.jsx("img",{className:" md:h-96 md:w-96",src:`${lo}`,alt:"Access denied image"}),e.jsx("h1",{className:" text-6xl font-bold",children:"403"}),e.jsx("h1",{className:" text-3xl font-bold",children:"Access Denied"}),e.jsx("p",{className:" text-xl font-bold",children:"You are not authorized to access this page."})]})})}),re=({component:t,userType:s})=>{const a=localStorage.getItem("userType"),o=localStorage.getItem("token"),n=a===s;return o&&n?e.jsx(t,{}):o&&!n?e.jsx(io,{}):e.jsx(qa,{to:"/login"})},co={backgroundImage:`url(${ls})`,backgroundSize:" 100%",backgroundRepeat:"no-repeat"},mo=()=>{const t=()=>{window.history.back()};return e.jsxs("div",{className:" w-full h-screen flex flex-col items-center justify-center",style:co,children:[e.jsx("div",{className:" absolute left-0 top-0 p-4",children:e.jsxs("button",{onClick:t,className:" flex items-center gap-1 text-xl hover:text-red-500",children:[e.jsx(fa,{})," ",e.jsx("span",{children:"Back"})]})}),e.jsx("div",{className:"w-1/3 justify-center flex shadow-md rounded-lg h-2/4 border-2 border-red-500 p-2",children:e.jsx("h1",{className:" text-2xl font-bold",children:"Emergency contact numbers"})})]})},Ue={"/":" ","/about":" ","/login":" Login","/register":" Create an Account","/home":" Home","/dashboard":" Dashboard","/students-list":"Students","/calendar":" Calendar","/my-notes":" Notes","/forgot-password":" Forgot Password","/email-verification":" Email Verification","/student-referral":" Student Referral","/emergency-link":" Emergency Contact Numbers"},tt=()=>{const[t,s]=r.useState(""),a=We();return r.useEffect(()=>{const o=a.pathname;document.title=` ${Ue[o]||"Page Not Found"}`,Ue[o]===" "&&(document.title="WellTalk"),o==="/"&&(document.title="WellTalk"),s(Ue[o]||"Page Not Found")},[a]),{currentPathName:t}},uo=()=>e.jsx("section",{className:" h-full flex items-center ",children:e.jsxs("div",{className:" md:w-[600px] space-y-8",children:[e.jsx("h1",{className:" font-bold text-3xl sm:text-5xl tracking-normal text-primary-600 font-serif",children:"Elevating Student Support and Mental Health Services at CIT-University"}),e.jsx("p",{className:"block font-sans text-base font-normal leading-relaxed antialiased text-primary-600",children:"A website app that can automate and streamline various aspects of the Guidance Center's work, including appointment scheduling, resource sharing, and data management."}),e.jsxs("div",{className:" flex items-center space-x-2",children:[e.jsx(y,{size:"lg",className:" shadow bg-gradient-to-r from-primary-500 to-primary-300 hover:to-primary-500 font-bold ",children:"Get mobile app"}),e.jsx("h1",{className:" font-semibold text-xs text-primary-700",children:"For students."})]})]})}),xo="/assets/notfound-b73d7ef6.png",ho=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:" h-screen w-full flex items-center justify-center",children:e.jsxs("span",{className:" pr-0 mx-10 w-auto text-center",children:[e.jsx("img",{className:" md:h-96 md:w-96",src:`${xo}`,alt:"Not found page image"}),e.jsx("h1",{className:" text-6xl font-bold",children:"404"}),e.jsx("h1",{className:" text-3xl font-bold",children:"Page Not Found"})]})})}),po=()=>{const t=new Date().getFullYear();return e.jsxs("footer",{className:" flex bg-gray-50 py-5 bottom-0 items-center px-6 items justify-between border-t-2",children:[e.jsxs("h1",{className:" text-slate-300 items-center",children:["© WellTalk | ",t," | Guia | Batulan | Nadela | Perez | Prahinog"]}),e.jsxs("ul",{className:" flex gap-3 items-center text-slate-400",children:[e.jsx(ga,{size:20}),e.jsx(ja,{size:20}),e.jsx(ba,{size:20})]})]})},fo="/assets/logo-91b86dfd.png",go=()=>e.jsx(e.Fragment,{children:e.jsx("header",{children:e.jsxs("div",{className:" flex items-center justify-between mx-14 py-4",children:[e.jsx("div",{className:"hidden sm:block",children:e.jsx(B,{to:"/",children:e.jsx("img",{src:fo,alt:"logo",className:" h-16 w-16"})})}),e.jsxs("div",{className:" space-x-3 md:flex-col items-center",children:[e.jsx(y,{asChild:!0,variant:"link",className:" hover:no-underline hover:text-primary-600",children:e.jsx(B,{to:"/",children:"Home"})}),e.jsx(y,{asChild:!0,variant:"link",className:" hover:no-underline hover:text-primary-600",children:e.jsx(B,{to:"#",children:"Features"})}),e.jsx(y,{asChild:!0,variant:"link",className:" hover:no-underline hover:text-primary-600",children:e.jsx(B,{to:"#",children:"About Us"})}),e.jsx(y,{variant:"outline",className:" hover:bg-primary-200 hover:bg-opacity-30",children:e.jsx(B,{to:"/login",children:"Login"})}),e.jsx(y,{variant:"default",children:e.jsx(B,{to:"/register",children:"Create account"})})]})]})})}),jo=()=>e.jsxs("div",{className:"  flex flex-col h-screen md:bg-[url('@/media/images/defaultbg.png')] bg-no-repeat bg-origin-border bg-center bg-primary-100",children:[e.jsx("div",{children:e.jsx(go,{})}),e.jsx("div",{className:"h-full container",children:e.jsx(Ke,{})}),e.jsx("div",{children:e.jsx(po,{})})]}),Cs=({isSidebarOpen:t})=>{let s=[{icon:e.jsx(va,{}),name:"Home",path:"/home"},{icon:e.jsx(Sa,{}),name:"Dashboard",path:"/dashboard"},{icon:e.jsx(ka,{}),name:"Students",path:"/students-list"},{icon:e.jsx(Ca,{}),name:"Calendar",path:"/calendar"},{icon:e.jsx($a,{}),name:"Notes",path:"/my-notes"}];const a=We(),[o,n]=r.useState(s.findIndex(d=>d.path==a.pathname)),[l,c]=r.useState(!1),{user:i}=K(),{logout:m}=K(),b=()=>{c(!0),m(),localStorage.getItem("token")===null&&window.location.reload(),c(!1)},p=i?(i==null?void 0:i.firstName.charAt(0))+(i==null?void 0:i.lastName.charAt(0)):"";return localStorage.getItem("userType")!=="Counselor"?null:e.jsxs("section",{className:"flex flex-col gap-2 bg-primary-700 px-4 py-4 h-screen w-64 animate-in",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-red-500 text-2xl font-semibold",children:e.jsx(ya,{})}),e.jsx("div",{className:"text-slate-700 text-2xl font-semibold",children:e.jsx(Na,{})})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center mb-5",children:[e.jsx(Le,{name:p,className:" h-28 w-28 bg-slate-300 text-2xl font-bold"}),e.jsx("h1",{className:"text-white text-lg font-semibold",children:i?`${i.firstName} ${i.lastName}`:"Loading..."}),e.jsx("span",{className:"text-slate-50 text-sm",children:i?i.userType:"Loading..."})]}),s.map((d,x)=>e.jsxs(B,{to:d.path,className:o==x?"text-white font-semibold text-lg cursor-pointer flex items-center gap-3 rounded-md p-3 bg-primary-500 ":"text-gray-50 cursor-pointer text-lg flex items-center gap-3 rounded-md p-3 hover:bg-primary-500",onClick:()=>{n(x)},children:[d.icon,d.name]},x)),e.jsxs(Q,{children:[e.jsxs(oe,{className:"text-gray-50 cursor-pointer text-lg flex items-center gap-3 rounded-md p-3 hover:bg-red-500",children:[e.jsx(wa,{}),"Logout"]}),e.jsxs(J,{children:[e.jsxs(Re,{children:[e.jsx(ta,{children:"Are you sure you want to logout?"}),e.jsx(ee,{children:" All your unsaved changes will be lost. "})]}),e.jsxs(W,{children:[e.jsx(X,{children:"Cancel"}),e.jsx(y,{variant:"destructive",onClick:b,children:"Logout"})]})]})]})]})},bo=qt,yo=Jt,No=Ht,$s=r.forwardRef(({className:t,...s},a)=>e.jsx(ve,{className:u("fixed inset-0 z-50 bg-white/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 dark:bg-slate-950/80",t),...s,ref:a}));$s.displayName=ve.displayName;const wo=le("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 dark:bg-slate-950",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),As=r.forwardRef(({side:t="right",className:s,children:a,...o},n)=>e.jsxs(No,{children:[e.jsx($s,{}),e.jsxs(Se,{ref:n,className:u(wo({side:t}),s),...o,children:[a,e.jsxs(He,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));As.displayName=Se.displayName;const vo=r.forwardRef(({className:t,...s},a)=>e.jsx(ke,{ref:a,className:u("text-lg font-semibold text-slate-950 dark:text-slate-50",t),...s}));vo.displayName=ke.displayName;const So=r.forwardRef(({className:t,...s},a)=>e.jsx(Ce,{ref:a,className:u("text-sm text-slate-500 dark:text-slate-400",t),...s}));So.displayName=Ce.displayName;const Ds=({currentPathName:t,showSidebar:s})=>{const{user:a,logout:o}=K(),[n,l]=r.useState(""),c=localStorage.getItem("userType")==="Counselor",i=()=>{a&&l((a==null?void 0:a.firstName.charAt(0))+(a==null?void 0:a.lastName.charAt(0)))};r.useEffect(()=>{i()},[a]);const m=()=>{window.location.reload(),o()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" flex justify-between px-6 py-2 items-center shadow sticky top-0 bg-white",children:[e.jsxs("div",{className:" flex items-center gap-2",children:[c&&e.jsxs("span",{children:[e.jsx("div",{className:"md:hidden",children:e.jsxs(bo,{children:[e.jsx(yo,{className:"text-primary-500 rounded-full hover:bg-slate-50 p-2",children:e.jsx(lt,{size:20})}),e.jsx(As,{side:"left",className:"p-0 m-0 w-72 bg-inherit border-none shadow-none md:hidden",children:e.jsx(Cs,{})})]})}),e.jsx("div",{className:"hidden md:block",children:e.jsx(y,{variant:"ghost",size:"icon",className:"text-primary-500 rounded-full hover:bg-slate-50 hover:text-primary-500",onClick:s,children:e.jsx(lt,{size:20})})})]}),e.jsx("p",{className:" text-neutral-700 sm:block hidden",children:t})]}),e.jsxs("div",{className:" flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(D,{type:"search",placeholder:"Search Welltalk",className:"md:w-[100px] lg:w-[300px] bg-inherit pr-8 shadow-sm"}),e.jsx(Aa,{className:"absolute top-1/2 right-2 transform -translate-y-1/2 h-5 w-5 cursor-pointer text-primary-500"})]}),!c&&e.jsxs(Ye,{children:[e.jsx(Xe,{children:e.jsx(Le,{name:`${n}`,className:" h-8 w-8 outline outline-offset-2 outline-primary-200 "})}),e.jsxs(Ee,{children:[e.jsx(Ze,{children:a?e.jsxs("p",{children:[a==null?void 0:a.firstName," ",a==null?void 0:a.lastName]}):""}),e.jsx(et,{}),e.jsxs(bs,{children:[e.jsx(ue,{children:e.jsx(B,{to:"#",children:"Profile"})}),e.jsx(ue,{onClick:m,children:"Logout"})]})]})]}),e.jsx(y,{variant:"ghost",asChild:!0,size:"icon",className:" text-red-500 hover:text-red-600",children:e.jsx(B,{to:"/emergency-link",children:e.jsx(Da,{className:"h-6 w-6"})})})]})]})})},ko=()=>{const[t,s]=r.useState(!1),{currentPathName:a}=tt(),{loading:o}=Te(),n=()=>{s(!t)};return e.jsx(e.Fragment,{children:!o&&e.jsxs("div",{className:"h-screen flex bg-slate-50",children:[!t&&e.jsx("aside",{className:" md:flex hidden",children:e.jsx(Cs,{})}),e.jsxs("div",{className:" flex flex-col w-full overflow-auto scroll-smooth ",children:[e.jsx("header",{className:" sticky top-0 z-10",children:e.jsx(Ds,{currentPathName:a,showSidebar:()=>{n()}})}),e.jsx("main",{className:" my-3",children:e.jsx(Ke,{})})]})]})})},Co=()=>{const{currentPathName:t}=tt();return e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(Ds,{currentPathName:t})}),e.jsx("div",{className:" container my-10",children:e.jsx(Ke,{})})]})},$o=({...t})=>{const{theme:s="system"}=Ka();return e.jsx(Wa,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-white group-[.toaster]:text-slate-950 group-[.toaster]:border-slate-200 group-[.toaster]:shadow-lg dark:group-[.toaster]:bg-slate-950 dark:group-[.toaster]:text-slate-50 dark:group-[.toaster]:border-slate-800",description:"group-[.toast]:text-slate-500 dark:group-[.toast]:text-slate-400",actionButton:"group-[.toast]:bg-slate-900 group-[.toast]:text-slate-50 dark:group-[.toast]:bg-slate-50 dark:group-[.toast]:text-slate-900",cancelButton:"group-[.toast]:bg-slate-100 group-[.toast]:text-slate-500 dark:group-[.toast]:bg-slate-800 dark:group-[.toast]:text-slate-400"}},...t})},Ao=De({email:U().email({message:"Invalid email address, please try again."}),otp:U().optional(),password:U().optional(),confirmPassword:U().optional()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match.",path:["confirmPassword"]}),Do=()=>{const[t,s]=r.useState(""),[a,o]=r.useState(""),[n,l]=r.useState(!1),[c,i]=r.useState(!1),[m,b]=r.useState(!1),p=Je(),d=Ae({resolver:$e(Ao),defaultValues:{email:"",otp:"",password:"",confirmPassword:""}}),x=async h=>{try{const w=h.email,C=await v.get(`/users/${w}`,{validateStatus:j=>j===200||j===404});if(C.status===404)o("Email not found. Please try again."),s("");else if(C.status===200){const j=await v.post(`/send-otp?email=${h.email}`);s(`We've sent an OTP to your email - ${h.email}`),o(""),l(!0),console.log(j)}else o("Unexpected response status. Please try again."),s("")}catch(w){o("Something went wrong. Please try again."),s(""),console.log(w)}},g=async h=>{try{const w=h.email,C=h.otp,j=await v.post(`/verify-otp?email=${w}&enteredOtp=${C}`,null,{validateStatus:k=>k===200||k===401});console.log(j),j.status===200?(s("OTP verified successfully."),o(""),i(!0)):j.status===401&&(o("OTP verification failed. Please try again."),s(""))}catch(w){o("Something went wrong. Please try again."),s(""),console.error(w)}},N=async h=>{try{const w=h.email,j=(await v.get(`/users/${w}`)).data.id,k={password:h.password,confirmPassword:h.confirmPassword};if(k.password!==k.confirmPassword){o("Passwords do not match. Please try again."),s("");return}else{const $=await v.put(`/reset-password/users/${j}`,k);console.log($),o(""),s("Password changed successfully. Redirecting to login page..."),setTimeout(()=>{p("/login")},3e3),b(!0)}}catch(w){o("Something went wrong. Please try again."),s(""),console.log(w)}};return e.jsx("div",{className:" h-full flex",children:e.jsxs(_,{className:" sm:w-[420px] my-auto mx-auto bg-opacity-95",children:[e.jsxs(se,{children:[e.jsxs(te,{className:" text-primary-500",children:[c?"Change":"Forgot"," password"]}),e.jsx(me,{className:" text-sm text-gray-400",children:c?"Enter your new password":"Enter your email to send an OTP to reset your password."})]}),e.jsx(H,{children:e.jsx(Pe,{...d,children:e.jsxs("form",{className:" space-y-5",onSubmit:c?d.handleSubmit(N):n?d.handleSubmit(g):d.handleSubmit(x),children:[t&&e.jsx(je,{variant:"success",className:" text-xs flex",children:t}),a&&e.jsx(je,{variant:"destructive",className:" text-xs",children:a}),e.jsx(O,{control:d.control,name:"email",render:({field:h})=>e.jsxs(P,{children:[e.jsx(F,{children:e.jsx(D,{type:"email",placeholder:"Email",...h,disabled:d.formState.isSubmitting||n})}),e.jsx(V,{className:" text-xs"})]})}),e.jsx(O,{control:d.control,name:"otp",render:({field:h})=>e.jsxs(P,{children:[e.jsx(F,{children:e.jsx(D,{type:"text",placeholder:"Enter OTP",...h,disabled:d.formState.isSubmitting||!n,className:`${!n||c?"hidden":""}`})}),e.jsx(V,{className:" text-xs"})]})}),e.jsx(O,{name:"password",render:({field:h})=>e.jsxs(P,{children:[e.jsx(F,{children:e.jsx(D,{type:"password",placeholder:"Enter new password",autoComplete:"off",...h,disabled:d.formState.isSubmitting||!c||m,className:`${c?"":"hidden"}`})}),e.jsx(V,{className:" text-xs"})]})}),e.jsx(O,{name:"confirmPassword",render:({field:h})=>e.jsxs(P,{children:[e.jsx(F,{children:e.jsx(D,{type:"password",placeholder:"Confirm new password",autoComplete:"off",...h,disabled:d.formState.isSubmitting||!c||m,className:`${c?"":"hidden"}`})}),e.jsx(V,{className:" text-xs"})]})}),e.jsx(y,{type:"submit",className:" w-full",disabled:d.formState.isSubmitting||!d.formState.isValid||m,children:n?c?"Change password":"Verify OTP":"Send OTP"}),e.jsx("p",{className:" text-sm w-full flex gap-1 justify-center text-slate-400",children:!n&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Return to "}),e.jsxs(B,{to:"/login",className:" text-primary-600 font-semibold hover:underline",children:[" ","Login"]})]})})]})})})]})})};function Ro(){const t=We(),[s,a]=r.useState(!1),{currentPathName:o}=tt();r.useEffect(()=>{const l=()=>{const i=localStorage.getItem("token");if(i){const{exp:m}=JSON.parse(atob(i.split(".")[1]));m*1e3<Date.now()?(a(!0),localStorage.clear()):a(!1)}};l();const c=setInterval(l,1e4);return()=>{clearInterval(c)}},[t,o]);const n=()=>{localStorage.clear(),a(!1)};return s?(console.log("Token has expired"),e.jsx(Q,{open:s,onOpenChange:n,children:e.jsxs(J,{className:" bg-primary-100 bg-opacity-30",children:[e.jsxs(Y,{className:" text-lg flex items-center gap-2",children:[e.jsx(Ra,{className:"text-yellow-500 text-3xl"}),"Session Expired"]}),e.jsx(we,{}),e.jsx(ee,{children:"Your session has expired. Please log in again to continue using WellTalk."}),e.jsx(we,{}),e.jsx(W,{className:"flex justify-end",children:e.jsx(y,{className:" rounded-md",onClick:n,children:"Login Again"})})]})})):e.jsxs(e.Fragment,{children:[e.jsxs(Ja,{children:[e.jsxs(L,{element:e.jsx(jo,{}),children:[e.jsx(L,{path:"/",element:e.jsx(uo,{})}),e.jsx(L,{path:"about",element:e.jsx(Ga,{})}),e.jsx(L,{path:"login",element:e.jsx(Vr,{})}),e.jsx(L,{path:"register",element:e.jsx($r,{})}),e.jsx(L,{path:"forgot-password",element:e.jsx(Do,{})})]}),e.jsx(L,{path:"email-verification",element:e.jsx(Jr,{})}),e.jsx(L,{path:"emergency-link",element:e.jsx(mo,{})}),e.jsxs(L,{element:e.jsx(ko,{}),children:[e.jsx(L,{path:"home",element:e.jsx(re,{userType:"Counselor",component:to})}),e.jsx(L,{path:"dashboard",element:e.jsx(re,{userType:"Counselor",component:Ar})}),e.jsx(L,{path:"students-list",element:e.jsx(re,{userType:"Counselor",component:Or})}),e.jsx(L,{path:"calendar",element:e.jsx(re,{userType:"Counselor",component:ur})}),e.jsx(L,{path:"my-notes",element:e.jsx(re,{userType:"Counselor",component:no})})]}),e.jsx(L,{element:e.jsx(Co,{}),children:e.jsx(L,{path:"student-referral",element:e.jsx(re,{userType:"Teacher",component:Wr})})}),e.jsx(L,{path:"*",element:e.jsx(ho,{})})]}),e.jsx($o,{richColors:!0})]})}Ms.createRoot(document.getElementById("root")).render(e.jsx(Nr,{children:e.jsx(Ea,{children:e.jsx(Ro,{})})}));
